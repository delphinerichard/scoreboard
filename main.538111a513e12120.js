"use strict";(self.webpackChunkscoreboard=self.webpackChunkscoreboard||[]).push([[179],{2011:(at,Te,P)=>{P.d(Te,{Dh:()=>he,GT:()=>me,cc:()=>xe,hO:()=>qe,on:()=>G,pX:()=>te,xv:()=>ce});var a=P(5e3),K=P(127),N=P(5813);at=P.hmd(at);const ae=["ngOnDestroy"],te=(we,Xe,Ze,Ie={})=>new Proxy(we,{get:(ye,be)=>Ze.runOutsideAngular(()=>{var Ge;if(we[be])return(null===(Ge=null==Ie?void 0:Ie.spy)||void 0===Ge?void 0:Ge.get)&&Ie.spy.get(be,we[be]),we[be];if(ae.indexOf(be)>-1)return()=>{};const je=Xe.toPromise().then(ie=>{const W=ie&&ie[be];return"function"==typeof W?W.bind(ie):W&&W.then?W.then(re=>Ze.run(()=>re)):Ze.run(()=>W)});return new Proxy(()=>{},{get:(ie,W)=>je[W],apply:(ie,W,re)=>je.then(ge=>{var se;const Oe=ge&&ge(...re);return(null===(se=null==Ie?void 0:Ie.spy)||void 0===se?void 0:se.apply)&&Ie.spy.apply(be,re,Oe),Oe})})})}),me=(we,Xe)=>{Xe.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(Ie=>{Object.defineProperty(we.prototype,Ie,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,Ie))})})};class Q{constructor(Xe){return Xe}}const he=new a.OlP("angularfire2.app.options"),ce=new a.OlP("angularfire2.app.name");function G(we,Xe,Ze){const ye="object"==typeof Ze&&Ze||{};ye.name=ye.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const Ge=K.Z.apps.filter(je=>je&&je.name===ye.name)[0]||Xe.runOutsideAngular(()=>K.Z.initializeApp(we,ye));try{JSON.stringify(we)!==JSON.stringify(Ge.options)&&$("error",`${Ge.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new Q(Ge)}const $=(we,...Xe)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[we](...Xe)},X={provide:Q,useFactory:G,deps:[he,a.R0b,[new a.FiY,ce]]};let qe=(()=>{class we{constructor(Ze){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",a.q4F.full,Ze.toString())}static initializeApp(Ze,Ie){return{ngModule:we,providers:[{provide:he,useValue:Ze},{provide:ce,useValue:Ie}]}}}return we.\u0275fac=function(Ze){return new(Ze||we)(a.LFG(a.Lbi))},we.\u0275mod=a.oAB({type:we}),we.\u0275inj=a.cJS({providers:[X]}),we})();function xe(we,Xe,Ze,Ie,ye){const[,be,Ge]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===we)||[];if(be)return function Pe(we,Xe){try{return we.toString()===Xe.toString()}catch(Ze){return we===Xe}}(ye,Ge)||(fe("error",`${Xe} was already initialized on the ${Ze} Firebase App with different settings.${Ve?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ye,was:Ge})),be;{const je=Ie();return globalThis.\u0275AngularfireInstanceCache.push([we,je,ye]),je}}const Ve=!!at.hot,fe=(we,...Xe)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[we](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Te,P)=>{P.d(Te,{q4:()=>kc,iC:()=>Fc,HU:()=>Ol,vb:()=>Yu,JM:()=>ho});var a=P(5e3),K=P(5867),N=P(5861),ae=P(9681),te=P(2090),me=P(4859),Q=P(1877);const he="@firebase/installations",$="w:0.5.8",X="FIS_v2",we=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(D){return D instanceof te.ZR&&D.code.includes("request-failed")}function Ze({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Ie(D){return{token:D.token,requestStatus:2,expiresIn:re(D.expiresIn),creationTime:Date.now()}}function ye(D,I){return be.apply(this,arguments)}function be(){return(be=(0,N.Z)(function*(D,I){const L=(yield I.json()).error;return we.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ge({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function je(D,{refreshToken:I}){const k=Ge(D);return k.append("Authorization",function ge(D){return`${X} ${D}`}(I)),k}function ie(D){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function re(D){return Number(D.replace("s","000"))}function se(D,I){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:k}){const L=Ze(D),Z=Ge(D),ne=I.getImmediate({optional:!0});if(ne){const Tt=yield ne.getHeartbeatsHeader();Tt&&Z.append("x-firebase-client",Tt)}const Me={method:"POST",headers:Z,body:JSON.stringify({fid:k,authVersion:X,appId:D.appId,sdkVersion:$})},Qe=yield ie(()=>fetch(L,Me));if(Qe.ok){const Tt=yield Qe.json();return{fid:Tt.fid||k,registrationStatus:2,refreshToken:Tt.refreshToken,authToken:Ie(Tt.authToken)}}throw yield ye("Create Installation",Qe)})).apply(this,arguments)}function le(D){return new Promise(I=>{setTimeout(I,D)})}const Xt=/^[cdef][\w-]{21}$/;function dt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function vt(D){return function It(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Xt.test(k)?k:""}catch(D){return""}}function dn(D){return`${D.appName}!${D.appId}`}const hn=new Map;function xr(D,I){const k=dn(D);en(k,I),function Wt(D,I){const k=function cr(){return!fi&&"BroadcastChannel"in self&&(fi=new BroadcastChannel("[Firebase] FID Change"),fi.onmessage=D=>{en(D.data.key,D.data.fid)}),fi}();k&&k.postMessage({key:D,fid:I}),function Gs(){0===hn.size&&fi&&(fi.close(),fi=null)}()}(k,I)}function en(D,I){const k=hn.get(D);if(k)for(const L of k)L(I)}let fi=null;const Fi="firebase-installations-store";let ds=null;function hs(){return ds||(ds=(0,te.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(Fi)})),ds}function ht(D,I){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,N.Z)(function*(D,I){const k=dn(D),Z=(yield hs()).transaction(Fi,"readwrite"),ne=Z.objectStore(Fi),Ae=yield ne.get(k);return yield ne.put(I,k),yield Z.complete,(!Ae||Ae.fid!==I.fid)&&xr(D,I.fid),I})).apply(this,arguments)}function li(D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,N.Z)(function*(D){const I=dn(D),L=(yield hs()).transaction(Fi,"readwrite");yield L.objectStore(Fi).delete(I),yield L.complete})).apply(this,arguments)}function ur(D,I){return vo.apply(this,arguments)}function vo(){return(vo=(0,N.Z)(function*(D,I){const k=dn(D),Z=(yield hs()).transaction(Fi,"readwrite"),ne=Z.objectStore(Fi),Ae=yield ne.get(k),Me=I(Ae);return void 0===Me?yield ne.delete(k):yield ne.put(Me,k),yield Z.complete,Me&&(!Ae||Ae.fid!==Me.fid)&&xr(D,Me.fid),Me})).apply(this,arguments)}function wn(D){return ci.apply(this,arguments)}function ci(){return(ci=(0,N.Z)(function*(D){let I;const k=yield ur(D.appConfig,L=>{const Z=$s(L),ne=Ra(D,Z);return I=ne.registrationPromise,ne.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function $s(D){return $t(D||{fid:dt(),registrationStatus:0})}function Ra(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(we.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Zt(D,I){return st.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Et(D)}:{installationEntry:I}}function st(){return(st=(0,N.Z)(function*(D,I){try{const k=yield se(D,I);return ht(D.appConfig,k)}catch(k){throw Xe(k)&&409===k.customData.serverCode?yield li(D.appConfig):yield ht(D.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Et(D){return pi.apply(this,arguments)}function pi(){return(pi=(0,N.Z)(function*(D){let I=yield qr(D.appConfig);for(;1===I.registrationStatus;)yield le(100),I=yield qr(D.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield wn(D);return L||k}return I})).apply(this,arguments)}function qr(D){return ur(D,I=>{if(!I)throw we.create("installation-not-found");return $t(I)})}function $t(D){return function bo(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function wi(D,I){return mi.apply(this,arguments)}function mi(){return(mi=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},k){const L=mt(D,k),Z=je(D,k),ne=I.getImmediate({optional:!0});if(ne){const Tt=yield ne.getHeartbeatsHeader();Tt&&Z.append("x-firebase-client",Tt)}const Me={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},Qe=yield ie(()=>fetch(L,Me));if(Qe.ok)return Ie(yield Qe.json());throw yield ye("Generate Auth Token",Qe)})).apply(this,arguments)}function mt(D,{fid:I}){return`${Ze(D)}/${I}/authTokens:generate`}function Ci(D){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,N.Z)(function*(D,I=!1){let k;const L=yield ur(D.appConfig,ne=>{if(!Vt(ne))throw we.create("not-registered");const Ae=ne.authToken;if(!I&&j(Ae))return ne;if(1===Ae.requestStatus)return k=Ye(D,I),ne;{if(!navigator.onLine)throw we.create("app-offline");const Me=z(ne);return k=gt(D,Me),Me}});return k?yield k:L.authToken})).apply(this,arguments)}function Ye(D,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,N.Z)(function*(D,I){let k=yield Ke(D.appConfig);for(;1===k.authToken.requestStatus;)yield le(100),k=yield Ke(D.appConfig);const L=k.authToken;return 0===L.requestStatus?Ci(D,I):L})).apply(this,arguments)}function Ke(D){return ur(D,I=>{if(!Vt(I))throw we.create("not-registered");return function ue(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function gt(D,I){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,N.Z)(function*(D,I){try{const k=yield wi(D,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield ht(D.appConfig,L),k}catch(k){if(!Xe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ht(D.appConfig,L)}else yield li(D.appConfig);throw k}})).apply(this,arguments)}function Vt(D){return void 0!==D&&2===D.registrationStatus}function j(D){return 2===D.requestStatus&&!function B(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function z(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Be(){return(Be=(0,N.Z)(function*(D){const I=D,{installationEntry:k,registrationPromise:L}=yield wn(I);return L?L.catch(console.error):Ci(I).catch(console.error),k.fid})).apply(this,arguments)}function Qt(){return(Qt=(0,N.Z)(function*(D,I=!1){const k=D;return yield Ei(k),(yield Ci(k,I)).token})).apply(this,arguments)}function Ei(D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,N.Z)(function*(D){const{registrationPromise:I}=yield wn(D);I&&(yield I)})).apply(this,arguments)}function Xn(D){return we.create("missing-app-config-values",{valueName:D})}const Pa="installations",Ne=D=>{const I=D.getProvider("app").getImmediate(),k=function fs(D){if(!D||!D.options)throw Xn("App Configuration");if(!D.name)throw Xn("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!D.options[k])throw Xn(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Nt=D=>{const I=D.getProvider("app").getImmediate(),k=(0,ae._getProvider)(I,Pa).getImmediate();return{getId:()=>function J(D){return Be.apply(this,arguments)}(k),getToken:Z=>function bt(D){return Qt.apply(this,arguments)}(k,Z)}};(function mn(){(0,ae._registerComponent)(new me.wA(Pa,Ne,"PUBLIC")),(0,ae._registerComponent)(new me.wA("installations-internal",Nt,"PRIVATE"))})(),(0,ae.registerVersion)(he,"0.5.8"),(0,ae.registerVersion)(he,"0.5.8","esm2017");const gi="@firebase/remote-config",Bn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Su{constructor(I,k,L,Z){this.client=I,this.storage=k,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var k=this;return(0,N.Z)(function*(){const[L,Z]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Z&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const ne=yield k.client.fetch(I),Ae=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ae.push(k.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ae),ne})()}}function xu(D=navigator){return D.languages&&D.languages[0]||D.language}class fl{constructor(I,k,L,Z,ne,Ae){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=Z,this.apiKey=ne,this.appId=Ae}fetch(I){var k=this;return(0,N.Z)(function*(){const[L,Z]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Me={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Qe={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:k.appId,language_code:xu()},Tt={method:"POST",headers:Me,body:JSON.stringify(Qe)},Rt=fetch(Ae,Tt),St=new Promise((yr,Fr)=>{I.signal.addEventListener(()=>{const Po=new Error("The operation was aborted.");Po.name="AbortError",Fr(Po)})});let Wn;try{yield Promise.race([Rt,St]),Wn=yield Rt}catch(yr){let Fr="fetch-client-network";throw"AbortError"===yr.name&&(Fr="fetch-timeout"),Bn.create(Fr,{originalErrorMessage:yr.message})}let Fn=Wn.status;const ha=Wn.headers.get("ETag")||void 0;let Oo,Ui;if(200===Wn.status){let yr;try{yr=yield Wn.json()}catch(Fr){throw Bn.create("fetch-client-parse",{originalErrorMessage:Fr.message})}Oo=yr.entries,Ui=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ui?Fn=500:"NO_CHANGE"===Ui?Fn=304:("NO_TEMPLATE"===Ui||"EMPTY_CONFIG"===Ui)&&(Oo={}),304!==Fn&&200!==Fn)throw Bn.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:ha,config:Oo}})()}}class Vp{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,N.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var Z=this;return(0,N.Z)(function*(){yield function $n(D,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),ne=setTimeout(k,Z);D.addEventListener(()=>{clearTimeout(ne),L(Bn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ne=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Au(D){if(!(D instanceof te.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ne))throw ne;const Ae={throttleEndTimeMillis:Date.now()+(0,te.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Ae),Z.attemptFetch(I,Ae)}})()}}class Mu{constructor(I,k,L,Z,ne){this.app=I,this._client=k,this._storageCache=L,this._storage=Z,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oc(D,I){const k=D.target.error||void 0;return Bn.create(I,{originalErrorMessage:k&&k.message})}const Ys="app_namespace_store";class jp{constructor(I,k,L,Z=function Hp(){return new Promise((D,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(oc(L,"storage-open"))},k.onsuccess=L=>{D(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ys,{keyPath:"compositeKey"})}}catch(k){I(Bn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,N.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,ne)=>{const Me=L.transaction([Ys],"readonly").objectStore(Ys),Qe=k.createCompositeKey(I);try{const Tt=Me.get(Qe);Tt.onerror=Rt=>{ne(oc(Rt,"storage-get"))},Tt.onsuccess=Rt=>{const St=Rt.target.result;Z(St?St.value:void 0)}}catch(Tt){ne(Bn.create("storage-get",{originalErrorMessage:Tt&&Tt.message}))}})})()}set(I,k){var L=this;return(0,N.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ne,Ae)=>{const Qe=Z.transaction([Ys],"readwrite").objectStore(Ys),Tt=L.createCompositeKey(I);try{const Rt=Qe.put({compositeKey:Tt,value:k});Rt.onerror=St=>{Ae(oc(St,"storage-set"))},Rt.onsuccess=()=>{ne()}}catch(Rt){Ae(Bn.create("storage-set",{originalErrorMessage:Rt&&Rt.message}))}})})()}delete(I){var k=this;return(0,N.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,ne)=>{const Me=L.transaction([Ys],"readwrite").objectStore(Ys),Qe=k.createCompositeKey(I);try{const Tt=Me.delete(Qe);Tt.onerror=Rt=>{ne(oc(Rt,"storage-delete"))},Tt.onsuccess=()=>{Z()}}catch(Tt){ne(Bn.create("storage-delete",{originalErrorMessage:Tt&&Tt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Ru{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),ne=yield k;ne&&(I.lastFetchStatus=ne);const Ae=yield L;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Me=yield Z;Me&&(I.activeConfig=Me)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Eo(){return th.apply(this,arguments)}function th(){return(th=(0,N.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}!function ea(){(0,ae._registerComponent)(new me.wA("remote-config",function D(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!(0,te.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ae,appId:Me}=L.options;if(!ne)throw Bn.create("registration-project-id");if(!Ae)throw Bn.create("registration-api-key");if(!Me)throw Bn.create("registration-app-id");const Qe=new jp(Me,L.name,k=k||"firebase"),Tt=new Ru(Qe),Rt=new Q.Yd(gi);Rt.logLevel=Q.in.ERROR;const St=new fl(Z,ae.SDK_VERSION,k,ne,Ae,Me),Wn=new Vp(St,Qe),Fn=new Su(Wn,Qe,Tt,Rt),ha=new Mu(L,Fn,Tt,Qe,Rt);return function Un(D){const I=(0,te.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(ha),ha},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(gi,"0.3.7"),(0,ae.registerVersion)(gi,"0.3.7","esm2017")}();const ac="/firebase-messaging-sw.js",Ks="/firebase-cloud-messaging-push-scope",er="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",Fa="google.c.a.c_l",Ou="google.c.a.ts",Gp="google.c.a.e";var Qs=(()=>{return(D=Qs||(Qs={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Qs;var D})();function hr(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ml(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),Z=new Uint8Array(L.length);for(let ne=0;ne<L.length;++ne)Z[ne]=L.charCodeAt(ne);return Z}const gl="fcm_token_details_db",_i="fcm_token_object_Store";function nh(D){return _l.apply(this,arguments)}function _l(){return _l=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(gl))return null;let I=null;return(yield(0,te.X3)(gl,5,function(){var L=(0,N.Z)(function*(Z,ne,Ae,Me){var Qe;if(ne<2||!Z.objectStoreNames.contains(_i))return;const Tt=Me.objectStore(_i),Rt=yield Tt.index("fcmSenderId").get(D);if(yield Tt.clear(),Rt)if(2===ne){const St=Rt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Qe=St.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:hr(St.vapidKey)}}}else if(3===ne){const St=Rt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:hr(St.auth),p256dh:hr(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:hr(St.vapidKey)}}}else if(4===ne){const St=Rt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:hr(St.auth),p256dh:hr(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:hr(St.vapidKey)}}}});return function(Z,ne,Ae,Me){return L.apply(this,arguments)}}())).close(),yield(0,te.Lj)(gl),yield(0,te.Lj)("fcm_vapid_details_db"),yield(0,te.Lj)("undefined"),Pu(I)?I:null}),_l.apply(this,arguments)}function Pu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ys="firebase-messaging-store";let La=null;function lc(){return La||(La=(0,te.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(ys)})),La}function gn(D){return na.apply(this,arguments)}function na(){return(na=(0,N.Z)(function*(D){const I=Io(D),L=yield(yield lc()).transaction(ys).objectStore(ys).get(I);if(L)return L;{const Z=yield nh(D.appConfig.senderId);if(Z)return yield Js(D,Z),Z}})).apply(this,arguments)}function Js(D,I){return an.apply(this,arguments)}function an(){return(an=(0,N.Z)(function*(D,I){const k=Io(D),Z=(yield lc()).transaction(ys,"readwrite");return yield Z.objectStore(ys).put(I,k),yield Z.complete,I})).apply(this,arguments)}function Nu(D){return To.apply(this,arguments)}function To(){return(To=(0,N.Z)(function*(D){const I=Io(D),L=(yield lc()).transaction(ys,"readwrite");yield L.objectStore(ys).delete(I),yield L.complete})).apply(this,arguments)}function Io({appConfig:D}){return D.appId}const Hn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Va(D,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,N.Z)(function*(D,I){const k=yield eo(D),L=_t(I),Z={method:"POST",headers:k,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(nr(D.appConfig),Z)).json()}catch(Ae){throw Hn.create("token-subscribe-failed",{errorInfo:Ae})}if(ne.error)throw Hn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Hn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Ti(D,I){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*(D,I){const k=yield eo(D),L=_t(I.subscriptionOptions),Z={method:"PATCH",headers:k,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(`${nr(D.appConfig)}/${I.token}`,Z)).json()}catch(Ae){throw Hn.create("token-update-failed",{errorInfo:Ae})}if(ne.error)throw Hn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Hn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function vs(D,I){return bl.apply(this,arguments)}function bl(){return(bl=(0,N.Z)(function*(D,I){const L={method:"DELETE",headers:yield eo(D)};try{const ne=yield(yield fetch(`${nr(D.appConfig)}/${I}`,L)).json();if(ne.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Z){throw Hn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function nr({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function eo(D){return to.apply(this,arguments)}function to(){return(to=(0,N.Z)(function*({appConfig:D,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function _t({p256dh:D,auth:I,endpoint:k,vapidKey:L}){const Z={web:{endpoint:k,auth:I,p256dh:D}};return L!==er&&(Z.web.applicationPubKey=L),Z}const wl=6048e5;function Ba(D){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,N.Z)(function*(D){const I=yield dc(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:hr(I.getKey("auth")),p256dh:hr(I.getKey("p256dh"))},L=yield gn(D.firebaseDependencies);if(L){if(ia(L.subscriptionOptions,k))return Date.now()>=L.createTime+wl?cc(D,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield vs(D.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return De(D.firebaseDependencies,k)}return De(D.firebaseDependencies,k)})).apply(this,arguments)}function El(D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,N.Z)(function*(D){const I=yield gn(D.firebaseDependencies);I&&(yield vs(D.firebaseDependencies,I.token),yield Nu(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function cc(D,I){return uc.apply(this,arguments)}function uc(){return(uc=(0,N.Z)(function*(D,I){try{const k=yield Ti(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Js(D.firebaseDependencies,L),k}catch(k){throw yield El(D),k}})).apply(this,arguments)}function De(D,I){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,N.Z)(function*(D,I){const L={token:yield Va(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Js(D,L),L.token})).apply(this,arguments)}function dc(D,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ml(I)})})).apply(this,arguments)}function ia(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function ra(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ir(D,I){if(!I.notification)return;D.notification={};const k=I.notification.title;k&&(D.notification.title=k);const L=I.notification.body;L&&(D.notification.body=L);const Z=I.notification.image;Z&&(D.notification.image=Z)}(I,D),function hc(D,I){!I.data||(D.data=I.data)}(I,D),function fc(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const k=I.fcmOptions.link;k&&(D.fcmOptions.link=k);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function Fu(D){return"object"==typeof D&&!!D&&Do in D}function pc(D,I){const k=[];for(let L=0;L<D.length;L++)k.push(D.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function no(D){return Hn.create("missing-app-config-values",{valueName:D})}pc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yi{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function Tl(D){if(!D||!D.options)throw no("App Configuration Object");if(!D.name)throw no("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const L of I)if(!k[L])throw no(L);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function fr(D){return Il.apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ac,{scope:Ks}),D.swRegistration.update().catch(()=>{})}catch(I){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function io(D,I){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,N.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield fr(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function mc(D,I){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,N.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=er)})).apply(this,arguments)}function gc(){return(gc=(0,N.Z)(function*(D,I){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield mc(D,null==I?void 0:I.vapidKey),yield io(D,null==I?void 0:I.serviceWorkerRegistration),Ba(D)})).apply(this,arguments)}function Ua(D,I,k){return sa.apply(this,arguments)}function sa(){return(sa=(0,N.Z)(function*(D,I,k){const L=_c(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Do],message_name:k[Fa],message_time:k[Ou],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _c(D){switch(D){case Qs.NOTIFICATION_CLICKED:return"notification_open";case Qs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Lu(){return(Lu=(0,N.Z)(function*(D,I){const k=I.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===Qs.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ra(k)):D.onMessageHandler.next(ra(k)));const L=k.data;Fu(L)&&"1"===L[Gp]&&(yield Ua(D,k.messageType,L))})).apply(this,arguments)}const vc="@firebase/messaging",Vu=D=>{const I=new yi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function yc(D,I){return Lu.apply(this,arguments)}(I,k)),I},xo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function xl(D,I){return gc.apply(this,arguments)}(I,L)}};function Uu(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(){try{yield(0,te.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Bu(){(0,ae._registerComponent)(new me.wA("messaging",Vu,"PUBLIC")),(0,ae._registerComponent)(new me.wA("messaging-internal",xo,"PRIVATE")),(0,ae.registerVersion)(vc,"0.9.12"),(0,ae.registerVersion)(vc,"0.9.12","esm2017")}();const wc="analytics",d_="firebase_id",Ha="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Al="https://www.googletagmanager.com/gtag/js",zn=new Q.Yd("@firebase/analytics");function Hu(D){return Promise.all(D.map(I=>I.catch(k=>k)))}function $p(D,I){const k=document.createElement("script");k.src=`${Al}?l=${D}&id=${I}`,k.async=!0,document.head.appendChild(k)}function oa(D,I,k,L,Z,ne){return ju.apply(this,arguments)}function ju(){return(ju=(0,N.Z)(function*(D,I,k,L,Z,ne){const Ae=L[Z];try{if(Ae)yield I[Ae];else{const Qe=(yield Hu(k)).find(Tt=>Tt.measurementId===Z);Qe&&(yield I[Qe.appId])}}catch(Me){zn.error(Me)}D("config",Z,ne)})).apply(this,arguments)}function Ec(D,I,k,L,Z){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,N.Z)(function*(D,I,k,L,Z){try{let ne=[];if(Z&&Z.send_to){let Ae=Z.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Me=yield Hu(k);for(const Qe of Ae){const Tt=Me.find(St=>St.measurementId===Qe),Rt=Tt&&I[Tt.appId];if(!Rt){ne=[];break}ne.push(Rt)}}0===ne.length&&(ne=Object.values(I)),yield Promise.all(ne),D("event",L,Z||{})}catch(ne){zn.error(ne)}})).apply(this,arguments)}function zp(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(Al))return I;return null}const jn=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qn=new class Si{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function aa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function $u(D){return _n.apply(this,arguments)}function _n(){return(_n=(0,N.Z)(function*(D){var I;const{appId:k,apiKey:L}=D,Z={method:"GET",headers:aa(L)},ne=Ha.replace("{app-id}",k),Ae=yield fetch(ne,Z);if(200!==Ae.status&&304!==Ae.status){let Me="";try{const Qe=yield Ae.json();(null===(I=Qe.error)||void 0===I?void 0:I.message)&&(Me=Qe.error.message)}catch(Qe){}throw jn.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Me})}return Ae.json()})).apply(this,arguments)}function rh(D){return kr.apply(this,arguments)}function kr(){return(kr=(0,N.Z)(function*(D,I=qn,k){const{appId:L,apiKey:Z,measurementId:ne}=D.options;if(!L)throw jn.create("no-app-id");if(!Z){if(ne)return{measurementId:ne,appId:L};throw jn.create("no-api-key")}const Ae=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new Tc;return setTimeout((0,N.Z)(function*(){Me.abort()}),void 0!==k?k:6e4),Ml({appId:L,apiKey:Z,measurementId:ne},Ae,Me,I)})).apply(this,arguments)}function Ml(D,I,k){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:k},L,Z=qn){const{appId:ne,measurementId:Ae}=D;try{yield wt(L,I)}catch(Me){if(Ae)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ne,measurementId:Ae};throw Me}try{const Me=yield $u(D);return Z.deleteThrottleMetadata(ne),Me}catch(Me){if(!zu(Me)){if(Z.deleteThrottleMetadata(ne),Ae)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ne,measurementId:Ae};throw Me}const Qe=503===Number(Me.customData.httpStatus)?(0,te.$s)(k,Z.intervalMillis,30):(0,te.$s)(k,Z.intervalMillis),Tt={throttleEndTimeMillis:Date.now()+Qe,backoffCount:k+1};return Z.setThrottleMetadata(ne,Tt),zn.debug(`Calling attemptFetch again in ${Qe} millis`),Ml(D,Tt,L,Z)}})).apply(this,arguments)}function wt(D,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),ne=setTimeout(k,Z);D.addEventListener(()=>{clearTimeout(ne),L(jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function zu(D){if(!(D instanceof te.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Tc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ic(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*(){if(!(0,te.hl)())return zn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(D){return zn.warn(jn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Cs(){return(Cs=(0,N.Z)(function*(D,I,k,L,Z,ne,Ae){var Me;const Qe=rh(D);Qe.then(Fn=>{k[Fn.measurementId]=Fn.appId,D.options.measurementId&&Fn.measurementId!==D.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>zn.error(Fn)),I.push(Qe);const Tt=Ic().then(Fn=>{if(Fn)return L.getId()}),[Rt,St]=yield Promise.all([Qe,Tt]);zp()||$p(ne,Rt.measurementId),Z("js",new Date);const Wn=null!==(Me=null==Ae?void 0:Ae.config)&&void 0!==Me?Me:{};return Wn.origin="firebase",Wn.update=!0,null!=St&&(Wn[d_]=St),Z("config",Rt.measurementId,Wn),Rt.measurementId})).apply(this,arguments)}class la{constructor(I){this.app=I}_delete(){return delete mr[this.app.options.appId],Promise.resolve()}}let mr={},oo=[];const Bi={};let ao,Yr,Rr="dataLayer",xc=!1;function rr(D,I,k){!function Es(){const D=[];if((0,te.ru)()&&D.push("This is a browser extension environment."),(0,te.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),k=jn.create("invalid-analytics-context",{errorInfo:I});zn.warn(k.message)}}();const L=D.options.appId;if(!L)throw jn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw jn.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mr[L])throw jn.create("already-exists",{id:L});if(!xc){!function ws(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(Rr);const{wrappedGtag:ne,gtagCore:Ae}=function Gu(D,I,k,L,Z){let ne=function(...Ae){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ne=window[Z]),window[Z]=function Dc(D,I,k,L){function ne(){return(ne=(0,N.Z)(function*(Ae,Me,Qe){try{"event"===Ae?yield Ec(D,I,k,Me,Qe):"config"===Ae?yield oa(D,I,k,L,Me,Qe):D("set",Me)}catch(Tt){zn.error(Tt)}})).apply(this,arguments)}return function Z(Ae,Me,Qe){return ne.apply(this,arguments)}}(ne,D,I,k),{gtagCore:ne,wrappedGtag:window[Z]}}(mr,oo,Bi,Rr,"gtag");Yr=ne,ao=Ae,xc=!0}return mr[L]=function En(D,I,k,L,Z,ne,Ae){return Cs.apply(this,arguments)}(D,oo,Bi,I,ao,Rr,k),new la(D)}function Sn(){return(Sn=(0,N.Z)(function*(D,I,k,L,Z){if(Z&&Z.global)D("event",k,L);else{const ne=yield I;D("event",k,Object.assign(Object.assign({},L),{send_to:ne}))}})).apply(this,arguments)}function An(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}const co="@firebase/analytics";!function sh(){(0,ae._registerComponent)(new me.wA(wc,(I,{options:k})=>rr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ae._registerComponent)(new me.wA("analytics-internal",function D(I){try{const k=I.getProvider(wc).getImmediate();return{logEvent:(L,Z,ne)=>function Zp(D,I,k,L){D=(0,te.m9)(D),function lo(D,I,k,L,Z){return Sn.apply(this,arguments)}(Yr,mr[D.app.options.appId],I,k,L).catch(Z=>zn.error(Z))}(k,L,Z,ne)}}catch(k){throw jn.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ae.registerVersion)(co,"0.7.8"),(0,ae.registerVersion)(co,"0.7.8","esm2017")}();var uo=P(4408),kl=P(7565);const Ac=new class Mn extends kl.v{}(class Ts extends uo.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):I.flush(this)}});var Yp=P(4986),Mc=P(8505),Ai=P(9468),gr=P(5363);const kc=new a.GfV("7.3.0"),Is="__angularfire_symbol__analyticsIsSupportedValue",Nr="__angularfire_symbol__analyticsIsSupported",Kr="__angularfire_symbol__remoteConfigIsSupportedValue",ja="__angularfire_symbol__remoteConfigIsSupported",Rc="__angularfire_symbol__messagingIsSupportedValue",Oc="__angularfire_symbol__messagingIsSupported";function ho(D,I,k){if(I){if(1===I.length)return I[0];const ne=I.filter(Ae=>Ae.app===k);if(1===ne.length)return ne[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Nr]||(globalThis[Nr]=An().then(D=>globalThis[Is]=D).catch(()=>globalThis[Is]=!1)),globalThis[Oc]||(globalThis[Oc]=Uu().then(D=>globalThis[Rc]=D).catch(()=>globalThis[Rc]=!1)),globalThis[ja]||(globalThis[ja]=Eo().then(D=>globalThis[Kr]=D).catch(()=>globalThis[Kr]=!1));const Yu=(D,I)=>{const k=I?[I]:(0,K.C6)(),L=[];return k.forEach(Z=>{Z.container.getProvider(D).instances.forEach(Ae=>{L.includes(Ae)||L.push(Ae)})}),L};function ko(){}class Rl{constructor(I,k=Ac){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const Z=this.zone;return this.delegate.schedule(function(Ae){Z.runGuarded(()=>{I.apply(this,[Ae])})},k,L)}}class Qr{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),k.pipe((0,Mc.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ol=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Rl(Zone.current)),this.insideAngular=k.run(()=>new Rl(Zone.current,Yp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(a.LFG(a.R0b))},D.\u0275prov=a.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Jr(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Fc(D){return Jr(),function Ro(D){return function(k){return(k=k.lift(new Qr(D.ngZone))).pipe((0,Ai.R)(D.outsideAngular),(0,gr.Q)(D.insideAngular))}}(Jr())(D)}},2090:(at,Te,P)=>{P.d(Te,{$s:()=>bo,BH:()=>xe,G6:()=>ie,L:()=>ce,LL:()=>It,Lj:()=>Ht,Mn:()=>Ge,Sg:()=>Pe,UG:()=>we,US:()=>Q,X3:()=>gt,ZB:()=>X,ZR:()=>le,b$:()=>Ie,d:()=>ye,eu:()=>re,hl:()=>W,jU:()=>Xe,m9:()=>mt,ne:()=>ht,pd:()=>ds,r3:()=>en,ru:()=>Ze,tV:()=>G,uI:()=>fe,vZ:()=>Gs,w1:()=>be,xO:()=>zr,xb:()=>fi,z$:()=>Ve,zI:()=>ge,zd:()=>Fi});var a=P(5861);const te=function(j){const B=[];let z=0;for(let ue=0;ue<j.length;ue++){let J=j.charCodeAt(ue);J<128?B[z++]=J:J<2048?(B[z++]=J>>6|192,B[z++]=63&J|128):55296==(64512&J)&&ue+1<j.length&&56320==(64512&j.charCodeAt(ue+1))?(J=65536+((1023&J)<<10)+(1023&j.charCodeAt(++ue)),B[z++]=J>>18|240,B[z++]=J>>12&63|128,B[z++]=J>>6&63|128,B[z++]=63&J|128):(B[z++]=J>>12|224,B[z++]=J>>6&63|128,B[z++]=63&J|128)}return B},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,B){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let J=0;J<j.length;J+=3){const Be=j[J],bt=J+1<j.length,Qt=bt?j[J+1]:0,Ei=J+2<j.length,Yt=Ei?j[J+2]:0;let pn=(15&Qt)<<2|Yt>>6,ui=63&Yt;Ei||(ui=64,bt||(pn=64)),ue.push(z[Be>>2],z[(3&Be)<<4|Qt>>4],z[pn],z[ui])}return ue.join("")},encodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(j):this.encodeByteArray(te(j),B)},decodeString(j,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(j):function(j){const B=[];let z=0,ue=0;for(;z<j.length;){const J=j[z++];if(J<128)B[ue++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=j[z++];B[ue++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const Ei=((7&J)<<18|(63&j[z++])<<12|(63&j[z++])<<6|63&j[z++])-65536;B[ue++]=String.fromCharCode(55296+(Ei>>10)),B[ue++]=String.fromCharCode(56320+(1023&Ei))}else{const Be=j[z++],bt=j[z++];B[ue++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&bt)}}return B.join("")}(this.decodeStringToByteArray(j,B))},decodeStringToByteArray(j,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let J=0;J<j.length;){const Be=z[j.charAt(J++)],Qt=J<j.length?z[j.charAt(J)]:0;++J;const Yt=J<j.length?z[j.charAt(J)]:64;++J;const Pt=J<j.length?z[j.charAt(J)]:64;if(++J,null==Be||null==Qt||null==Yt||null==Pt)throw Error();ue.push(Be<<2|Qt>>4),64!==Yt&&(ue.push(Qt<<4&240|Yt>>2),64!==Pt&&ue.push(Yt<<6&192|Pt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},ce=function(j){return function(j){const B=te(j);return Q.encodeByteArray(B,!0)}(j).replace(/\./g,"")},G=function(j){try{return Q.decodeString(j,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function X(j,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!qe(z)||(j[z]=X(j[z],B[z]));return j}function qe(j){return"__proto__"!==j}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,ue)=>{z?this.reject(z):this.resolve(ue),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,ue))}}}function Pe(j,B){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=B||"demo-project",J=j.iat||0,Be=j.sub||j.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const bt=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(bt)),""].join(".")}function Ve(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function Ze(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return Ve().indexOf("Electron/")>=0}function be(){const j=Ve();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Ge(){return Ve().indexOf("MSAppHost/")>=0}function ie(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function re(){return new Promise((j,B)=>{try{let z=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ue);J.onsuccess=()=>{J.result.close(),z||self.indexedDB.deleteDatabase(ue),j(!0)},J.onupgradeneeded=()=>{z=!1},J.onerror=()=>{var Be;B((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch(z){B(z)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(B,z,ue){super(z),this.code=B,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(B,z,ue){this.service=B,this.serviceName=z,this.errors=ue}create(B,...z){const ue=z[0]||{},J=`${this.service}/${B}`,Be=this.errors[B],bt=Be?function Xt(j,B){return j.replace(Vn,(z,ue)=>{const J=B[ue];return null!=J?String(J):`<${ue}?>`})}(Be,ue):"Error";return new le(J,`${this.serviceName}: ${bt} (${J}).`,ue)}}const Vn=/\{\$([^}]+)}/g;function en(j,B){return Object.prototype.hasOwnProperty.call(j,B)}function fi(j){for(const B in j)if(Object.prototype.hasOwnProperty.call(j,B))return!1;return!0}function Gs(j,B){if(j===B)return!0;const z=Object.keys(j),ue=Object.keys(B);for(const J of z){if(!ue.includes(J))return!1;const Be=j[J],bt=B[J];if(Ni(Be)&&Ni(bt)){if(!Gs(Be,bt))return!1}else if(Be!==bt)return!1}for(const J of ue)if(!z.includes(J))return!1;return!0}function Ni(j){return null!==j&&"object"==typeof j}function zr(j){const B=[];for(const[z,ue]of Object.entries(j))Array.isArray(ue)?ue.forEach(J=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(J))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(ue));return B.length?"&"+B.join("&"):""}function Fi(j){const B={};return j.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[J,Be]=ue.split("=");B[decodeURIComponent(J)]=decodeURIComponent(Be)}}),B}function ds(j){const B=j.indexOf("?");if(!B)return"";const z=j.indexOf("#",B);return j.substring(B,z>0?z:void 0)}function ht(j,B){const z=new Qi(j,B);return z.subscribe.bind(z)}class Qi{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(ue=>{this.error(ue)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,ue){let J;if(void 0===B&&void 0===z&&void 0===ue)throw new Error("Missing Observer.");J=function Jn(j,B){if("object"!=typeof j||null===j)return!1;for(const z of B)if(z in j&&"function"==typeof j[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:ue},void 0===J.next&&(J.next=ur),void 0===J.error&&(J.error=ur),void 0===J.complete&&(J.complete=ur);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(bt){}}),this.observers.push(J),Be}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ur(){}function bo(j,B=1e3,z=2){const ue=B*Math.pow(z,j),J=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+J)}function mt(j){return j&&j._delegate?j._delegate:j}function Ci(j,B){return new Promise((z,ue)=>{j.onsuccess=J=>{z(J.target.result)},j.onerror=J=>{var Be;ue(`${B}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ut{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,z="readonly"){return new Ye(this._db.transaction.call(this._db,B,z))}createObjectStore(B,z){return new Se(this._db.createObjectStore(B,z))}close(){this._db.close()}}class Ye{constructor(B){this._transaction=B,this.complete=new Promise((z,ue)=>{this._transaction.oncomplete=function(){z()},this._transaction.onerror=()=>{ue(this._transaction.error)},this._transaction.onabort=()=>{ue(this._transaction.error)}})}objectStore(B){return new Se(this._transaction.objectStore(B))}}class Se{constructor(B){this._store=B}index(B){return new Ke(this._store.index(B))}createIndex(B,z,ue){return new Ke(this._store.createIndex(B,z,ue))}get(B){return Ci(this._store.get(B),"Error reading from IndexedDB")}put(B,z){return Ci(this._store.put(B,z),"Error writing to IndexedDB")}delete(B){return Ci(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Ci(this._store.clear(),"Error clearing IndexedDB object store")}}class Ke{constructor(B){this._index=B}get(B){return Ci(this._index.get(B),"Error reading from IndexedDB")}}function gt(j,B,z){return new Promise((ue,J)=>{try{const Be=indexedDB.open(j,B);Be.onsuccess=bt=>{ue(new Ut(bt.target.result))},Be.onerror=bt=>{var Qt;J(`Error opening indexedDB: ${null===(Qt=bt.target.error)||void 0===Qt?void 0:Qt.message}`)},Be.onupgradeneeded=bt=>{z(new Ut(Be.result),bt.oldVersion,bt.newVersion,new Ye(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function Ht(j){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(j){return new Promise((B,z)=>{try{const ue=indexedDB.deleteDatabase(j);ue.onsuccess=()=>{B()},ue.onerror=J=>{var Be;z(`Error deleting indexedDB database "${j}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(ue){z(`Error deleting indexedDB database "${j}": ${ue.message}`)}})})).apply(this,arguments)}},8913:(at,Te,P)=>{var a=P(5e3);let K=null;function N(){return K}const Q=new a.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ce(){return(0,a.LFG)($)}()},providedIn:"platform"}),n})();const G=new a.OlP("Location Initialized");let $=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){X()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){X()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function qe(){return new $((0,a.LFG)(Q))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Pe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ve(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function we(n){const t=(0,a.LFG)(Q).location;return new Ze((0,a.LFG)(he),t&&t.origin||"")}()},providedIn:"root"}),n})();const Xe=new a.OlP("appBaseHref");let Ze=(()=>{class n extends fe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ve(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const u=this.prepareExternalUrl(r+Ve(l));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){const u=this.prepareExternalUrl(r+Ve(l));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(he),a.LFG(Xe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n extends fe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let u=this.prepareExternalUrl(r+Ve(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,l){let u=this.prepareExternalUrl(r+Ve(l));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(he),a.LFG(Xe,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(e,i){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Pe(je(r)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ve(i))}normalize(e){return n.stripTrailingSlash(function Ge(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,je(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ve(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ve,n.joinWithSlash=xe,n.stripTrailingSlash=Pe,n.\u0275fac=function(e){return new(e||n)(a.LFG(fe),a.LFG(he))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function be(){return new ye((0,a.LFG)(fe),(0,a.LFG)(he))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}function Co(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}let ps=(()=>{class n{constructor(e,i,r,l){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ws{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ei=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,l,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Ws(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===l?void 0:l);else if(null!==l){const f=i.get(l);i.move(f,u),ms(f,r)}});for(let r=0,l=i.length;r<l;r++){const f=i.get(r).context;f.index=r,f.count=l,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ms(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ms(n,t){n.context.$implicit=t.item}let Un=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new on,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ul("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ul("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class on{constructor(){this.$implicit=null,this.ngIf=null}}function ul(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class dl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ji=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Li=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new dl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ji,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),sc=(()=>{class n{constructor(e,i,r){r._addDefault(new dl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ji,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),tr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Qs="browser";function _i(n){return"server"===n}let yl=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new vl((0,a.LFG)(Q),window)}),n})();class vl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function La(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const u=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ys(this.window.history)||ys(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ys(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gn{}class Js extends class na extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){K||(K=n)}(new Js)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Nu(){return an=an||document.querySelector("base"),an?an.getAttribute("href"):null}();return null==e?null:function Io(n){To=To||document.createElement("a"),To.setAttribute("href",n);const t=To.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){an=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Co(document.cookie,t)}}let To,an=null;const Di=new a.OlP("TRANSITION_ID"),Va=[{provide:a.ip1,useFactory:function Hn(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<r.length;l++)i.remove(r[l])})}},deps:[Di,Q,a.zs3],multi:!0}];class Ar{static init(){(0,a.VLi)(new Ar)}addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const l=t.findTestabilityInTree(i,r);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let l=r.length,u=!1;const f=function(_){u=u||_,l--,0==l&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Ti=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new a.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let l=0;l<r.length;l++){const u=r[l];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xs),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class bl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let nr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),eo=(()=>{class n extends nr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(l=>{const u=this._doc.createElement("style");u.textContent=l,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(to),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(to))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function to(n){N().remove(n)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},wl=/%COMP%/g;function De(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?De(n,r,e):(r=r.replace(wl,n),e.push(r))}return e}function Bt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Cn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ia(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new hc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=De(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vs),a.LFG(eo),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class ia{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(_t[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=_t[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=_t[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Bt(i)):this.eventManager.addEventListener(t,e,Bt(i))}}class hc extends ia{constructor(t,e,i,r){super(t),this.component=i;const l=De(r+"-"+i.id,i.styles,[]);e.addStyles(l),this.contentAttr=function cc(n){return"_ngcontent-%COMP%".replace(wl,n)}(r+"-"+i.id),this.hostAttr=function uc(n){return"_nghost-%COMP%".replace(wl,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class fc extends ia{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=De(r.id,r.styles,[]);for(let u=0;u<l.length;u++){const f=document.createElement("style");f.textContent=l[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Fu=(()=>{class n extends bl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const pc=["alt","control","meta","shift"],no={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Il=(()=>{class n extends bl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),u=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,l.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let u="";if(pc.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=l,0!=i.length||0===l.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function io(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&yi.hasOwnProperty(t)&&(t=yi[t]))}return no[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pc.forEach(l=>{l!=r&&fr[l](e)&&(i+=l+".")}),i+=r,i}static eventCallback(e,i,r){return l=>{n.getEventFullKey(l)===e&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Qs},{provide:a.g9A,useValue:function Mr(){Js.makeCurrent(),Ar.init()},multi:!0},{provide:Q,useFactory:function Sl(){return(0,a.RDi)(document),document},deps:[]}]),Ua=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function mc(){return new a.qLn},deps:[]},{provide:Xs,useClass:Fu,multi:!0,deps:[Q,a.R0b,a.Lbi]},{provide:Xs,useClass:Il,multi:!0,deps:[Q]},{provide:Cn,useClass:Cn,deps:[vs,eo,a.AFp]},{provide:a.FYo,useExisting:Cn},{provide:nr,useExisting:eo},{provide:eo,useClass:eo,deps:[Q]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:vs,useClass:vs,deps:[Xs,a.R0b]},{provide:gn,useClass:Ti,deps:[]}];let sa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Di,useExisting:a.AFp},Va]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Ua,imports:[tr,a.hGG]}),n})();"undefined"!=typeof window&&window;let Zr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(Gu),i},providedIn:"root"}),n})(),Gu=(()=>{class n extends Zr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(i),(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Dc(n){return new Gu(n.get(Q))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();var On=P(8996),jn=P(3269);function et(...n){const t=(0,jn.yG)(n);return(0,On.D)(n,t)}var lt=P(7579);class Si extends lt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var qn=P(8306);const{isArray:aa}=Array,{getPrototypeOf:$u,prototype:_n,keys:rh}=Object;function kr(n){if(1===n.length){const t=n[0];if(aa(t))return{args:t,keys:null};if(function Ml(n){return n&&"object"==typeof n&&$u(n)===_n}(t)){const e=rh(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var pr=P(4671),wt=P(4004);const{isArray:zu}=Array;function Ic(n){return(0,wt.U)(t=>function Tc(n,t){return zu(t)?n(...t):n(t)}(n,t))}function Mo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var En=P(5403),Cs=P(9672);function oo(n,t,e){n?(0,Cs.f)(e,n,t):t()}var Bi=P(576);function Rr(n,t){const e=(0,Bi.m)(n)?n:()=>n,i=r=>r.error(e());return new qn.y(t?r=>t.schedule(i,0,r):i)}const ao=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Yr=P(8189);function qu(...n){return function xc(){return(0,Yr.J)(1)}()((0,On.D)(n,(0,jn.yG)(n)))}var Es=P(8421);function rr(n){return new qn.y(t=>{(0,Es.Xf)(n()).subscribe(t)})}var lo=P(515),Sn=P(727),ti=P(4482);function Or(){return(0,ti.e)((n,t)=>{let e=null;n._refCount++;const i=(0,En.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Wu extends qn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ti.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Sn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,En.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Sn.w0.EMPTY)}return t}refCount(){return Or()(this)}}function xn(n,t){return(0,ti.e)((e,i)=>{let r=null,l=0,u=!1;const f=()=>u&&!r&&i.complete();e.subscribe((0,En.x)(i,_=>{null==r||r.unsubscribe();let b=0;const T=l++;(0,Es.Xf)(n(_,T)).subscribe(r=(0,En.x)(i,A=>i.next(t?t(_,A,T,b++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Pn=P(5698);function Tn(...n){const t=(0,jn.yG)(n);return(0,ti.e)((e,i)=>{(t?qu(n,e,t):qu(n,e)).subscribe(i)})}function ca(n,t,e,i,r){return(l,u)=>{let f=e,_=t,b=0;l.subscribe((0,En.x)(u,T=>{const A=b++;_=f?n(_,T,A):(f=!0,T),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function xi(n,t){return(0,ti.e)(ca(n,t,arguments.length>=2,!0))}function In(n,t){return(0,ti.e)((e,i)=>{let r=0;e.subscribe((0,En.x)(i,l=>n.call(t,l,r++)&&i.next(l)))})}function Pr(n){return(0,ti.e)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,En.x)(e,void 0,void 0,u=>{l=(0,Es.Xf)(n(u,Pr(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}var An=P(5577);function Ds(n,t){return(0,Bi.m)(t)?(0,An.z)(n,t,1):(0,An.z)(n,1)}function Zu(n){return n<=0?()=>lo.E:(0,ti.e)((t,e)=>{let i=[];t.subscribe((0,En.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Nn(n=qp){return(0,ti.e)((t,e)=>{let i=!1;t.subscribe((0,En.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function qp(){return new ao}function Wp(n){return(0,ti.e)((t,e)=>{let i=!1;t.subscribe((0,En.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function co(n,t){const e=arguments.length>=2;return i=>i.pipe(n?In((r,l)=>n(r,l,i)):pr.y,(0,Pn.q)(1),e?Wp(t):Nn(()=>new ao))}var di=P(8505);function sh(n){return(0,ti.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class uo{constructor(t,e){this.id=t,this.url=e}}class Ts extends uo{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kl extends uo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mn extends uo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ac extends uo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ua extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yp extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mc extends uo{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ai extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gr extends uo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Is{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Pc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ni(n){return new Pc(n)}const Nc="ngNavigationCancelingError";function ho(n){const t=Error("NavigationCancelingError: "+n);return t[Nc]=!0,t}function ko(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const u=i[l],f=n[l];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Qr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!Ol(n[r],t[r]))return!1;return!0}function Ol(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function Jr(n){return Array.prototype.concat.apply([],n)}function Ku(n){return n.length>0?n[n.length-1]:null}function ii(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function _r(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,On.D)(Promise.resolve(n)):et(n)}const Ro={exact:function I(n,t,e){if(!Rt(n.segments,t.segments)||!ne(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!I(n.children[i],t.children[i],e))return!1;return!0},subset:L},da={exact:function D(n,t){return Qr(n,t)},subset:function k(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ol(n[e],t[e]))},ignored:()=>!0};function Pl(n,t,e){return Ro[e.paths](n.root,t.root,e.matrixParams)&&da[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function L(n,t,e){return Z(n,t,t.segments,e)}function Z(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Rt(r,e)||t.hasChildren()||!ne(r,e,i))}if(n.segments.length===e.length){if(!Rt(n.segments,e)||!ne(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!L(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(Rt(n.segments,r)&&ne(n.segments,r,i)&&n.children[Ft])&&Z(n.children[Ft],t,l,i)}}function ne(n,t,e){return t.every((i,r)=>da[e](n[r].parameters,i.parameters))}class Ae{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ni(this.queryParams)),this._queryParamMap}toString(){return ha.serialize(this)}}class Me{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ii(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oo(this)}}class Qe{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ni(this.parameters)),this._parameterMap}toString(){return Ga(this)}}function Rt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Wn{}class Fn{parse(t){const e=new Ju(t);return new Ae(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ui(t.root,!0)}`,i=function h_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Fr(e)}=${Fr(r)}`).join("&"):`${Fr(e)}=${Fr(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Po(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ha=new Fn;function Oo(n){return n.segments.map(t=>Ga(t)).join("/")}function Ui(n,t){if(!n.hasChildren())return Oo(n);if(t){const e=n.children[Ft]?Ui(n.children[Ft],!1):"",i=[];return ii(n.children,(r,l)=>{l!==Ft&&i.push(`${l}:${Ui(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function St(n,t){let e=[];return ii(n.children,(i,r)=>{r===Ft&&(e=e.concat(t(i,r)))}),ii(n.children,(i,r)=>{r!==Ft&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ft?[Ui(n.children[Ft],!1)]:[`${r}:${Ui(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Oo(n)}/${e[0]}`:`${Oo(n)}/(${e.join("//")})`}}function yr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(n){return yr(n).replace(/%3B/gi,";")}function Qu(n){return yr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lc(n){return decodeURIComponent(n)}function Vc(n){return Lc(n.replace(/\+/g,"%20"))}function Ga(n){return`${Qu(n.path)}${function Kp(n){return Object.keys(n).map(t=>`;${Qu(t)}=${Qu(n[t])}`).join("")}(n.parameters)}`}const f_=/^[^\/()?;=#]+/;function Ss(n){const t=n.match(f_);return t?t[0]:""}const Bc=/^[^=?&#]+/,m_=/^[^&#]+/;class Ju{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new Me(t,e)),i}parseSegment(){const t=Ss(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Qe(Lc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ss(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ss(this.remaining);r&&(i=r,this.capture(i))}t[Lc(e)]=Lc(i)}parseQueryParam(t){const e=function p_(n){const t=n.match(Bc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Qp(n){const t=n.match(m_);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Vc(e),l=Vc(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ss(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let l;i.indexOf(":")>-1?(l=i.substr(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=Ft);const u=this.parseChildren();e[l]=1===Object.keys(u).length?u[Ft]:new Me([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class g_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=oh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=oh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ah(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ah(t,this._root).map(e=>e.value)}}function oh(n,t){if(n===t.value)return t;for(const e of t.children){const i=oh(n,e);if(i)return i}return null}function ah(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ah(n,e);if(i.length)return i.unshift(t),i}return[]}class No{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Xu extends g_{constructor(t,e){super(t),this.snapshot=e,td(this,t)}toString(){return this.snapshot.toString()}}function $a(n,t){const e=function __(n,t){const u=new Nl([],{},{},"",{},Ft,t,null,n.root,-1,{});return new lh("",new No(u,[]))}(n,t),i=new Si([new Qe("",{})]),r=new Si({}),l=new Si({}),u=new Si({}),f=new Si(""),_=new fa(i,r,u,f,l,Ft,t,e.root);return _.snapshot=e.root,new Xu(new No(_,[]),e)}class fa{constructor(t,e,i,r,l,u,f,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(t=>ni(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(t=>ni(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function y_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],l=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(l.component)break;i--}}return function ed(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Nl{constructor(t,e,i,r,l,u,f,_,b,T,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ni(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ni(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lh extends g_{constructor(t,e){super(e),this.url=t,td(this,e)}toString(){return nd(this._root)}}function td(n,t){t.value._routerState=n,t.children.forEach(e=>td(n,e))}function nd(n){const t=n.children.length>0?` { ${n.children.map(nd).join(", ")} } `:"";return`${n.value}${t}`}function Lo(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Qr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Qr(t.params,e.params)||n.params.next(e.params),function Rl(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Qr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Qr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ch(n,t){const e=Qr(n.params,t.params)&&function Tt(n,t){return Rt(n,t)&&n.every((e,i)=>Qr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ch(n.parent,t.parent))}function Uc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function uh(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Uc(n,i,r);return Uc(n,i)})}(n,t,e);return new No(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const u=l.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>Uc(n,f)),u}}const i=function b_(n){return new fa(new Si(n.url),new Si(n.params),new Si(n.queryParams),new Si(n.fragment),new Si(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>Uc(n,l));return new No(i,r)}}function Vo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function za(n){return"object"==typeof n&&null!=n&&n.outlets}function dh(n,t,e,i,r){let l={};if(i&&ii(i,(f,_)=>{l[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===t)return new Ae(e,l,r);const u=id(n,t,e);return new Ae(u,l,r)}function id(n,t,e){const i={};return ii(n.children,(r,l)=>{i[l]=r===t?e:id(r,t,e)}),new Me(n.segments,i)}class Jp{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Vo(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(za);if(r&&r!==Ku(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class rd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function E_(n,t,e){if(n||(n=new Me([],{})),0===n.segments.length&&n.hasChildren())return fo(n,t,e);const i=function m0(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const u=n.segments[r],f=e[i];if(za(f))break;const _=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Lr(_,b,u))return l;i+=2}else{if(!Lr(_,{},u))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Me(n.segments.slice(0,i.pathIndex),{});return l.children[Ft]=new Me(n.segments.slice(i.pathIndex),n.children),fo(l,0,r)}return i.match&&0===r.length?new Me(n.segments,{}):i.match&&!n.hasChildren()?hh(n,t,e):i.match?fo(n,0,r):hh(n,t,e)}function fo(n,t,e){if(0===e.length)return new Me(n.segments,{});{const i=function C_(n){return za(n[0])?n[0].outlets:{[Ft]:n}}(e),r={};return ii(i,(l,u)=>{"string"==typeof l&&(l=[l]),null!==l&&(r[u]=E_(n.children[u],t,l))}),ii(n.children,(l,u)=>{void 0===i[u]&&(r[u]=l)}),new Me(n.segments,r)}}function hh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(za(l)){const _=qa(l.outlets);return new Me(i,_)}if(0===r&&Vo(e[0])){i.push(new Qe(n.segments[t].path,fh(e[0]))),r++;continue}const u=za(l)?l.outlets[Ft]:`${l}`,f=r<e.length-1?e[r+1]:null;u&&f&&Vo(f)?(i.push(new Qe(u,fh(f))),r+=2):(i.push(new Qe(u,{})),r++)}return new Me(i,{})}function qa(n){const t={};return ii(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=hh(new Me([],{}),0,e))}),t}function fh(n){const t={};return ii(n,(e,i)=>t[i]=`${e}`),t}function Lr(n,t,e){return n==e.path&&Qr(t,e.parameters)}class tm{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Lo(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Fo(e);t.children.forEach(l=>{const u=l.value.outlet;this.deactivateRoutes(l,r[u],i),delete r[u]}),ii(r,(l,u)=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=Fo(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=Fo(t);for(const u of Object.keys(l))this.deactivateRouteAndItsChildren(l[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Fo(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new Rc(l.value.snapshot))}),t.children.length&&this.forwardEvent(new Kr(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(Lo(r),r===l)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Lo(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function sd(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class od{constructor(t,e){this.routes=t,this.module=e}}function Wa(n){return"function"==typeof n}function Fl(n){return n instanceof Ae}const jc=Symbol("INITIAL_VALUE");function pa(){return xn(n=>function la(...n){const t=(0,jn.yG)(n),e=(0,jn.jO)(n),{args:i,keys:r}=kr(n);if(0===i.length)return(0,On.D)([],t);const l=new qn.y(function mr(n,t,e=pr.y){return i=>{oo(t,()=>{const{length:r}=n,l=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)oo(t,()=>{const b=(0,On.D)(n[_],t);let T=!1;b.subscribe((0,En.x)(i,A=>{l[_]=A,T||(T=!0,f--),f||i.next(e(l.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Mo(r,u):pr.y));return e?l.pipe(Ic(e)):l}(n.map(t=>t.pipe((0,Pn.q)(1),Tn(jc)))).pipe(xi((t,e)=>{let i=!1;return e.reduce((r,l,u)=>r!==jc?r:(l===jc&&(i=!0),i||!1!==l&&u!==e.length-1&&!Fl(l)?r:l),t)},jc),In(t=>t!==jc),(0,wt.U)(t=>Fl(t)?t:!0===t),(0,Pn.q)(1)))}class D_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gc,this.attachRef=null}}class Gc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new D_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let $c=(()=>{class n{constructor(e,i,r,l,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=l||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new _h(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gc),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class _h{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===fa?this.route:t===Gc?this.childContexts:this.parent.get(t,e)}}let yh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:[$c],encapsulation:2}),n})();function zc(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];qc(i,vh(t,i))}}function qc(n,t){n.children&&zc(n.children,t)}function vh(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function bh(n){const t=n.children&&n.children.map(bh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=yh),e}function tn(n){return n.outlet||Ft}function wh(n,t){const e=n.filter(i=>tn(i)===t);return e.push(...n.filter(i=>tn(i)!==t)),e}const im={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ll(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},im):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const l=(t.matcher||ko)(e,n,t);if(!l)return Object.assign({},im);const u={};ii(l.posParams,(_,b)=>{u[b]=_.path});const f=l.consumed.length>0?Object.assign(Object.assign({},u),l.consumed[l.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:l.consumed,remainingSegments:e.slice(l.consumed.length),parameters:f,positionalParamSegments:null!==(i=l.posParams)&&void 0!==i?i:{}}}function Wc(n,t,e,i,r="corrected"){if(e.length>0&&function I_(n,t,e){return e.some(i=>ld(n,t,i)&&tn(i)!==Ft)}(n,e,i)){const u=new Me(t,function ad(n,t,e,i){const r={};r[Ft]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const l of e)if(""===l.path&&tn(l)!==Ft){const u=new Me([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[tn(l)]=u}return r}(n,t,i,new Me(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function rm(n,t,e){return e.some(i=>ld(n,t,i))}(n,e,i)){const u=new Me(n.segments,function T_(n,t,e,i,r,l){const u={};for(const f of i)if(ld(n,e,f)&&!r[tn(f)]){const _=new Me([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===l?n.segments.length:t.length,u[tn(f)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const l=new Me(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:e}}function ld(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function S_(n,t,e,i){return!!(tn(n)===i||i!==Ft&&ld(t,e,n))&&("**"===n.path||Ll(t,n,e).matched)}function x_(n,t,e){return 0===t.length&&!n.children[e]}class ma{constructor(t){this.segmentGroup=t||null}}class Mi{constructor(t){this.urlTree=t}}function Bo(n){return Rr(new ma(n))}function Zc(n){return Rr(new Mi(n))}class Eh{constructor(t,e,i,r,l){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=l,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=Wc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Me(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ft).pipe((0,wt.U)(l=>this.createUrlTree(Ya(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pr(l=>{if(l instanceof Mi)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof ma?this.noMatchError(l):l}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ft).pipe((0,wt.U)(r=>this.createUrlTree(Ya(r),t.queryParams,t.fragment))).pipe(Pr(r=>{throw r instanceof ma?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Me([],{[Ft]:t}):t;return new Ae(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,wt.U)(l=>new Me([],l))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const l of Object.keys(i.children))"primary"===l?r.unshift(l):r.push(l);return(0,On.D)(r).pipe(Ds(l=>{const u=i.children[l],f=wh(e,l);return this.expandSegmentGroup(t,f,u,l).pipe((0,wt.U)(_=>({segment:_,outlet:l})))}),xi((l,u)=>(l[u.outlet]=u.segment,l),{}),function Zp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?In((r,l)=>n(r,l,i)):pr.y,Zu(1),e?Wp(t):Nn(()=>new ao))}())}expandSegment(t,e,i,r,l,u){return(0,On.D)(i).pipe(Ds(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,l,u).pipe(Pr(b=>{if(b instanceof ma)return et(null);throw b}))),co(f=>!!f),Pr((f,_)=>{if(f instanceof ao||"EmptyError"===f.name)return x_(e,r,l)?et(new Me([],{})):Bo(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,l,u,f){return S_(r,e,l,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,l,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u):Bo(e):Bo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const l=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Zc(l):this.lineralizeSegments(i,l).pipe((0,An.z)(u=>{const f=new Me(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,l,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=Ll(e,r,l);if(!f)return Bo(e);const A=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?Zc(A):this.lineralizeSegments(r,A).pipe((0,An.z)(O=>this.expandSegment(t,e,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,l){if("**"===i.path)return i.loadChildren?(i._loadedConfig?et(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,wt.U)(A=>(i._loadedConfig=A,new Me(r,{})))):et(new Me(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=Ll(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,An.z)(T=>{const A=T.module,O=T.routes,{segmentGroup:V,slicedSegments:U}=Wc(e,f,_,O),ee=new Me(V.segments,V.children);if(0===U.length&&ee.hasChildren())return this.expandChildren(A,O,ee).pipe((0,wt.U)(it=>new Me(f,it)));if(0===O.length&&0===U.length)return et(new Me(f,{}));const Ee=tn(i)===l;return this.expandSegment(A,ee,O,U,Ee?Ft:l,!0).pipe((0,wt.U)(rt=>new Me(f.concat(rt.segments),rt.children)))})):Bo(e)}getChildConfig(t,e,i){return e.children?et(new od(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?et(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,An.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,wt.U)(l=>(e._loadedConfig=l,l))):function Hi(n){return Rr(ho(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):et(new od([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?et(r.map(u=>{const f=t.get(u);let _;if(function ph(n){return n&&Wa(n.canLoad)}(f))_=f.canLoad(e,i);else{if(!Wa(f))throw new Error("Invalid CanLoad guard");_=f(e,i)}return _r(_)})).pipe(pa(),(0,di.b)(u=>{if(!Fl(u))return;const f=ho(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,wt.U)(u=>!0===u)):et(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[Ft])return Rr(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new Ae(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ii(t,(r,l)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[l]=e[f]}else i[l]=r}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let u={};return ii(e.children,(f,_)=>{u[_]=this.createSegmentGroup(t,f,i,r)}),new Me(l,u)}createSegments(t,e,i,r){return e.map(l=>l.path.startsWith(":")?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Ya(n){const t={};for(const i of Object.keys(n.children)){const l=Ya(n.children[i]);(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function Vr(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new Me(n.segments.concat(t.segments),t.children)}return n}(new Me(n.segments,t))}class sm{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ka{constructor(t,e){this.component=t,this.route=e}}function Th(n,t,e){const i=n._root;return vr(i,t?t._root:null,e,[i.value])}function Yc(n,t,e){const i=function A_(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function vr(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=Fo(t);return n.children.forEach(u=>{(function am(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&l.routeConfig===u.routeConfig){const _=function M_(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Rt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rt(n.url,t.url)||!Qr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ch(n,t)||!Qr(n.queryParams,t.queryParams);default:return!ch(n,t)}}(u,l,l.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new sm(i)):(l.data=u.data,l._resolvedData=u._resolvedData),vr(n,t,l.component?f?f.children:null:e,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ka(f.outlet.component,u))}else u&&Qa(t,f,r),r.canActivateChecks.push(new sm(i)),vr(n,null,l.component?f?f.children:null:e,i,r)})(u,l[u.value.outlet],e,i.concat([u.value]),r),delete l[u.value.outlet]}),ii(l,(u,f)=>Qa(u,e.getContext(f),r)),r}function Qa(n,t,e){const i=Fo(n),r=n.value;ii(i,(l,u)=>{Qa(l,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Ka(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class xh{}function Ah(n){return new qn.y(t=>t.error(n))}class Mh{constructor(t,e,i,r,l,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=u}recognize(){const t=Wc(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ft);if(null===e)return null;const i=new Nl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new No(i,e),l=new lh(this.url,r);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(t){const e=t.value,i=y_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const l of Object.keys(e.children)){const u=e.children[l],f=wh(t,l),_=this.processSegmentGroup(f,u,l);if(null===_)return null;i.push(..._)}const r=cm(i);return function P_(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const l of t){const u=this.processSegmentAgainstRoute(l,e,i,r);if(null!==u)return u}return x_(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!S_(t,e,i,r))return null;let l,u=[],f=[];if("**"===t.path){const V=i.length>0?Ku(i).parameters:{};l=new Nl(i,V,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),tn(t),t.component,t,p(e),g(e)+i.length,S(t))}else{const V=Ll(e,t,i);if(!V.matched)return null;u=V.consumedSegments,f=V.remainingSegments,l=new Nl(u,V.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),tn(t),t.component,t,p(e),g(e)+u.length,S(t))}const _=function N_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:T}=Wc(e,u,f,_.filter(V=>void 0===V.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const V=this.processChildren(_,b);return null===V?null:[new No(l,V)]}if(0===_.length&&0===T.length)return[new No(l,[])];const A=tn(t)===r,O=this.processSegment(_,b,T,A?Ft:r);return null===O?null:[new No(l,O)]}}function F_(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function cm(n){const t=[],e=new Set;for(const i of n){if(!F_(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=cm(i.children);t.push(new No(i.value,r))}return t.filter(i=>!e.has(i))}function p(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function g(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function w(n){return n.data||{}}function S(n){return n.resolve||{}}function Je(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ct(n){return xn(t=>{const e=n(t);return e?(0,On.D)(e).pipe((0,wt.U)(()=>t)):et(t)})}class Qc extends class es{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Vl=new a.OlP("ROUTES");class Bl{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,wt.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=l.create(t);return new od(Jr(u.injector.get(Vl,void 0,a.XFs.Self|a.XFs.Optional)).map(bh),u)}),Pr(l=>{throw e._loader$=void 0,l}));return e._loader$=new Wu(r,()=>new lt.x).pipe(Or()),e._loader$}loadModuleFactory(t){return _r(t()).pipe((0,An.z)(e=>e instanceof a.YKP?et(e):(0,On.D)(this.compiler.compileModuleAsync(e))))}}class L_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ga(n){throw n}function cd(n,t,e){return t.parse("/")}function ud(n,t){return et(null)}const Rh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class n{constructor(e,i,r,l,u,f,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=l,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt.x,this.errorHandler=ga,this.malformedUriErrorHandler=cd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ud,afterPreactivation:ud},this.urlHandlingStrategy=new L_,this.routeReuseStrategy=new Qc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(a.h0i),this.console=u.get(a.c2e);const A=u.get(a.R0b);this.isNgZoneEnabled=A instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Fc(){return new Ae(new Me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Bl(u,f,O=>this.triggerEvent(new kc(O)),O=>this.triggerEvent(new Is(O))),this.routerState=$a(this.currentUrlTree,this.rootComponentType),this.transitions=new Si({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(In(r=>0!==r.id),(0,wt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let l=!1,u=!1;return et(r).pipe((0,di.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return um(f.source)&&(this.browserUrlTree=f.extractedUrl),et(f).pipe(xn(A=>{const O=this.transitions.getValue();return i.next(new Ts(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?lo.E:Promise.resolve(A)}),function Dh(n,t,e,i){return xn(r=>function Za(n,t,e,i,r){return new Eh(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,wt.U)(l=>Object.assign(Object.assign({},r),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,di.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function R(n,t,e,i,r){return(0,An.z)(l=>function O_(n,t,e,i,r="emptyOnly",l="legacy"){try{const u=new Mh(n,t,e,i,r,l).recognize();return null===u?Ah(new xh):et(u)}catch(u){return Ah(u)}}(n,t,l.urlAfterRedirects,e(l.urlAfterRedirects),i,r).pipe((0,wt.U)(u=>Object.assign(Object.assign({},l),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,di.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const V=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(V,A)}this.browserUrlTree=A.urlAfterRedirects}const O=new ua(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:V,source:U,restoredState:ee,extras:Ee}=f,ze=new Ts(O,this.serializeUrl(V),U,ee);i.next(ze);const rt=$a(V,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},f),{targetSnapshot:rt,urlAfterRedirects:V,extras:Object.assign(Object.assign({},Ee),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),lo.E}),ct(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:V}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!V})}),(0,di.b)(f=>{const _=new Yp(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:Th(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function k_(n,t){return(0,An.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:u}}=e;return 0===u.length&&0===l.length?et(Object.assign(Object.assign({},e),{guardsResult:!0})):function lm(n,t,e,i){return(0,On.D)(n).pipe((0,An.z)(r=>function Kc(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?et(l.map(f=>{const _=Yc(f,t,r);let b;if(function g0(n){return n&&Wa(n.canDeactivate)}(_))b=_r(_.canDeactivate(n,t,e,i));else{if(!Wa(_))throw new Error("Invalid CanDeactivate guard");b=_r(_(n,t,e,i))}return b.pipe(co())})).pipe(pa()):et(!0)}(r.component,r.route,e,t,i)),co(r=>!0!==r,!0))}(u,i,r,n).pipe((0,An.z)(f=>f&&function nm(n){return"boolean"==typeof n}(f)?function ki(n,t,e,i){return(0,On.D)(t).pipe(Ds(r=>qu(function Sh(n,t){return null!==n&&t&&t(new Nr(n)),et(!0)}(r.route.parent,i),function Ih(n,t){return null!==n&&t&&t(new ja(n)),et(!0)}(r.route,i),function Uo(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(u=>function om(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>rr(()=>et(u.guards.map(_=>{const b=Yc(_,u.node,e);let T;if(function gh(n){return n&&Wa(n.canActivateChild)}(b))T=_r(b.canActivateChild(i,n));else{if(!Wa(b))throw new Error("Invalid CanActivateChild guard");T=_r(b(i,n))}return T.pipe(co())})).pipe(pa())));return et(l).pipe(pa())}(n,r.path,e),function R_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(l=>rr(()=>{const u=Yc(l,t,e);let f;if(function mh(n){return n&&Wa(n.canActivate)}(u))f=_r(u.canActivate(t,n));else{if(!Wa(u))throw new Error("Invalid CanActivate guard");f=_r(u(t,n))}return f.pipe(co())}));return et(r).pipe(pa())}(n,r.route,e))),co(r=>!0!==r,!0))}(i,l,n,t):et(f)),(0,wt.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,di.b)(f=>{if(Fl(f.guardsResult)){const b=ho(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new Mc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),In(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),ct(f=>{if(f.guards.canActivateChecks.length)return et(f).pipe((0,di.b)(_=>{const b=new Ai(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),xn(_=>{let b=!1;return et(_).pipe(function q(n,t){return(0,An.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return et(e);let l=0;return(0,On.D)(r).pipe(Ds(u=>function oe(n,t,e,i){return function Ue(n,t,e,i){const r=Je(n);if(0===r.length)return et({});const l={};return(0,On.D)(r).pipe((0,An.z)(u=>function Ct(n,t,e,i){const r=Yc(n,t,i);return _r(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,di.b)(f=>{l[u]=f}))),Zu(1),(0,An.z)(()=>Je(l).length===r.length?et(l):lo.E))}(n._resolve,n,t,i).pipe((0,wt.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),y_(n,e).resolve),null)))}(u.route,i,n,t)),(0,di.b)(()=>l++),Zu(1),(0,An.z)(u=>l===r.length?et(e):lo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,di.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,di.b)(_=>{const b=new gr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),ct(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:V}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!V})}),(0,wt.U)(f=>{const _=function v_(n,t,e){const i=Uc(n,t._root,e?e._root:void 0);return new Xu(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,di.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,wt.U)(i=>(new tm(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,di.b)({next(){l=!0},complete(){l=!0}}),sh(()=>{var f;l||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Pr(f=>{if(u=!0,function Yu(n){return n&&n[Nc]}(f)){const _=Fl(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new Mn(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||um(r.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Ac(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return lo.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const l={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,u,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){zc(e),this.config=e.map(bh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=l||null}return null!==A&&(A=this.removeEmptyProps(A)),function xs(n,t,e,i,r){if(0===e.length)return dh(t.root,t.root,t.root,i,r);const l=function Xp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Jp(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,u)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return ii(l.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===u?(l.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,l]},[]);return new Jp(e,t,i)}(e);if(l.toRoot())return dh(t.root,t.root,new Me([],{}),i,r);const u=function em(n,t,e){if(n.isAbsolute)return new rd(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const l=e.snapshot._urlSegment;return new rd(l,l===t.root,0)}const i=Vo(n.commands[0])?0:1;return function w_(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new rd(i,!1,r-l)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(l,t,n),f=u.processChildren?fo(u.segmentGroup,u.index,l.commands):E_(u.segmentGroup,u.index,l.commands);return dh(t.root,u.segmentGroup,f,i,r)}(b,this.currentUrlTree,e,A,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Fl(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Oh(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Rh):!1===i?Object.assign({},dd):i,Fl(e))return Pl(this.currentUrlTree,e,r);const l=this.parseUrl(e);return Pl(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const l=e[r];return null!=l&&(i[r]=l),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new kl(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,l,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,T,A;u?(b=u.resolve,T=u.reject,A=u.promise):A=new Promise((U,ee)=>{b=U,T=ee});const O=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),V=r&&r.\u0275routerPageId?r.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):V=0,this.setTransition({id:O,targetPageId:V,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:l,resolve:b,reject:T,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),l=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",l):this.location.go(r,"",l)}restoreHistory(e,i=!1){var r,l;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Mn(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function um(n){return"imperative"!==n}class H_{}class y0{preload(t,e){return et(null)}}let v0=(()=>{class n{constructor(e,i,r,l){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=new Bl(r,i,_=>e.triggerEvent(new kc(_)),_=>e.triggerEvent(new Is(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(e=>e instanceof kl),Ds(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const u=l._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(e,l)):l.children&&r.push(this.processRoutes(e,l.children));return(0,On.D)(r).pipe((0,Yr.J)(),(0,wt.U)(l=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?et(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,An.z)(l=>(i._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(br),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(H_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),dm=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kl&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Oc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const As=new a.OlP("ROUTER_CONFIGURATION"),G_=new a.OlP("ROUTER_FORROOT_GUARD"),b0=[ye,{provide:Wn,useClass:Fn},{provide:br,useFactory:function z_(n,t,e,i,r,l,u={},f,_){const b=new br(null,n,t,e,i,r,Jr(l));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function E0(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var A,O;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[Wn,Gc,ye,a.zs3,a.Sil,Vl,As,[class kh{},new a.FiY],[class Ln{},new a.FiY]]},Gc,{provide:fa,useFactory:function hm(n){return n.routerState.root},deps:[br]},v0,y0,class j_{preload(t,e){return e().pipe(Pr(()=>et(null)))}},{provide:As,useValue:{enableTracing:!1}}];function XD(){return new a.PXZ("Router",br)}let Ph=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[b0,$_(e),{provide:G_,useFactory:C0,deps:[[br,new a.FiY,new a.tp0]]},{provide:As,useValue:i||{}},{provide:fe,useFactory:w0,deps:[he,[new a.tBr(Xe),new a.FiY],As]},{provide:dm,useFactory:eT,deps:[br,yl,As]},{provide:H_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:y0},{provide:a.PXZ,multi:!0,useFactory:XD},[fd,{provide:a.ip1,multi:!0,useFactory:D0,deps:[fd]},{provide:W_,useFactory:q_,deps:[fd]},{provide:a.tb,multi:!0,useExisting:W_}]]}}static forChild(e){return{ngModule:n,providers:[$_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(G_,8),a.LFG(br,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function eT(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new dm(n,t,e)}function w0(n,t,e={}){return e.useHash?new Ie(n,t):new Ze(n,t)}function C0(n){return"guarded"}function $_(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Vl,multi:!0,useValue:n}]}let fd=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),l=this.injector.get(br),u=this.injector.get(As);return"disabled"===u.initialNavigation?(l.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),l.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(As),r=this.injector.get(v0),l=this.injector.get(dm),u=this.injector.get(br),f=this.injector.get(a.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),l.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function D0(n){return n.appInitializer.bind(n)}function q_(n){return n.bootstrapListener.bind(n)}const W_=new a.OlP("Router Initializer");var ve=P(5861);function zt(n){return null!=n&&"false"!=`${n}`}function ts(n,t=0){return function tT(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Y_(n){return Array.isArray(n)?n:[n]}function ri(n){return null==n?"":"string"==typeof n?n:`${n}px`}function _a(n){return n instanceof a.SBq?n.nativeElement:n}function K_(n){return n&&"function"==typeof n.connect}class T0{applyChanges(t,e,i,r,l){t.forEachOperation((u,f,_)=>{let b,T;if(null==u.previousIndex){const A=i(u,f,_);b=e.createEmbeddedView(A.templateRef,A.context,A.index),T=1}else null==_?(e.remove(f),T=3):(b=e.get(f),e.move(b,_),T=2);l&&l({context:null==b?void 0:b.context,operation:T,record:u})})}detach(){}}class Ms{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new lt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let Q_=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nh=new a.OlP("_ViewRepeater");var sT=P(5032);function bn(n){return(0,ti.e)((t,e)=>{(0,Es.Xf)(n).subscribe((0,En.x)(e,()=>e.complete(),sT.Z)),!e.closed&&t.subscribe(e)})}const S0=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function oT(){return(0,a.f3M)(Q)}}),aT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let pm,ft=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function lT(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?aT.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(S0,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();try{pm="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){pm=!1}let Jc,vi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Vi(n){return n===Qs}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!pm)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const x0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function mm(){if(Jc)return Jc;if("object"!=typeof document||!document)return Jc=new Set(x0),Jc;let n=document.createElement("input");return Jc=new Set(x0.filter(t=>(n.setAttribute("type",t),n.type===t))),Jc}let ks,gd,_d;function Xc(n){return function J_(){if(null==ks&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ks=!0}))}finally{ks=ks||!1}return ks}()?n:!!n.capture}function A0(){if(null==gd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gd=!1,gd;if("scrollBehavior"in document.documentElement.style)gd=!0;else{const n=Element.prototype.scrollTo;gd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return gd}function Fh(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ja(n){return n.composedPath?n.composedPath()[0]:n.target}function M0(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var uT=P(1144);const dT=["addListener","removeListener"],hT=["addEventListener","removeEventListener"],fT=["on","off"];function Ul(n,t,e,i){if((0,Bi.m)(e)&&(i=e,e=void 0),i)return Ul(n,t,e).pipe(Ic(i));const[r,l]=function k0(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?hT.map(u=>f=>n[u](t,f,e)):function mT(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?dT.map(pT(n,t)):function nR(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?fT.map(pT(n,t)):[];if(!r&&(0,uT.z)(n))return(0,An.z)(u=>Ul(u,t,e))((0,Es.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>l(f)})}function pT(n,t){return e=>i=>n[e](t,i)}var ey=P(4408);const Lh={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Lh;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(l=>{e=void 0,n(l)});return new Sn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Lh;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Lh;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var gT=P(7565);new class iR extends gT.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class ty extends ey.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lh.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Lh.cancelAnimationFrame(e),t._scheduled=void 0)}});let R0,sR=1;const ny={};function _T(n){return n in ny&&(delete ny[n],!0)}const oR={setImmediate(n){const t=sR++;return ny[t]=!0,R0||(R0=Promise.resolve()),R0.then(()=>_T(t)&&n()),t},clearImmediate(n){_T(n)}},{setImmediate:Hl,clearImmediate:iy}=oR,_m={setImmediate(...n){const{delegate:t}=_m;return((null==t?void 0:t.setImmediate)||Hl)(...n)},clearImmediate(n){const{delegate:t}=_m;return((null==t?void 0:t.clearImmediate)||iy)(n)},delegate:void 0};new class ry extends gT.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class O0 extends ey.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=_m.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(_m.clearImmediate(e),t._scheduled=void 0)}});var ym=P(4986),F0=P(3532);function vm(n=0,t,e=ym.P){let i=-1;return null!=t&&((0,F0.K)(t)?e=t:i=t),new qn.y(r=>{let l=function yT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},l)})}function L0(n,t=ym.z){return function jl(n){return(0,ti.e)((t,e)=>{let i=!1,r=null,l=null,u=!1;const f=()=>{if(null==l||l.unsubscribe(),l=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{l=null,u&&e.complete()};t.subscribe((0,En.x)(e,b=>{i=!0,r=b,l||(0,Es.Xf)(n(b)).subscribe(l=(0,En.x)(e,f,_))},()=>{u=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>vm(n,t))}let Bh=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(L0(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(In(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=_a(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ul(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(vi),a.LFG(Q,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gl=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new lt.x,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(L0(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vi),a.LFG(a.R0b),a.LFG(Q,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),wm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pd,oy],pd,oy]}),n})();const cR=[[["caption"]],[["colgroup"],["col"]]],H0=["caption","colgroup, col"];function Cm(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=zt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const vd=new a.OlP("CDK_TABLE");let ji=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),bd=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),Em=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class uR{}const dR=Cm(uR);let va=(()=>{class n extends dR{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=zt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(vd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,ji,5),a.Suo(r,bd,5),a.Suo(r,Em,5)),2&e){let l;a.iGM(l=a.CRH())&&(i.cell=l.first),a.iGM(l=a.CRH())&&(i.headerCell=l.first),a.iGM(l=a.CRH())&&(i.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[a._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})();class G0{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let ay=(()=>{class n extends G0{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(va),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[a.qOj]}),n})(),Dm=(()=>{class n extends G0{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const l=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(va),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[a.qOj]}),n})(),Tm=(()=>{class n extends G0{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const l=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===l||"treegrid"===l?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(va),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[a.qOj]}),n})();class $0{constructor(){this.tasks=[],this.endTasks=[]}}const ly=new a.OlP("_COALESCED_STYLE_SCHEDULER");let z0=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new lt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new $0,this._getScheduleObservable().pipe(bn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new $0;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,On.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Pn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),cy=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Hh?e.headerCell.template:this instanceof jh?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();class q0 extends cy{}const IT=Cm(q0);let Hh=(()=>{class n extends IT{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(vd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})();class W0 extends cy{}const Z0=Cm(W0);let jh=(()=>{class n extends Z0{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(vd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[a.qOj,a.TTD]}),n})(),Rs=(()=>{class n extends cy{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc),a.Y36(a.ZZ4),a.Y36(vd,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[a.qOj]}),n})(),Ho=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Ho],encapsulation:2}),n})(),dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Ho],encapsulation:2}),n})(),Y0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Ho],encapsulation:2}),n})(),Gh=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const K0=["top","bottom","left","right"];class ST{constructor(t,e,i,r,l=!0,u=!0,f){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=l,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let l=0;l<r.children.length;l++)i.push(r.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=t[0],u=l.children.length,f=this._getCellWidths(l,r),_=this._getStickyStartColumnPositions(f,e),b=this._getStickyEndColumnPositions(f,i),T=e.lastIndexOf(!0),A=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,V=O?"right":"left",U=O?"left":"right";for(const ee of t)for(let Ee=0;Ee<u;Ee++){const ze=ee.children[Ee];e[Ee]&&this._addStickyStyle(ze,V,_[Ee],Ee===T),i[Ee]&&this._addStickyStyle(ze,U,b[Ee],Ee===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:f.slice(0,T+1).map((ee,Ee)=>e[Ee]?ee:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:f.slice(A).map((ee,Ee)=>i[Ee+A]?ee:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,l="bottom"===i?e.slice().reverse():e,u=[],f=[],_=[];for(let T=0,A=0;T<r.length;T++){if(!l[T])continue;u[T]=A;const O=r[T];_[T]=this._isNativeHtmlTable?Array.from(O.children):[O];const V=O.getBoundingClientRect().height;A+=V,f[T]=V}const b=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,A;for(let O=0;O<r.length;O++){if(!l[O])continue;const V=u[O],U=O===b;for(const ee of _[O])this._addStickyStyle(ee,i,V,U)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:_}):null===(A=this._positionListener)||void 0===A||A.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);K0.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of K0)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let l=0;l<r.length;l++)i.push(r[l].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let l=0;l<t.length;l++)e[l]&&(i[l]=r,r+=t[l]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let l=t.length;l>0;l--)e[l]&&(i[l]=r,r+=t[l]);return i}}const $h=new a.OlP("CDK_SPL");let Im=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Sm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),wd=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),fy=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),zh=(()=>{class n{constructor(e,i,r,l,u,f,_,b,T,A,O,V){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=T,this._viewportRuler=A,this._stickyPositioningListener=O,this._ngZone=V,this._onDestroy=new lt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new a.vpe,this.viewChange=new Si({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=zt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=zt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(bn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),K_(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,l,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&a.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Pn.q)(1),bn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const l=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,l,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const l=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((l,u)=>{this._addStickyColumnStyles([l],this._headerRowDefs[u])}),this._rowDefs.forEach(l=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===l&&u.push(i[f]);this._addStickyColumnStyles(u,l)}),r.forEach((l,u)=>{this._addStickyColumnStyles([l],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let l=this._data[r];const u=this._getRenderRowsForData(l,r,i.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let f=0;f<u.length;f++){let _=u[f];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const f=r&&r.has(u)?r.get(u):[];if(f.length){const _=f.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),qh(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=qh(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=qh(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=qh(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(e,!1);return l&&this._forceRenderFooterRows(),i||r||l}_switchDataSource(e){this._data=[],K_(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;K_(this.dataSource)?e=this.dataSource.connect(this):function rT(n){return!!n&&(n instanceof qn.y||(0,Bi.m)(n.lift)&&(0,Bi.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=et(this.dataSource)),this._renderChangeSubscription=e.pipe(bn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),l=r.map(f=>f.sticky),u=r.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(e,l,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const l=e.viewContainer.get(r);i.push(l.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(l=>!l.when||l.when(i,e));else{let l=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;l&&r.push(l)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,l={}){const u=e.viewContainer.createEmbeddedView(i.template,l,r);return this._renderCellTemplateForItem(i,l),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Ho.mostRecentCellOutlet&&Ho.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const l=this._document.createElement(r.tag);l.setAttribute("role","rowgroup");for(const u of r.outlets)l.appendChild(u.elementRef.nativeElement);e.appendChild(l)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new ST(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:et()).pipe(bn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const l=r.createEmbeddedView(e.templateRef),u=l.rootNodes[0];1===l.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.sBO),a.Y36(a.SBq),a.$8M("role"),a.Y36(ft,8),a.Y36(Q),a.Y36(vi),a.Y36(Nh),a.Y36(ly),a.Y36(Gl),a.Y36($h,12),a.Y36(a.R0b,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Gh,5),a.Suo(r,va,5),a.Suo(r,Rs,5),a.Suo(r,Hh,5),a.Suo(r,jh,5)),2&e){let l;a.iGM(l=a.CRH())&&(i._noDataRow=l.first),a.iGM(l=a.CRH())&&(i._contentColumnDefs=l),a.iGM(l=a.CRH())&&(i._contentRowDefs=l),a.iGM(l=a.CRH())&&(i._contentHeaderRowDefs=l),a.iGM(l=a.CRH())&&(i._contentFooterRowDefs=l)}},viewQuery:function(e,i){if(1&e&&(a.Gf(Im,7),a.Gf(Sm,7),a.Gf(wd,7),a.Gf(fy,7)),2&e){let r;a.iGM(r=a.CRH())&&(i._rowOutlet=r.first),a.iGM(r=a.CRH())&&(i._headerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._footerRowOutlet=r.first),a.iGM(r=a.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[a._Bn([{provide:vd,useExisting:n},{provide:Nh,useClass:T0},{provide:ly,useClass:z0},{provide:$h,useValue:null}])],ngContentSelectors:H0,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(cR),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Sm,Im,fy,wd],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function qh(n,t){return n.concat(Array.from(t))}let Xa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[wm]]}),n})();function po(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function cI(n,t=ym.z){return(0,ti.e)((e,i)=>{let r=null,l=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=l;l=null,i.next(b)}};function _(){const b=u+n,T=t.now();if(T<b)return r=this.schedule(void 0,b-T),void i.add(r);f()}e.subscribe((0,En.x)(i,b=>{l=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{l=r=null}))})}function Ca(n,t=pr.y){return n=null!=n?n:dI,(0,ti.e)((e,i)=>{let r,l=!0;e.subscribe((0,En.x)(i,u=>{const f=t(u);(l||!n(r,f))&&(l=!1,r=f,i.next(u))}))})}function dI(n,t){return n===t}let by=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hI=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=_a(e);return new qn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new lt.x,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(by))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wy=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=zt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ts(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(cI(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hI),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[by]}),n})();class Om{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new lt.x,this._typeaheadSubscription=Sn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new lt.x,this.change=new lt.x,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,di.b)(e=>this._pressedLetters.push(e)),cI(t),In(()=>this._pressedLetters.length>0),(0,wt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const l=(this._activeItemIndex+r)%i.length,u=i[l];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||po(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class JR extends Om{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class cf extends Om{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let _I=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function gw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function uf(n){try{return n.frameElement}catch(t){return null}}(function Vm(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===vI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),l=vI(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function bI(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==l:"video"===r?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Lm(n){return!function Ey(n){return function Pm(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Cy(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function yI(n){return function Nm(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Fm(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fm(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function vI(n){if(!Fm(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Dy{constructor(t,e,i,r,l=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(t)}}let _w=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Dy(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_I),a.LFG(a.R0b),a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Iy(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Sy=new a.OlP("cdk-input-modality-detector-options"),ww={ignoreKeys:[18,17,224,91,16]},nu=Xc({passive:!0,capture:!0});let Ew=(()=>{class n{constructor(e,i,r,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Si(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ja(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ty(u)?"keyboard":"mouse"),this._mostRecentTarget=Ja(u))},this._onTouchstart=u=>{Iy(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ja(u))},this._options=Object.assign(Object.assign({},ww),l),this.modalityDetected=this._modality.pipe(function uI(n){return In((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ca()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,nu),r.addEventListener("mousedown",this._onMousedown,nu),r.addEventListener("touchstart",this._onTouchstart,nu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nu),document.removeEventListener("mousedown",this._onMousedown,nu),document.removeEventListener("touchstart",this._onTouchstart,nu))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vi),a.LFG(a.R0b),a.LFG(Q),a.LFG(Sy,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dw=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xy(){return null}}),Tw=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Iw=(()=>{class n{constructor(e,i,r,l){this._ngZone=i,this._defaultOptions=l,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let l,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[l,u]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Dw,8),a.LFG(a.R0b),a.LFG(Q),a.LFG(Tw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sw=new a.OlP("cdk-focus-monitor-default-options"),df=Xc({passive:!0,capture:!0});let iu=(()=>{class n{constructor(e,i,r,l,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt.x,this._rootNodeFocusAndBlurListener=f=>{const _=Ja(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)b.call(this,f,T)},this._document=l,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=_a(e);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const l=function X_(n){if(function gm(){if(null==_d){const n="undefined"!=typeof document?document.head:null;_d=!(!n||!n.createShadowRoot&&!n.attachShadow)}return _d}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new lt.x,rootNode:l};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=_a(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const l=_a(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),l=Ja(e);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,df),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,df)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(bn(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,df),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,df),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,l)=>{(l===e||r.checkChildren&&l.contains(e))&&i.push([l,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(vi),a.LFG(Ew),a.LFG(Q,8),a.LFG(Sw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xw=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new a.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(iu))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Ay="cdk-high-contrast-black-on-white",DI="cdk-high-contrast-white-on-black",My="cdk-high-contrast-active";let Aw=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(My),e.remove(Ay),e.remove(DI),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(My),e.add(Ay)):2===i&&(e.add(My),e.add(DI))}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vi),a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mw=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Aw))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ed]]}),n})();class kw{}const Ea="*";function ru(n,t){return{type:7,name:n,definitions:t,options:{}}}function Da(n,t=null){return{type:4,styles:t,timings:n}}function ky(n,t=null){return{type:3,steps:n,options:t}}function Rw(n,t=null){return{type:2,steps:n,options:t}}function si(n){return{type:6,styles:n,offset:null}}function ns(n,t,e){return{type:0,name:n,styles:t,options:e}}function Go(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Bm(n=null){return{type:9,options:n}}function Um(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Hm(n){Promise.resolve(null).then(n)}class su{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class $o{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const l=this.players.length;0==l?Hm(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==l&&this._onFinish()}),u.onDestroy(()=>{++i==l&&this._onDestroy()}),u.onStart(()=>{++r==l&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Jt=!1;function mo(n){return new a.vHH(3e3,Jt)}function VI(){return"undefined"!=typeof window&&void 0!==window.document}function Ny(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $l(n){switch(n.length){case 0:return new su;case 1:return n[0];default:return new $o(n)}}function Zw(n,t,e,i,r={},l={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(T=>{const A=T.offset,O=A==_,V=O&&b||{};Object.keys(T).forEach(U=>{let ee=U,Ee=T[U];if("offset"!==U)switch(ee=t.normalizePropertyName(ee,u),Ee){case"!":Ee=r[U];break;case Ea:Ee=l[U];break;default:Ee=t.normalizeStyleValue(U,ee,Ee,u)}V[ee]=Ee}),O||f.push(V),b=V,_=A}),u.length)throw function jw(n){return new a.vHH(3502,Jt)}();return f}function Fy(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Ly(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Ly(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Ly(e,"destroy",n)))}}function Ly(n,t,e){const i=e.totalTime,l=Vy(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(l._data=u),l}function Vy(n,t,e,i,r="",l=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:l,disabled:!!u}}function Ps(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Yw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let By=(n,t)=>!1,Kw=(n,t,e)=>[],Uy=null;function $m(n){const t=n.parentNode||n.host;return t===Uy?null:t}(Ny()||"undefined"!=typeof Element)&&(VI()?(Uy=(()=>document.documentElement)(),By=(n,t)=>{for(;t;){if(t===n)return!0;t=$m(t)}return!1}):By=(n,t)=>n.contains(t),Kw=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let zl=null,Hy=!1;function jy(n){zl||(zl=function Jw(){return"undefined"!=typeof document?document.body:null}()||{},Hy=!!zl.style&&"WebkitAppearance"in zl.style);let t=!0;return zl.style&&!function Qw(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in zl.style,!t&&Hy&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in zl.style)),t}const Gy=By,zm=Kw;let ql=(()=>{class n{validateStyleProperty(e){return jy(e)}matchesElement(e,i){return!1}containsElement(e,i){return Gy(e,i)}getParentElement(e){return $m(e)}query(e,i,r){return zm(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,l,u,f=[],_){return new su(r,l)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$y=(()=>{class n{}return n.NOOP=new ql,n})();const pf="ng-enter",zy="ng-leave",mf="ng-trigger",gf=".ng-trigger",HI="ng-animating",yt=".ng-animating";function au(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qy(parseFloat(t[1]),t[2])}function qy(n,t){return"s"===t?1e3*n:n}function qm(n,t,e){return n.hasOwnProperty("duration")?n:function Wm(n,t,e){let r,l=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(mo()),{duration:0,delay:0,easing:""};r=qy(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(l=qy(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!e){let f=!1,_=t.length;r<0&&(t.push(function zo(){return new a.vHH(3100,Jt)}()),f=!0),l<0&&(t.push(function Ow(){return new a.vHH(3101,Jt)}()),f=!0),f&&t.splice(_,0,mo())}return{duration:r,delay:l,easing:u}}(n,t,e)}function Dd(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qo(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Dd(n,e);return e}function Zn(n,t,e){return e?t+":"+e+";":""}function jI(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Zn(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Zn(0,bf(e),n.style[e]));n.setAttribute("style",t)}function Wo(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Zy(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Ny()&&jI(n))}function lu(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Zy(e);n.style[i]=""}),Ny()&&jI(n))}function yf(n){return Array.isArray(n)?1==n.length?n[0]:Rw(n):n}const Zm=new RegExp("{{\\s*(.+?)\\s*}}","g");function Wy(n){let t=[];if("string"==typeof n){let e;for(;e=Zm.exec(n);)t.push(e[1]);Zm.lastIndex=0}return t}function vf(n,t,e){const i=n.toString(),r=i.replace(Zm,(l,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(function TI(n){return new a.vHH(3003,Jt)}()),f=""),f.toString()});return r==i?n:r}function Ym(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const GI=/-+([a-z0-9])/g;function Zy(n){return n.replace(GI,(...t)=>t[1].toUpperCase())}function bf(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ns(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function II(n){return new a.vHH(3004,Jt)}()}}function wf(n,t){return window.getComputedStyle(n)[t]}function WI(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function nC(n,t,e){if(":"==n[0]){const _=function iC(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Gm(n){return new a.vHH(3016,Jt)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Py(n){return new a.vHH(3015,Jt)}()),t;const r=i[1],l=i[2],u=i[3];t.push(Yy(r,u));"<"==l[0]&&!("*"==r&&"*"==u)&&t.push(Yy(u,r))}(i,e,t)):e.push(n),e}const Tf=new Set(["true","1"]),Jm=new Set(["false","0"]);function Yy(n,t){const e=Tf.has(n)||Jm.has(n),i=Tf.has(t)||Jm.has(t);return(r,l)=>{let u="*"==n||n==r,f="*"==t||t==l;return!u&&e&&"boolean"==typeof r&&(u=r?Tf.has(n):Jm.has(n)),!f&&i&&"boolean"==typeof l&&(f=l?Tf.has(t):Jm.has(t)),u&&f}}const ZI=new RegExp("s*:selfs*,?","g");function sC(n,t,e,i){return new a1(n).build(t,e,i)}class a1{constructor(t){this._driver=t}build(t,e,i){const r=new Xm(e);this._resetContextStyleTimingState(r);const l=Ns(this,yf(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const l=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function xI(){return new a.vHH(3006,Jt)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,l.push(this.visitState(_,e))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function Oy(){return new a.vHH(3007,Jt)}())}),{type:7,name:t.name,states:l,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=r||{};i.styles.forEach(f=>{if(eg(f)){const _=f;Object.keys(_).forEach(b=>{Wy(_[b]).forEach(T=>{u.hasOwnProperty(T)||l.add(T)})})}}),l.size&&(Ym(l.values()),e.errors.push(function ff(n,t){return new a.vHH(3008,Jt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ns(this,yf(t.animation),e);return{type:1,matchers:WI(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Zo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ns(this,i,e)),options:Zo(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const l=t.steps.map(u=>{e.currentTime=i;const f=Ns(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:l,options:Zo(t.options)}}visitAnimate(t,e){const i=function aC(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ky(qm(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Ky(0,0,"");return l.dynamic=!0,l.strValue=e,l}const r=qm(e,t);return Ky(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,l=t.styles?t.styles:si({});if(5==l.type)r=this.visitKeyframes(l,e);else{let u=t.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=si(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=f,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Ea?i.push(u):e.errors.push(function AI(n){return new a.vHH(3002,Jt)}()):i.push(u)}):i.push(t.styles);let r=!1,l=null;return i.forEach(u=>{if(eg(u)){const f=u,_=f.easing;if(_&&(l=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,l=e.currentTime;i&&l>0&&(l-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],b=_[f];let T=!0;b&&(l!=r&&l>=b.startTime&&r<=b.endTime&&(e.errors.push(function kI(n,t,e,i,r){return new a.vHH(3010,Jt)}()),T=!1),l=b.startTime),T&&(_[f]={startTime:l,endTime:r}),e.options&&function eC(n,t,e){const i=t.params||{},r=Wy(n);r.length&&r.forEach(l=>{i.hasOwnProperty(l)||e.push(function Pw(n){return new a.vHH(3001,Jt)}())})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Nw(){return new a.vHH(3011,Jt)}()),i;let l=0;const u=[];let f=!1,_=!1,b=0;const T=t.steps.map(ze=>{const rt=this._makeStyleAst(ze,e);let it=null!=rt.offset?rt.offset:function KI(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(eg(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(eg(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(rt.styles),nt=0;return null!=it&&(l++,nt=rt.offset=it),_=_||nt<0||nt>1,f=f||nt<b,b=nt,u.push(nt),rt});_&&e.errors.push(function Fw(){return new a.vHH(3012,Jt)}()),f&&e.errors.push(function jm(){return new a.vHH(3200,Jt)}());const A=t.steps.length;let O=0;l>0&&l<A?e.errors.push(function RI(){return new a.vHH(3202,Jt)}()):0==l&&(O=1/(A-1));const V=A-1,U=e.currentTime,ee=e.currentAnimateTimings,Ee=ee.duration;return T.forEach((ze,rt)=>{const it=O>0?rt==V?1:O*rt:u[rt],nt=it*Ee;e.currentTime=U+ee.delay+nt,ee.duration=nt,this._validateStyleAst(ze,e),ze.offset=it,i.styles.push(ze)}),i}visitReference(t,e){return{type:8,animation:Ns(this,yf(t.animation),e),options:Zo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Zo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Zo(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[l,u]=function l1(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ZI,"")),n=n.replace(/@\*/g,gf).replace(/@\w+/g,e=>gf+"-"+e.substr(1)).replace(/:animating/g,yt),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+l:l,Ps(e.collectedStyles,e.currentQuerySelector,{});const f=Ns(this,yf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:l,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:Zo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Lw(){return new a.vHH(3013,Jt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:qm(t.timings,e.errors,!0);return{type:12,animation:Ns(this,yf(t.animation),e),timings:i,options:null}}}class Xm{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eg(n){return!Array.isArray(n)&&"object"==typeof n}function Zo(n){return n?(n=Dd(n)).params&&(n.params=function oC(n){return n?Dd(n):null}(n.params)):n={},n}function Ky(n,t,e){return{duration:n,delay:t,easing:e}}function Qy(n,t,e,i,r,l,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:l,totalTime:r+l,easing:u,subTimeline:f}}class tg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const lC=new RegExp(":enter","g"),eS=new RegExp(":leave","g");function Wl(n,t,e,i,r,l={},u={},f,_,b=[]){return(new tS).buildKeyframes(n,t,e,i,r,l,u,f,_,b)}class tS{buildKeyframes(t,e,i,r,l,u,f,_,b,T=[]){b=b||new tg;const A=new Jy(t,e,b,r,l,T,[]);A.options=_,A.currentTimeline.setStyles([u],null,A.errors,_),Ns(this,i,A);const O=A.timelines.filter(V=>V.containsAnimation());if(Object.keys(f).length){let V;for(let U=O.length-1;U>=0;U--){const ee=O[U];if(ee.element===e){V=ee;break}}V&&!V.allowOnlyTimelineStyles()&&V.setStyles([f],null,A.errors,_)}return O.length?O.map(V=>V.buildKeyframes()):[Qy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),l=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);l!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let l=e.currentTimeline.currentTime;const u=null!=i.duration?au(i.duration):null,f=null!=i.delay?au(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,f);l=Math.max(l,b.duration+b.delay)}),l}visitReference(t,e){e.updateOptions(t.options,!0),Ns(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const l=t.options;if(l&&(l.params||l.delay)&&(r=e.createSubContext(l),r.transformIntoNewTimeline(),null!=l.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=If);const u=au(l.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ns(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const l=t.options&&t.options.delay?au(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);l&&f.delayNextStep(l),Ns(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return qm(e.params?vf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const l=t.style;5==l.type?this.visitKeyframes(l,e):(e.incrementTime(i.duration),this.visitStyle(l,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const l=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(l):i.setStyles(t.styles,l,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,l=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*l),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+l),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},l=r.delay?au(r.delay):0;l&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=If);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{e.currentQueryIndex=T;const A=e.createSubContext(t.options,b);l&&A.delayNextStep(l),b===e.element&&(_=A.currentTimeline),Ns(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,l=t.timings,u=Math.abs(l.duration),f=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const T=e.currentTimeline;_&&T.delayNextStep(_);const A=T.currentTime;Ns(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const If={};class Jy{constructor(t,e,i,r,l,u,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=l,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=If,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Sf(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=au(i.duration)),null!=i.delay&&(r.delay=au(i.delay));const l=i.params;if(l){let u=r.params;u||(u=this.options.params={}),Object.keys(l).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=vf(l[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,l=new Jy(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(t),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(t){return this.previousNode=If,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},l=new nS(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(l),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,l,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(lC,"."+this._enterClassName)).replace(eS,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!l&&0==f.length&&u.push(function Vw(n){return new a.vHH(3014,Jt)}()),f}}class Sf{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Sf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ea,this._currentKeyframe[e]=Ea}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const l=r&&r.params||{},u=function iS(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(l=>{e[l]=Ea})):qo(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=vf(u[f],l,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ea),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=qo(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?t.add(T):A==Ea&&e.add(T)}),i||(b.offset=_/this.duration),r.push(b)});const l=t.size?Ym(t.values()):[],u=e.size?Ym(e.values()):[];if(i){const f=r[0],_=Dd(f);f.offset=0,_.offset=1,r=[f,_]}return Qy(this.element,r,l,u,this.duration,this.startTime,this.easing,!1)}}class nS extends Sf{constructor(t,e,i,r,l,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const l=[],u=i+e,f=e/u,_=qo(t[0],!1);_.offset=0,l.push(_);const b=qo(t[0],!1);b.offset=Xy(f),l.push(b);const T=t.length-1;for(let A=1;A<=T;A++){let O=qo(t[A],!1);O.offset=Xy((e+O.offset*i)/u),l.push(O)}i=u,e=0,r="",t=l}return Qy(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Xy(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class ev{}class uC extends ev{normalizePropertyName(t,e){return Zy(t)}normalizeStyleValue(t,e,i,r){let l="";const u=i.toString().trim();if(sS[e]&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function SI(n,t){return new a.vHH(3005,Jt)}())}return u+l}}const sS=(()=>function oS(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dC(n,t,e,i,r,l,u,f,_,b,T,A,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:l,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:A,errors:O}}const xf={};class hC{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function fC(n,t,e,i,r){return n.some(l=>l(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],l=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return l?l.buildStyles(e,i):u}build(t,e,i,r,l,u,f,_,b,T){const A=[],O=this.ast.options&&this.ast.options.params||xf,U=this.buildStyles(i,f&&f.params||xf,A),ee=_&&_.params||xf,Ee=this.buildStyles(r,ee,A),ze=new Set,rt=new Map,it=new Map,nt="void"===r,Lt={params:Object.assign(Object.assign({},O),ee)},Gt=T?[]:Wl(t,e,this.ast.animation,l,u,U,Ee,Lt,b,A);let vn=0;if(Gt.forEach(Tu=>{vn=Math.max(Tu.duration+Tu.delay,vn)}),A.length)return dC(e,this._triggerName,i,r,nt,U,Ee,[],[],rt,it,vn,A);Gt.forEach(Tu=>{const Iu=Tu.element,JV=Ps(rt,Iu,{});Tu.preStyleProps.forEach(Np=>JV[Np]=!0);const h0=Ps(it,Iu,{});Tu.postStyleProps.forEach(Np=>h0[Np]=!0),Iu!==e&&ze.add(Iu)});const $r=Ym(ze.values());return dC(e,this._triggerName,i,r,nt,U,Ee,Gt,$r,rt,it,vn)}}class aS{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Dd(this.defaultParams);return Object.keys(t).forEach(l=>{const u=t[l];null!=u&&(r[l]=u)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const u=l;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=vf(_,r,e));const b=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,b,_,e),i[b]=_})}}),i}}class cS{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new aS(r.style,r.options&&r.options.params||{},i)}),pC(this.states,"true","1"),pC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new hC(t,r,this.states))}),this.fallbackTransition=function uS(n,t,e){return new hC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function pC(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const dS=new tg;class hS{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],l=sC(this._driver,e,i,[]);if(i.length)throw function Gw(n){return new a.vHH(3503,Jt)}();this._animations[t]=l}_buildPlayer(t,e,i){const r=t.element,l=Zw(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,l,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],l=this._animations[t];let u;const f=new Map;if(l?(u=Wl(this._driver,e,l,pf,zy,{},{},i,dS,r),u.forEach(T=>{const A=Ps(f,T.element,{});T.postStyleProps.forEach(O=>A[O]=null)})):(r.push(function $w(){return new a.vHH(3300,Jt)}()),u=[]),r.length)throw function zw(n){return new a.vHH(3504,Jt)}();f.forEach((T,A)=>{Object.keys(T).forEach(O=>{T[O]=this._driver.computeStyle(A,O,Ea)})});const b=$l(u.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function qw(n){return new a.vHH(3301,Jt)}();return e}listen(t,e,i,r){const l=Vy(e,"","","");return Fy(this._getPlayer(t),i,l,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const l=this._getPlayer(t);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const mC="ng-animate-queued",ng="ng-animate-disabled",mS=[],yC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},is="__ng_removed";class Af{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function vC(n){return null!=n?n:null}(i?t.value:t),i){const l=Dd(t);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Td="void",Mf=new Af(Td);class _S{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,go(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Ww(n,t){return new a.vHH(3302,Jt)}();if(null==i||0==i.length)throw function OI(n){return new a.vHH(3303,Jt)}();if(!function bC(n){return"start"==n||"done"==n}(i))throw function PI(n,t){return new a.vHH(3400,Jt)}();const l=Ps(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};l.push(u);const f=Ps(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(go(t,mf),go(t,mf+"-"+e),f[e]=Mf),()=>{this._engine.afterFlush(()=>{const _=l.indexOf(u);_>=0&&l.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function NI(n){return new a.vHH(3401,Jt)}();return e}trigger(t,e,i,r=!0){const l=this._getTrigger(e),u=new kf(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(go(t,mf),go(t,mf+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const b=new Af(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[e]=b,_||(_=Mf),b.value!==Td&&_.value===b.value){if(!function CS(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const l=e[r];if(!t.hasOwnProperty(l)||n[l]!==t[l])return!1}return!0}(_.params,b.params)){const ee=[],Ee=l.matchStyles(_.value,_.params,ee),ze=l.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{lu(t,Ee),Wo(t,ze)})}return}const O=Ps(this._engine.playersByElement,t,[]);O.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let V=l.matchTransition(_.value,b.value,t,b.params),U=!1;if(!V){if(!r)return;V=l.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:V,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(go(t,mC),u.onStart(()=>{nl(t,mC)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const Ee=this._engine.playersByElement.get(t);if(Ee){let ze=Ee.indexOf(u);ze>=0&&Ee.splice(ze,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,gf,!0);i.forEach(r=>{if(r[is])return;const l=this._engine.fetchNamespacesByElement(r);l.size?l.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const l=this._engine.statesByElement.get(t),u=new Map;if(l){const f=[];if(Object.keys(l).forEach(_=>{if(u.set(_,l[_].value),this._triggers[_]){const b=this.trigger(t,_,Td,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&$l(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(l=>{const u=l.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||Mf,T=new Af(Td),A=new kf(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(t):[];if(l&&l.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const l=t[is];(!l||l===yC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){go(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=Vy(l,i.triggerName,i.fromState.value,i.toState.value);_._data=t,Fy(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const l=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class yS{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,l)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new _S(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,l=i.length-1;if(l>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=l;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,e)){i.splice(f+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let l=0;l<r.length;l++){const u=i[r[l]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(ig(e)){const l=this._fetchNamespace(t);if(l)return l.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ig(e))return;const l=e[is];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),go(t,ng)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),nl(t,ng))}removeNode(t,e,i,r){if(ig(e)){const l=t?this._fetchNamespace(t):null;if(l?l.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,l){this.collectedLeaveElements.push(e),e[is]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(t,e,i,r,l){return ig(e)?this._fetchNamespace(t).listen(e,i,r,l):()=>{}}_buildInstruction(t,e,i,r,l){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,l)}destroyInnerAnimations(t){let e=this.driver.query(t,gf,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,yt,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return $l(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[is];if(i&&i.setForRemoval){if(t[is]=yC,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(ng))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)go(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?$l(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function FI(n){return new a.vHH(3402,Jt)}()}_flushAnimations(t,e){const i=new tg,r=[],l=new Map,u=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(ut=>{T.add(ut);const Dt=this.driver.query(ut,".ng-animate-queued",!0);for(let Mt=0;Mt<Dt.length;Mt++)T.add(Dt[Mt])});const A=this.bodyNode,O=Array.from(this.statesByElement.keys()),V=bS(O,this.collectedEnterElements),U=new Map;let ee=0;V.forEach((ut,Dt)=>{const Mt=pf+ee++;U.set(Dt,Mt),ut.forEach(fn=>go(fn,Mt))});const Ee=[],ze=new Set,rt=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Dt=this.collectedLeaveElements[ut],Mt=Dt[is];Mt&&Mt.setForRemoval&&(Ee.push(Dt),ze.add(Dt),Mt.hasAnimation?this.driver.query(Dt,".ng-star-inserted",!0).forEach(fn=>ze.add(fn)):rt.add(Dt))}const it=new Map,nt=bS(O,Array.from(ze));nt.forEach((ut,Dt)=>{const Mt=zy+ee++;it.set(Dt,Mt),ut.forEach(fn=>go(fn,Mt))}),t.push(()=>{V.forEach((ut,Dt)=>{const Mt=U.get(Dt);ut.forEach(fn=>nl(fn,Mt))}),nt.forEach((ut,Dt)=>{const Mt=it.get(Dt);ut.forEach(fn=>nl(fn,Mt))}),Ee.forEach(ut=>{this.processLeaveNode(ut)})});const Lt=[],Gt=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(e).forEach(Mt=>{const fn=Mt.player,Sr=Mt.element;if(Lt.push(fn),this.collectedEnterElements.length){const js=Sr[is];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(Mt.triggerName)){const Fp=js.previousTriggersValues.get(Mt.triggerName),eh=this.statesByElement.get(Mt.element);eh&&eh[Mt.triggerName]&&(eh[Mt.triggerName].value=Fp)}return void fn.destroy()}}const rc=!A||!this.driver.containsElement(A,Sr),Xo=it.get(Sr),Xd=U.get(Sr),hi=this._buildInstruction(Mt,i,Xd,Xo,rc);if(hi.errors&&hi.errors.length)return void Gt.push(hi);if(rc)return fn.onStart(()=>lu(Sr,hi.fromStyles)),fn.onDestroy(()=>Wo(Sr,hi.toStyles)),void r.push(fn);if(Mt.isFallbackTransition)return fn.onStart(()=>lu(Sr,hi.fromStyles)),fn.onDestroy(()=>Wo(Sr,hi.toStyles)),void r.push(fn);const tB=[];hi.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||tB.push(js)}),hi.timelines=tB,i.append(Sr,hi.timelines),u.push({instruction:hi,player:fn,element:Sr}),hi.queriedElements.forEach(js=>Ps(f,js,[]).push(fn)),hi.preStyleProps.forEach((js,Fp)=>{const eh=Object.keys(js);if(eh.length){let Lp=_.get(Fp);Lp||_.set(Fp,Lp=new Set),eh.forEach(eR=>Lp.add(eR))}}),hi.postStyleProps.forEach((js,Fp)=>{const eh=Object.keys(js);let Lp=b.get(Fp);Lp||b.set(Fp,Lp=new Set),eh.forEach(eR=>Lp.add(eR))})});if(Gt.length){const ut=[];Gt.forEach(Dt=>{ut.push(function LI(n,t){return new a.vHH(3505,Jt)}())}),Lt.forEach(Dt=>Dt.destroy()),this.reportError(ut)}const vn=new Map,$r=new Map;u.forEach(ut=>{const Dt=ut.element;i.has(Dt)&&($r.set(Dt,Dt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,vn))}),r.forEach(ut=>{const Dt=ut.element;this._getPreviousPlayers(Dt,!1,ut.namespaceId,ut.triggerName,null).forEach(fn=>{Ps(vn,Dt,[]).push(fn),fn.destroy()})});const Tu=Ee.filter(ut=>ES(ut,_,b)),Iu=new Map;tv(Iu,this.driver,rt,b,Ea).forEach(ut=>{ES(ut,_,b)&&Tu.push(ut)});const h0=new Map;V.forEach((ut,Dt)=>{tv(h0,this.driver,new Set(ut),_,"!")}),Tu.forEach(ut=>{const Dt=Iu.get(ut),Mt=h0.get(ut);Iu.set(ut,Object.assign(Object.assign({},Dt),Mt))});const Np=[],XV=[],eB={};u.forEach(ut=>{const{element:Dt,player:Mt,instruction:fn}=ut;if(i.has(Dt)){if(T.has(Dt))return Mt.onDestroy(()=>Wo(Dt,fn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(fn.totalTime),void r.push(Mt);let Sr=eB;if($r.size>1){let Xo=Dt;const Xd=[];for(;Xo=Xo.parentNode;){const hi=$r.get(Xo);if(hi){Sr=hi;break}Xd.push(Xo)}Xd.forEach(hi=>$r.set(hi,Sr))}const rc=this._buildAnimation(Mt.namespaceId,fn,vn,l,h0,Iu);if(Mt.setRealPlayer(rc),Sr===eB)Np.push(Mt);else{const Xo=this.playersByElement.get(Sr);Xo&&Xo.length&&(Mt.parentPlayer=$l(Xo)),r.push(Mt)}}else lu(Dt,fn.fromStyles),Mt.onDestroy(()=>Wo(Dt,fn.toStyles)),XV.push(Mt),T.has(Dt)&&r.push(Mt)}),XV.forEach(ut=>{const Dt=l.get(ut.element);if(Dt&&Dt.length){const Mt=$l(Dt);ut.setRealPlayer(Mt)}}),r.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<Ee.length;ut++){const Dt=Ee[ut],Mt=Dt[is];if(nl(Dt,zy),Mt&&Mt.hasAnimation)continue;let fn=[];if(f.size){let rc=f.get(Dt);rc&&rc.length&&fn.push(...rc);let Xo=this.driver.query(Dt,yt,!0);for(let Xd=0;Xd<Xo.length;Xd++){let hi=f.get(Xo[Xd]);hi&&hi.length&&fn.push(...hi)}}const Sr=fn.filter(rc=>!rc.destroyed);Sr.length?wS(this,Dt,Sr):this.processLeaveNode(Dt)}return Ee.length=0,Np.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Dt=this.players.indexOf(ut);this.players.splice(Dt,1)}),ut.play()}),Np}elementContainsData(t,e){let i=!1;const r=e[is];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,l){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const _=!l||l==Td;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const l=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,T=b!==l,A=Ps(i,b,[]);this._getPreviousPlayers(b,T,u,f,e.toState).forEach(V=>{const U=V.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),V.destroy(),A.push(V)})}lu(l,e.fromStyles)}_buildAnimation(t,e,i,r,l,u){const f=e.triggerName,_=e.element,b=[],T=new Set,A=new Set,O=e.timelines.map(U=>{const ee=U.element;T.add(ee);const Ee=ee[is];if(Ee&&Ee.removedBeforeQueried)return new su(U.duration,U.delay);const ze=ee!==_,rt=function Id(n){const t=[];return Sd(n,t),t}((i.get(ee)||mS).map(vn=>vn.getRealPlayer())).filter(vn=>!!vn.element&&vn.element===ee),it=l.get(ee),nt=u.get(ee),Lt=Zw(0,this._normalizer,0,U.keyframes,it,nt),Gt=this._buildPlayer(U,Lt,rt);if(U.subTimeline&&r&&A.add(ee),ze){const vn=new kf(t,f,ee);vn.setRealPlayer(Gt),b.push(vn)}return Gt});b.forEach(U=>{Ps(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function vS(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),T.forEach(U=>go(U,HI));const V=$l(O);return V.onDestroy(()=>{T.forEach(U=>nl(U,HI)),Wo(_,e.toStyles)}),A.forEach(U=>{Ps(r,U,[]).push(V)}),V}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new su(t.duration,t.delay)}}class kf{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new su,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Fy(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ps(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ig(n){return n&&1===n.nodeType}function wC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function tv(n,t,e,i,r){const l=[];e.forEach(_=>l.push(wC(_)));const u=[];i.forEach((_,b)=>{const T={};_.forEach(A=>{const O=T[A]=t.computeStyle(b,A,r);(!O||0==O.length)&&(b[is]=gS,u.push(b))}),n.set(b,T)});let f=0;return e.forEach(_=>wC(_,l[f++])),u}function bS(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),l=new Map;function u(f){if(!f)return 1;let _=l.get(f);if(_)return _;const b=f.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),l.set(f,_),_}return t.forEach(f=>{const _=u(f);1!==_&&e.get(_).push(f)}),e}function go(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function nl(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function wS(n,t,e){$l(e).onDone(()=>n.processLeaveNode(t))}function Sd(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof $o?Sd(i.players,t):t.push(i)}}function ES(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(l=>r.add(l)):t.set(n,i),e.delete(n),!0}class Rf{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,l)=>{},this._transitionEngine=new yS(t,e,i),this._timelineEngine=new hS(t,e,i),this._transitionEngine.onRemovalComplete=(r,l)=>this.onRemovalComplete(r,l)}registerTrigger(t,e,i,r,l){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],T=sC(this._driver,l,_,[]);if(_.length)throw function Hw(n,t){return new a.vHH(3404,Jt)}();f=function lS(n,t,e){return new cS(n,t,e)}(r,T,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[l,u]=Yw(i);this._timelineEngine.command(l,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,l){if("@"==i.charAt(0)){const[u,f]=Yw(i);return this._timelineEngine.listen(u,e,f,l)}return this._transitionEngine.listen(t,e,i,r,l)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let TS=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let l=n.initialStylesByElement.get(e);l||n.initialStylesByElement.set(e,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wo(this._element,this._initialStyles),this._endStyles&&(Wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),Wo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nv(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];IS(r)&&(t=t||{},t[r]=n[r])}return t}function IS(n){return"display"===n||"position"===n}class iv{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:wf(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class CC{validateStyleProperty(t){return jy(t)}matchesElement(t,e){return!1}containsElement(t,e){return Gy(t,e)}getParentElement(t){return $m(t)}query(t,e,i){return zm(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,l,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};l&&(_.easing=l);const b={},T=u.filter(O=>O instanceof iv);(function $I(n,t){return 0===n||0===t})(i,r)&&T.forEach(O=>{let V=O.currentSnapshot;Object.keys(V).forEach(U=>b[U]=V[U])}),e=function zI(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let l=t[0],u=[];if(i.forEach(f=>{l.hasOwnProperty(f)||u.push(f),l[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(_){f[_]=wf(n,_)})}}return t}(t,e=e.map(O=>qo(O,!1)),b);const A=function DS(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=nv(t[0]),t.length>1&&(i=nv(t[t.length-1]))):t&&(e=nv(t)),e||i?new TS(n,e,i):null}(t,e);return new iv(t,e,_,A)}}let rv=(()=>{class n extends kw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Rw(e):e;return EC(this._renderer,null,i,"register",[r]),new rg(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class rg extends class Ri{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Of(this._id,t,e||{},this._renderer)}}class Of{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return EC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function EC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const sv="@.disabled";let SS=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{const f=null==u?void 0:u.parentNode(l);f&&u.removeChild(f,l)}}createRenderer(e,i){const l=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(l);return T||(T=new DC("",l,this.engine),this._rendererCache.set(l,T)),T}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,e,T.name,T)};return i.data.animation.forEach(_),new ov(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,f]=l;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Rf),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class DC{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==sv?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ov extends DC{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sv?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function xS(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let l=e.substr(1),u="";return"@"!=l.charAt(0)&&([l,u]=function c1(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(l)),this.engine.listen(this.namespaceId,r,l,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let AS=(()=>{class n extends Rf{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG($y),a.LFG(ev))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Gi=new a.OlP("AnimationModuleType"),cu=[{provide:kw,useClass:rv},{provide:ev,useFactory:function MS(){return new uC}},{provide:Rf,useClass:AS},{provide:a.FYo,useFactory:function xd(n,t,e){return new SS(n,t,e)},deps:[Cn,Rf,a.R0b]}],kS=[{provide:$y,useFactory:()=>new CC},{provide:Gi,useValue:"BrowserAnimations"},...cu],TC=[{provide:$y,useClass:ql},{provide:Gi,useValue:"NoopAnimations"},...cu];let RS=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?TC:kS}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:kS,imports:[sa]}),n})();function IC(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function av(n,t){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const PS=["*"],LS=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function FS(){return!0}});let ln=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!M0()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Aw),a.LFG(LS,8),a.LFG(Q))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pd],pd]}),n})();function Ta(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=zt(t)}}}function Ad(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Zl(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=zt(t)}}}function sg(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ts(e):this.defaultTabIndex}}}function cv(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new lt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==t&&(this.errorState=l,this.stateChanges.next())}}}let uv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Ff(n,t,e){n.nativeElement.classList.toggle(t,e)}let ag=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ln],ln]}),n})();class US{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Lf={enterDuration:225,exitDuration:150},dv=Xc({passive:!0}),xC=["mousedown","touchstart"],hv=["mouseup","mouseleave","touchend","touchcancel"];class AC{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=_a(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l=Object.assign(Object.assign({},Lf),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function MC(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,_=e-r.top,b=l.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function fv(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const A=new US(this,T,i);return A.state=0,this._activeRipples.add(A),i.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const O=A===this._mostRecentTransientRipple;A.state=1,!i.persistent&&(!O||!this._isPointerDown)&&A.fadeOut()},b),A}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},Lf),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=_a(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(xC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ty(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Iy(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,dv)})})}_removeTriggerEvents(){this._triggerElement&&(xC.forEach(t=>{this._triggerElement.removeEventListener(t,this,dv)}),this._pointerUpEventsRegistered&&hv.forEach(t=>{this._triggerElement.removeEventListener(t,this,dv)}))}}const HS=new a.OlP("mat-ripple-global-options");let uu=(()=>{class n{constructor(e,i,r,l,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new AC(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(vi),a.Y36(HS,8),a.Y36(Gi,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ln],ln]}),n})(),cg=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gi,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Vf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ln]]}),n})();const mv=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),OC=new a.OlP("MatOptgroup");let jS=0;class PC{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let gv=(()=>{class n{constructor(e,i,r,l){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+jS++,this.onSelectionChange=new a.vpe,this._stateChanges=new lt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=zt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!po(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new PC(this,e))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),_v=(()=>{class n extends gv{constructor(e,i,r,l){super(e,i,r,l)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(mv,8),a.Y36(OC,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(l){return i._handleKeydown(l)}),2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),a.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:PS,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,IC,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,av,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",i.multiple),a.xp6(3),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[cg,Un,uu],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function yv(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),l=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[l]&&l++;return l}return 0}let vv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pv,tr,ln,Vf]]}),n})();const GS=[[["caption"]],[["colgroup"],["col"]]],FC=["caption","colgroup, col"];let Bf=(()=>{class n extends zh{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[a._Bn([{provide:Nh,useClass:T0},{provide:zh,useExisting:n},{provide:vd,useExisting:n},{provide:ly,useClass:z0},{provide:$h,useValue:null}]),a.qOj],ngContentSelectors:FC,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(a.F$t(GS),a.Hsn(0),a.Hsn(1,1),a.GkF(2,0)(3,1)(4,2)(5,3))},directives:[Sm,Im,fy,wd],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),$i=(()=>{class n extends ji{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matCellDef",""]],features:[a._Bn([{provide:ji,useExisting:n}]),a.qOj]}),n})(),rl=(()=>{class n extends bd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[a._Bn([{provide:bd,useExisting:n}]),a.qOj]}),n})(),bv=(()=>{class n extends Em{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matFooterCellDef",""]],features:[a._Bn([{provide:Em,useExisting:n}]),a.qOj]}),n})(),ug=(()=>{class n extends va{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[a._Bn([{provide:va,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),a.qOj]}),n})(),wv=(()=>{class n extends ay{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[a.qOj]}),n})(),du=(()=>{class n extends Dm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[a.qOj]}),n})(),dg=(()=>{class n extends Tm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[a.qOj]}),n})(),Uf=(()=>{class n extends Hh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[a._Bn([{provide:Hh,useExisting:n}]),a.qOj]}),n})(),Cv=(()=>{class n extends jh{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[a._Bn([{provide:jh,useExisting:n}]),a.qOj]}),n})(),hg=(()=>{class n extends Rs{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[a._Bn([{provide:Rs,useExisting:n}]),a.qOj]}),n})(),Ev=(()=>{class n extends uy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[a._Bn([{provide:uy,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Ho],encapsulation:2}),n})(),Dv=(()=>{class n extends dy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[a._Bn([{provide:dy,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Ho],encapsulation:2}),n})(),Hf=(()=>{class n extends Y0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[a._Bn([{provide:Y0,useExisting:n}]),a.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&a.GkF(0,0)},directives:[Ho],encapsulation:2}),n})(),Iv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Xa,ln],ln]}),n})();class GC{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xv extends GC{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class jf extends GC{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class $C extends GC{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class fg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof jf?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof $C?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class zC extends fg{constructor(t,e,i,r,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let hu=(()=>{class n extends fg{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=l=>{const u=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(l,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(Q))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),Gf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Yo=P(6451);const WC=A0();class KS{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ri(-this._previousScrollPosition.left),t.style.top=ri(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,l=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),WC&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),WC&&(i.scrollBehavior=l,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class ZC{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QS{enable(){}disable(){}attach(){}}function YC(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function JS(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class M1{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();YC(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let k1=(()=>{class n{constructor(e,i,r,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QS,this.close=u=>new ZC(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new KS(this._viewportRuler,this._document),this.reposition=u=>new M1(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=l}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Bh),a.LFG(Gl),a.LFG(a.R0b),a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KC{constructor(t){if(this.scrollStrategy=new QS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class pg{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class Av{constructor(t,e,i,r,l,u,f,_,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new lt.x,this._attachments=new lt.x,this._detachments=new lt.x,this._locationChanges=Sn.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new lt.x,this._outsidePointerEvents=new lt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ri(this._config.width),t.height=ri(this._config.height),t.minWidth=ri(this._config.minWidth),t.minHeight=ri(this._config.minHeight),t.maxWidth=ri(this._config.maxWidth),t.maxHeight=ri(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Y_(e||[]).filter(l=>!!l);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(bn((0,Yo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let mg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||M0()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(e),M0()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG(vi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mv="cdk-overlay-connected-position-bounding-box",R1=/([A-Za-z%]+)$/;class kv{constructor(t,e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt.x,this._resizeSubscription=Sn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Mv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,r,f),b=this._getOverlayPoint(_,e,f),T=this._getOverlayFit(b,e,i,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(T,b,i)?l.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(l.length){let f=null,_=-1;for(const b of l){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>_&&(_=T,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Mv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,l;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?u:f}return e.left<0&&(r-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:r,y:l}}_getOverlayPoint(t,e,i){let r,l;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+l}}_getOverlayFit(t,e,i,r){const l=Rv(e);let{x:u,y:f}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let O=0-f,V=f+l.height-i.height,U=this._subtractOverflows(l.width,0-u,u+l.width-i.width),ee=this._subtractOverflows(l.height,O,V),Ee=U*ee;return{visibleArea:Ee,isCompletelyWithinViewport:l.width*l.height===Ee,fitsInViewportVertically:ee===l.height,fitsInViewportHorizontally:U==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,l=i.right-e.x,u=QC(this._overlayRef.getConfig().minHeight),f=QC(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=f&&f<=l;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Rv(e),l=this._viewportRect,u=Math.max(t.x+r.width-l.width,0),f=Math.max(t.y+r.height-l.height,0),_=Math.max(l.top-i.top-t.y,0),b=Math.max(l.left-i.left-t.x,0);let T=0,A=0;return T=r.width<=l.width?b||-u:t.x<this._viewportMargin?l.left-i.left-t.x:0,A=r.height<=l.height?_||-f:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x:T,y:A},{x:t.x+T,y:t.y+A}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new pg(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let l,u,f,T,A,O;if("top"===e.overlayY)u=t.y,l=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,l=i.height-f+this._viewportMargin;else{const V=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;l=2*V,u=t.y-V,l>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)A=t.x,T=i.right-t.x;else{const V=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;T=2*V,A=t.x-V,T>U&&!this._isInitialRender&&!this._growAfterOpen&&(A=t.x-U/2)}return{top:u,left:A,bottom:f,right:O,width:T,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ri(i.height),r.top=ri(i.top),r.bottom=ri(i.bottom),r.width=ri(i.width),r.left=ri(i.left),r.right=ri(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=ri(l)),u&&(r.maxWidth=ri(u))}this._lastBoundingBoxSize=i,Yl(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Yl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();Yl(i,this._getExactOverlayY(e,t,T)),Yl(i,this._getExactOverlayX(e,t,T))}else i.position="static";let f="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=ri(u.maxHeight):l&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ri(u.maxWidth):l&&(i.maxWidth="")),Yl(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=ri(l.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=ri(l.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JS(t,i),isOriginOutsideView:YC(t,i),isOverlayClipped:JS(e,i),isOverlayOutsideView:YC(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Y_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Yl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function QC(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(R1);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Rv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const ex="cdk-global-overlay-wrapper";class tx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ex),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(ex),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let nx=(()=>{class n{constructor(e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new tx}flexibleConnectedTo(e){return new kv(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Gl),a.LFG(Q),a.LFG(vi),a.LFG(mg))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gg=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ix=(()=>{class n extends gg{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let u=l.length-1;u>-1;u--)if(l[u]._keydownEvents.observers.length>0){const f=l[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),O1=(()=>{class n extends gg{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Ja(l)},this._clickListener=l=>{const u=Ja(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const T=_[b];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(f))break;const A=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(l)):A.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG(vi),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),P1=0,$f=(()=>{class n{constructor(e,i,r,l,u,f,_,b,T,A,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=T,this._location=A,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),u=new KC(e);return u.direction=u.direction||this._directionality.value,new Av(l,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+P1++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new zC(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(k1),a.LFG(mg),a.LFG(a._Vd),a.LFG(nx),a.LFG(ix),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(Q),a.LFG(ft),a.LFG(ye),a.LFG(O1))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const rx=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],JC=new a.OlP("cdk-connected-overlay-scroll-strategy");let XC=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),sx=(()=>{class n{constructor(e,i,r,l,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Sn.w0.EMPTY,this._attachSubscription=Sn.w0.EMPTY,this._detachSubscription=Sn.w0.EMPTY,this._positionSubscription=Sn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new jf(i,r),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=zt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=zt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=zt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=zt(e)}get push(){return this._push}set push(e){this._push=zt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=rx);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!po(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new KC({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof XC?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function qC(n,t=!1){return(0,ti.e)((e,i)=>{let r=0;e.subscribe((0,En.x)(i,l=>{const u=n(l,r++);(u||t)&&i.next(l),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36($f),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(JC),a.Y36(ft,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const Ov={provide:JC,deps:[$f],useFactory:function ox(n){return()=>n.scrollStrategies.reposition()}};let eE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$f,Ov],imports:[[pd,Gf,wm],wm]}),n})();function ax(n,t){}class zf{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const lx={dialogContainer:ru("dialogContainer",[ns("void, exit",si({opacity:0,transform:"scale(0.7)"})),ns("enter",si({transform:"none"})),Go("* => enter",ky([Da("150ms cubic-bezier(0, 0, 0.2, 1)",si({transform:"none",opacity:1})),Um("@*",Bm(),{optional:!0})])),Go("* => void, * => exit",ky([Da("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",si({opacity:0})),Um("@*",Bm(),{optional:!0})]))])};let Pv=(()=>{class n extends fg{constructor(e,i,r,l,u,f,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=f,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=l}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fh())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Fh(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Fh();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(_w),a.Y36(a.sBO),a.Y36(Q,8),a.Y36(zf),a.Y36(_I),a.Y36(a.R0b),a.Y36(iu))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(hu,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),tE=(()=>{class n extends Pv{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&a.WFA("@dialogContainer.start",function(l){return i._onAnimationStart(l)})("@dialogContainer.done",function(l){return i._onAnimationDone(l)}),2&e&&(a.Ikx("id",i._id),a.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),a.d8E("@dialogContainer",i._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&a.YNc(0,ax,0,0,"ng-template",0)},directives:[hu],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[lx.dialogContainer]}}),n})(),nE=0;class _g{constructor(t,e,i="mat-dialog-"+nE++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new lt.x,this._afterClosed=new lt.x,this._beforeClosed=new lt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(In(r=>"opened"===r.state),(0,Pn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(In(r=>"closed"===r.state),(0,Pn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(In(r=>27===r.keyCode&&!this.disableClose&&!po(r))).subscribe(r=>{r.preventDefault(),yg(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():yg(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(In(e=>"closing"===e.state),(0,Pn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function yg(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const iE=new a.OlP("MatDialogData"),cx=new a.OlP("mat-dialog-default-options"),rE=new a.OlP("mat-dialog-scroll-strategy"),ux={provide:rE,deps:[$f],useFactory:function Ko(n){return()=>n.scrollStrategies.block()}};let F1=(()=>{class n{constructor(e,i,r,l,u,f,_,b,T,A){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt.x,this._afterOpenedAtThisLevel=new lt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=rr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function oE(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new zf),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),l=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,l,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),l._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new KC({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const l=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:zf,useValue:i}]}),u=new xv(this._dialogContainerType,i.viewContainerRef,l,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,l){const u=new this._dialogRefConstructor(r,i,l.id);if(e instanceof a.Rgc)i.attachTemplatePortal(new jf(e,null,{$implicit:l.data,dialogRef:u}));else{const f=this._createInjector(l,u,i),_=i.attachComponentPortal(new xv(e,l.viewContainerRef,f,l.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(l.width,l.height).updatePosition(l.position),u}_createInjector(e,i,r){const l=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!l||!l.get(ft,null,a.XFs.Optional))&&u.push({provide:ft,useValue:{value:e.direction,change:et()}}),a.zs3.create({parent:l||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,l)=>{r?l.setAttribute("aria-hidden",r):l.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let l=i[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n}),n})(),vg=(()=>{class n extends F1{constructor(e,i,r,l,u,f,_,b){super(e,i,l,f,_,u,_g,tE,iE,b)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($f),a.LFG(a.zs3),a.LFG(ye,8),a.LFG(cx,8),a.LFG(rE),a.LFG(n,12),a.LFG(mg),a.LFG(Gi,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),dx=0,hx=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=Fv(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){yg(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(_g,8),a.Y36(a.SBq),a.Y36(vg))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(l){return i._onButtonClick(l)}),2&e&&a.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[a.TTD]}),n})(),Nv=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+dx++}ngOnInit(){this._dialogRef||(this._dialogRef=Fv(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(_g,8),a.Y36(a.SBq),a.Y36(vg))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&a.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),aE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),fx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function Fv(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[vg,ux],imports:[[eE,Gf,ln],ln]}),n})();var sr=P(5813);function Lv(){return(0,ti.e)((n,t)=>{let e,i=!1;n.subscribe((0,En.x)(t,r=>{const l=e;e=r,i&&t.next([l,r]),i=!0}))})}var tt,_o=P(2011),Vv=(P(820),P(3942)),Kl=P(9681),bg=P(4859),sl=P(1877),qt=P(2090),mx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ol={},cE=cE||{},At=mx||self;function wg(){}function Bv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function qf(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var uE="closure_uid_"+(1e9*Math.random()>>>0),V1=0;function B1(n,t,e){return n.call.apply(n.bind,arguments)}function U1(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function or(n,t,e){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?B1:U1).apply(null,arguments)}function fu(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ar(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,l){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function Ql(){this.s=this.s,this.o=this.o}var pu={};Ql.prototype.s=!1,Ql.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function L1(n){return Object.prototype.hasOwnProperty.call(n,uE)&&n[uE]||(n[uE]=++V1)}(this);delete pu[n]}},Ql.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Uv=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},Cg=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let l=0;l<i;l++)l in r&&t.call(e,r[l],l,n)};function hE(n){return Array.prototype.concat.apply([],arguments)}function Wf(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function kd(n){return/^[\s\xa0]*$/.test(n)}var ss,Zf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function rs(n,t){return-1!=n.indexOf(t)}function fE(n,t){return n<t?-1:n>t?1:0}e:{var gx=At.navigator;if(gx){var jv=gx.userAgent;if(jv){ss=jv;break e}}ss=""}function Gv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function pE(n){const t={};for(const e in n)t[e]=n[e];return t}var mE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gE(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let l=0;l<mE.length;l++)e=mE[l],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Eg(n){return Eg[" "](n),n}Eg[" "]=wg;var Od,n,yE=rs(ss,"Opera"),Rd=rs(ss,"Trident")||rs(ss,"MSIE"),vE=rs(ss,"Edge"),Dg=vE||Rd,Tg=rs(ss,"Gecko")&&!(rs(ss.toLowerCase(),"webkit")&&!rs(ss,"Edge"))&&!(rs(ss,"Trident")||rs(ss,"MSIE"))&&!rs(ss,"Edge"),H1=rs(ss.toLowerCase(),"webkit")&&!rs(ss,"Edge");function $v(){var n=At.document;return n?n.documentMode:void 0}e:{var zv="",qv=(n=ss,Tg?/rv:([^\);]+)(\)|;)/.exec(n):vE?/Edge\/([\d\.]+)/.exec(n):Rd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):H1?/WebKit\/(\S+)/.exec(n):yE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(qv&&(zv=qv?qv[1]:""),Rd){var bE=$v();if(null!=bE&&bE>parseFloat(zv)){Od=String(bE);break e}}Od=zv}var j1={};var G1=At.document&&Rd&&($v()||parseInt(Od,10))||void 0,$1=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",wg,t),At.removeEventListener("test",wg,t)}catch(e){}return n}();function Ur(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Ig(n,t){if(Ur.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(Tg){e:{try{Eg(t.nodeName);var r=!0;break e}catch(l){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:vx[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Ig.Z.h.call(this)}}Ur.prototype.h=function(){this.defaultPrevented=!0},ar(Ig,Ur);var vx={2:"touch",3:"pen",4:"mouse"};Ig.prototype.h=function(){Ig.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sg="closure_listenable_"+(1e6*Math.random()|0),z1=0;function q1(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++z1,this.ca=this.fa=!1}function Zv(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function s(n){this.src=n,this.g={},this.h=0}function o(n,t){var e=t.type;if(e in n.g){var l,i=n.g[e],r=Uv(i,t);(l=0<=r)&&Array.prototype.splice.call(i,r,1),l&&(Zv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function c(n,t,e,i){for(var r=0;r<n.length;++r){var l=n[r];if(!l.ca&&l.listener==t&&l.capture==!!e&&l.ia==i)return r}return-1}s.prototype.add=function(n,t,e,i,r){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=c(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new q1(t,this.src,l,!!i,r)).fa=e,n.push(t)),t};var d="closure_lm_"+(1e6*Math.random()|0),h={};function m(n,t,e,i,r){if(i&&i.once)return E(n,t,e,i,r);if(Array.isArray(t)){for(var l=0;l<t.length;l++)m(n,t[l],e,i,r);return null}return e=Fe(e),n&&n[Sg]?n.N(t,e,qf(i)?!!i.capture:!!i,r):v(n,t,e,!1,i,r)}function v(n,t,e,i,r,l){if(!t)throw Error("Invalid event type");var u=qf(r)?!!r.capture:!!r,f=Y(n);if(f||(n[d]=f=new s(n)),(e=f.add(t,e,i,u,l)).proxy)return e;if(i=function C(){var t=H;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)$1||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(F(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function E(n,t,e,i,r){if(Array.isArray(t)){for(var l=0;l<t.length;l++)E(n,t[l],e,i,r);return null}return e=Fe(e),n&&n[Sg]?n.O(t,e,qf(i)?!!i.capture:!!i,r):v(n,t,e,!0,i,r)}function x(n,t,e,i,r){if(Array.isArray(t))for(var l=0;l<t.length;l++)x(n,t[l],e,i,r);else i=qf(i)?!!i.capture:!!i,e=Fe(e),n&&n[Sg]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=c(l=n.g[t],e,i,r))&&(Zv(l[e]),Array.prototype.splice.call(l,e,1),0==l.length&&(delete n.g[t],n.h--))):n&&(n=Y(n))&&(t=n.g[t.toString()],n=-1,t&&(n=c(t,e,i,r)),(e=-1<n?t[n]:null)&&M(e))}function M(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Sg])o(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(F(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Y(t))?(o(e,n),0==e.h&&(e.src=null,t[d]=null)):Zv(n)}}}function F(n){return n in h?h[n]:h[n]="on"+n}function H(n,t){if(n.ca)n=!0;else{t=new Ig(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&M(n),n=e.call(i,t)}return n}function Y(n){return(n=n[d])instanceof s?n:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fe(n){return"function"==typeof n?n:(n[_e]||(n[_e]=function(t){return n.handleEvent(t)}),n[_e])}function Re(){Ql.call(this),this.i=new s(this),this.P=this,this.I=null}function He(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ur(t,n);else if(t instanceof Ur)t.target=t.target||n;else{var r=t;gE(t=new Ur(i,n),r)}if(r=!0,e)for(var l=e.length-1;0<=l;l--){var u=t.g=e[l];r=Ce(u,i,!0,t)&&r}if(r=Ce(u=t.g=n,i,!0,t)&&r,r=Ce(u,i,!1,t)&&r,e)for(l=0;l<e.length;l++)r=Ce(u=t.g=e[l],i,!1,t)&&r}function Ce(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,l=0;l<t.length;++l){var u=t[l];if(u&&!u.ca&&u.capture==e){var f=u.listener,_=u.ia||u.src;u.fa&&o(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}ar(Re,Ql),Re.prototype[Sg]=!0,Re.prototype.removeEventListener=function(n,t,e,i){x(this,n,t,e,i)},Re.prototype.M=function(){if(Re.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Zv(e[i]);delete n.g[t],n.h--}}this.I=null},Re.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Re.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var pt=At.JSON.stringify;function Kt(){var n=xg;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Kf,os=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mu,n=>n.reset());class mu{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Yv(n){At.setTimeout(()=>{throw n},0)}function Yf(n,t){Kf||function Kv(){var n=At.Promise.resolve(void 0);Kf=function(){n.then(Qv)}}(),Qf||(Kf(),Qf=!0),xg.add(n,t)}var Qf=!1,xg=new class yn{constructor(){this.h=this.g=null}add(t,e){const i=os.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Qv(){for(var n;n=Kt();){try{n.h.call(n.g)}catch(e){Yv(e)}var t=os;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Qf=!1}function Pd(n,t){Re.call(this),this.h=n||1,this.g=t||At,this.j=or(this.kb,this),this.l=Date.now()}function Jf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bx(n,t,e){if("function"==typeof n)e&&(n=or(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(t)?-1:At.setTimeout(n,t||0)}function W1(n){n.g=bx(()=>{n.g=null,n.i&&(n.i=!1,W1(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ar(Pd,Re),(tt=Pd.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),He(this,"tick"),this.da&&(Jf(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){Pd.Z.M.call(this),Jf(this),delete this.g};class DB extends Ql{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:W1(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jv(n){Ql.call(this),this.h=n,this.g={}}ar(Jv,Ql);var Z1=[];function Y1(n,t,e,i){Array.isArray(e)||(e&&(Z1[0]=e.toString()),e=Z1);for(var r=0;r<e.length;r++){var l=m(t,e[r],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function K1(n){Gv(n.g,function(t,e){this.g.hasOwnProperty(e)&&M(t)},n),n.g={}}function wE(){this.g=!0}function Ag(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function xB(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var l=r[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<r.length;u++)r[u]=""}}}return pt(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}Jv.prototype.M=function(){Jv.Z.M.call(this),K1(this)},Jv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wE.prototype.Aa=function(){this.g=!1},wE.prototype.info=function(){};var Xf={},Q1=null;function CE(){return Q1=Q1||new Re}function J1(n){Ur.call(this,Xf.Ma,n)}function Xv(n){const t=CE();He(t,new J1(t,n))}function X1(n,t){Ur.call(this,Xf.STAT_EVENT,n),this.stat=t}function Fs(n){const t=CE();He(t,new X1(t,n))}function eO(n,t){Ur.call(this,Xf.Na,n),this.size=t}function eb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},t)}Xf.Ma="serverreachability",ar(J1,Ur),Xf.STAT_EVENT="statevent",ar(X1,Ur),Xf.Na="timingevent",ar(eO,Ur);var EE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tO={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wx(){}function iO(){}wx.prototype.h=null;var Dx,tb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Cx(){Ur.call(this,"d")}function Ex(){Ur.call(this,"c")}function DE(){}function nb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Jv(this),this.P=AB,this.W=new Pd(n=Dg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new rO}function rO(){this.i=null,this.g="",this.h=!1}ar(Cx,Ur),ar(Ex,Ur),ar(DE,wx),DE.prototype.g=function(){return new XMLHttpRequest},DE.prototype.i=function(){return{}},Dx=new DE;var AB=45e3,Tx={},TE={};function Ix(n,t,e){n.K=1,n.v=ME(gu(t)),n.s=e,n.U=!0,sO(n,null)}function sO(n,t){n.F=Date.now(),ib(n),n.A=gu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),pO(e.h,"t",i),n.C=0,e=n.l.H,n.h=new rO,n.g=LO(n.l,e?t:null,!n.s),0<n.O&&(n.L=new DB(or(n.Ia,n,n.g),n.O)),Y1(n.V,n.g,"readystatechange",n.gb),t=n.H?pE(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Xv(1),function TB(n,t,e,i,r,l){n.info(function(){if(n.g)if(l)for(var u="",f=l.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");u=2<=A.length&&"type"==A[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function oO(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function aO(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=MB(n,e),r==TE){4==t&&(n.o=4,Fs(14),i=!1),Ag(n.j,n.m,null,"[Incomplete Response]");break}if(r==Tx){n.o=4,Fs(15),Ag(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ag(n.j,n.m,r,null),Sx(n,r)}oO(n)&&r!=TE&&r!=Tx&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Fs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Vx(t),t.L=!0,Fs(11))):(Ag(n.j,n.m,e,"[Invalid Chunked Response]"),ep(n),rb(n))}function MB(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?TE:(e=Number(t.substring(e,i)),isNaN(e)?Tx:(i+=1)+e>t.length?TE:(t=t.substr(i,e),n.C=i+e,t))}function ib(n){n.Y=Date.now()+n.P,lO(n,n.P)}function lO(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eb(or(n.eb,n),t)}function IE(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function rb(n){0==n.l.G||n.I||OO(n.l,n)}function ep(n){IE(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,Jf(n.W),K1(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function Sx(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||Mx(e.i,n)))if(e.I=n.N,!n.J&&Mx(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=eb(or(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;FE(e),PE(e)}Lx(e),Fs(18)}if(1>=_O(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else ip(e,11)}else if((n.J||e.g==n)&&FE(e),!kd(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const T=b[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const A=b[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const V=n.g;if(V){const U=V.g?V.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var l=i.i;!l.g&&(rs(U,"spdy")||rs(U,"quic")||rs(U,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(kx(l,l.h),l.h=null))}if(i.D){const ee=V.g?V.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.sa=ee,oi(i.F,i.D,ee))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=FO(i,i.H?i.la:null,i.W),u.J){yO(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(IE(f),ib(f)),i.g=u}else kO(i);0<e.l.length&&NE(e)}else"stop"!=b[0]&&"close"!=b[0]||ip(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?ip(e,7):Nx(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}Xv(4)}catch(b){}}function xx(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Bv(n)||"string"==typeof n)Cg(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Bv(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function kB(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Bv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var l=0;l<r;l++)t.call(void 0,i[l],e&&e[l],n)}}function Mg(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Mg)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function Ax(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];tp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)tp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function tp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(tt=nb.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const t=this.L;t&&3==_u(n)?t.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const T=_u(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||Dg||this.g&&(this.h.h||this.g.ga()||IO(this.g)))){this.I||4!=T||7==t||Xv(8==t||0>=A?3:2),IE(this);var e=this.g.ba();this.N=e;t:if(oO(this)){var i=IO(this.g);n="";var r=i.length,l=4==_u(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ep(this),rb(this);var u="";break t}this.h.i=new At.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:l&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function IB(n,t,e,i,r,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kd(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Fs(12),ep(this),rb(this);break e}Ag(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sx(this,e)}this.U?(aO(this,T,u),Dg&&this.i&&3==T&&(Y1(this.V,this.W,"tick",this.fb),this.W.start())):(Ag(this.j,this.m,u,null),Sx(this,u)),4==T&&ep(this),this.i&&!this.I&&(4==T?OO(this.l,this):(this.i=!1,ib(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Fs(12)):(this.o=0,Fs(13)),ep(this),rb(this)}}}catch(T){}},tt.fb=function(){if(this.g){var n=_u(this.g),t=this.g.ga();this.C<t.length&&(IE(this),aO(this,n,t),this.i&&4!=n&&ib(this))}},tt.cancel=function(){this.I=!0,ep(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function SB(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Xv(3),Fs(17)),ep(this),this.o=2,rb(this)):lO(this,this.Y-n)},(tt=Mg.prototype).R=function(){Ax(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},tt.T=function(){return Ax(this),this.g.concat()},tt.get=function(n,t){return tp(this.h,n)?this.h[n]:t},tt.set=function(n,t){tp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},tt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],l=this.get(r);n.call(t,l,r,this)}};var cO=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function np(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof np){this.g=void 0!==t?t:n.g,SE(this,n.j),this.s=n.s,xE(this,n.i),AE(this,n.m),this.l=n.l,t=n.h;var e=new ab;e.i=t.i,t.g&&(e.g=new Mg(t.g),e.h=t.h),uO(this,e),this.o=n.o}else n&&(e=String(n).match(cO))?(this.g=!!t,SE(this,e[1]||"",!0),this.s=sb(e[2]||""),xE(this,e[3]||"",!0),AE(this,e[4]),this.l=sb(e[5]||"",!0),uO(this,e[6]||"",!0),this.o=sb(e[7]||"")):(this.g=!!t,this.h=new ab(null,this.g))}function gu(n){return new np(n)}function SE(n,t,e){n.j=e?sb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function xE(n,t,e){n.i=e?sb(t,!0):t}function AE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function uO(n,t,e){t instanceof ab?(n.h=t,function UB(n,t){t&&!n.j&&(Nd(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(hO(this,i),pO(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=ob(t,VB)),n.h=new ab(t,n.g))}function oi(n,t,e){n.h.set(t,e)}function ME(n){return oi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ob(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,NB),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function NB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}np.prototype.toString=function(){var n=[],t=this.j;t&&n.push(ob(t,dO,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(ob(t,dO,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(ob(e,"/"==e.charAt(0)?LB:FB,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",ob(e,BB)),n.join("")};var dO=/[#\/\?@]/g,FB=/[#\?:]/g,LB=/[#\?]/g,VB=/[#\?@]/g,BB=/#/g;function ab(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Nd(n){n.g||(n.g=new Mg,n.h=0,n.i&&function RB(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var l=n[e].substring(0,i);r=n[e].substring(i+1)}else l=n[e];t(l,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function hO(n,t){Nd(n),t=kg(n,t),tp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,tp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&Ax(n)))}function fO(n,t){return Nd(n),t=kg(n,t),tp(n.g.h,t)}function pO(n,t,e){hO(n,t),0<e.length&&(n.i=null,n.g.set(kg(n,t),Wf(e)),n.h+=e.length)}function kg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function mO(n){this.l=n||jB,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=ab.prototype).add=function(n,t){Nd(this),this.i=null,n=kg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},tt.forEach=function(n,t){Nd(this),this.g.forEach(function(e,i){Cg(e,function(r){n.call(t,r,i,this)},this)},this)},tt.T=function(){Nd(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],l=0;l<r.length;l++)e.push(t[i]);return e},tt.R=function(n){Nd(this);var t=[];if("string"==typeof n)fO(this,n)&&(t=hE(t,this.g.get(kg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=hE(t,n[e])}return t},tt.set=function(n,t){return Nd(this),this.i=null,fO(this,n=kg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},tt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var l=0;l<i.length;l++){var u=r;""!==i[l]&&(u+="="+encodeURIComponent(String(i[l]))),n.push(u)}}return this.i=n.join("&")};var jB=10;function gO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function _O(n){return n.h?1:n.g?n.g.size:0}function Mx(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function kx(n,t){n.g?n.g.add(t):n.h=t}function yO(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function vO(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Wf(n.i)}function Rx(){}function GB(){this.g=new Rx}function $B(n,t,e){const i=e||"";try{xx(n,function(r,l){let u=r;qf(r)&&(u=pt(r)),t.push(i+l+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function kE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(l){}}function lb(n){this.l=n.$b||null,this.j=n.ib||!1}function RE(n,t){Re.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=Ox,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mO.prototype.cancel=function(){if(this.i=vO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Rx.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},Rx.prototype.parse=function(n){return At.JSON.parse(n,void 0)},ar(lb,wx),lb.prototype.g=function(){return new RE(this.l,this.j)},lb.prototype.i=function(n){return function(){return n}}({}),ar(RE,Re);var Ox=0;function bO(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function cb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ub(n)}function ub(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=RE.prototype).open=function(n,t){if(this.readyState!=Ox)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ub(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||At).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,cb(this)),this.readyState=Ox},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ub(this)),this.g&&(this.readyState=3,ub(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bO(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?cb(this):ub(this),3==this.readyState&&bO(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,cb(this))},tt.Ta=function(n){this.g&&(this.response=n,cb(this))},tt.ha=function(){this.g&&cb(this)},tt.setRequestHeader=function(n,t){this.v.append(n,t)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(RE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qB=At.JSON.parse;function zi(n){Re.call(this),this.headers=new Mg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wO,this.K=this.L=!1}ar(zi,Re);var wO="",WB=/^https?$/i,ZB=["POST","PUT"];function KB(n){return"content-type"==n.toLowerCase()}function CO(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,EO(n),OE(n)}function EO(n){n.D||(n.D=!0,He(n,"complete"),He(n,"error"))}function DO(n){if(n.h&&void 0!==cE&&(!n.C[1]||4!=_u(n)||2!=n.ba()))if(n.v&&4==_u(n))bx(n.Fa,0,n);else if(He(n,"readystatechange"),4==_u(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(cO)[1]||null;if(!r&&At.self&&At.self.location){var l=At.self.location.protocol;r=l.substr(0,l.length-1)}i=!WB.test(r?r.toLowerCase():"")}e=i}if(e)He(n,"complete"),He(n,"success");else{n.m=6;try{var u=2<_u(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",EO(n)}}finally{OE(n)}}}function OE(n,t){if(n.g){TO(n);const e=n.g,i=n.C[0]?wg:null;n.g=null,n.C=null,t||He(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function TO(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function _u(n){return n.g?n.g.readyState:0}function IO(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case wO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Px(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function QB(n){let t="";return Gv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):oi(n,t,e))}function db(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function SO(n){this.za=0,this.l=[],this.h=new wE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=db("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=db("baseRetryDelayMs",5e3,n),this.$a=db("retryDelaySeedMs",1e4,n),this.Ya=db("forwardChannelMaxRetries",2,n),this.ra=db("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new mO(n&&n.concurrentRequestLimit),this.Ca=new GB,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Nx(n){if(xO(n),3==n.G){var t=n.V++,e=gu(n.F);oi(e,"SID",n.J),oi(e,"RID",t),oi(e,"TYPE","terminate"),hb(n,e),(t=new nb(n,n.h,t,void 0)).K=2,t.v=ME(gu(e)),e=!1,At.navigator&&At.navigator.sendBeacon&&(e=At.navigator.sendBeacon(t.v.toString(),"")),!e&&At.Image&&((new Image).src=t.v,e=!0),e||(t.g=LO(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ib(t)}NO(n)}function PE(n){n.g&&(Vx(n),n.g.cancel(),n.g=null)}function xO(n){PE(n),n.u&&(At.clearTimeout(n.u),n.u=null),FE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function Fx(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&NE(n)}function NE(n){gO(n.i)||n.m||(n.m=!0,Yf(n.Ha,n),n.C=0)}function AO(n,t){var e;e=t?t.m:n.V++;const i=gu(n.F);oi(i,"SID",n.J),oi(i,"RID",e),oi(i,"AID",n.U),hb(n,i),n.o&&n.s&&Px(i,n.o,n.s),e=new nb(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=MO(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),kx(n.i,e),Ix(e,i,t)}function hb(n,t){n.j&&xx({},function(e,i){oi(t,i,e)})}function MO(n,t,e){e=Math.min(n.l.length,e);var i=n.j?or(n.j.Oa,n.j,n):null;e:{var r=n.l;let l=-1;for(;;){const u=["count="+e];-1==l?0<e?(l=r[0].h,u.push("ofs="+l)):l=0:u.push("ofs="+l);let f=!0;for(let _=0;_<e;_++){let b=r[_].h;const T=r[_].g;if(b-=l,0>b)l=Math.max(0,r[_].h-100),f=!1;else try{$B(T,u,"req"+b+"_")}catch(A){i&&i(T)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function kO(n){n.g||n.u||(n.Y=1,Yf(n.Ga,n),n.A=0)}function Lx(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=eb(or(n.Ga,n),PO(n,n.A)),n.A++,0))}function Vx(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function RO(n){n.g=new nb(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=gu(n.oa);oi(t,"RID","rpc"),oi(t,"SID",n.J),oi(t,"CI",n.N?"0":"1"),oi(t,"AID",n.U),hb(n,t),oi(t,"TYPE","xmlhttp"),n.o&&n.s&&Px(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=ME(gu(t)),e.s=null,e.U=!0,sO(e,n)}function FE(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function OO(n,t){var e=null;if(n.g==t){FE(n),Vx(n),n.g=null;var i=2}else{if(!Mx(n.i,t))return;e=t.D,yO(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;He(i=CE(),new eO(i,e,t,r)),NE(n)}else kO(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function JB(n,t){return!(_O(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=eb(or(n.Ha,n,t),PO(n,n.C)),n.C++,0)))}(n,t)||2==i&&Lx(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:ip(n,5);break;case 4:ip(n,10);break;case 3:ip(n,6);break;default:ip(n,2)}}function PO(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function ip(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=or(n.jb,n);e||(e=new np("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||SE(e,"https"),ME(e)),function zB(n,t){const e=new wE;if(At.Image){const i=new Image;i.onload=fu(kE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=fu(kE,e,i,"TestLoadImage: error",!1,t),i.onabort=fu(kE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=fu(kE,e,i,"TestLoadImage: timeout",!1,t),At.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Fs(2);n.G=0,n.j&&n.j.va(t),NO(n),xO(n)}function NO(n){n.G=0,n.I=-1,n.j&&((0!=vO(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Wf(n.l),n.l.length=0),n.j.ua())}function FO(n,t,e){let i=function OB(n){return n instanceof np?gu(n):new np(n,void 0)}(e);if(""!=i.i)t&&xE(i,t+"."+i.i),AE(i,i.m);else{const r=At.location;i=function PB(n,t,e,i){var r=new np(null,void 0);return n&&SE(r,n),t&&xE(r,t),e&&AE(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Gv(n.aa,function(r,l){oi(i,l,r)}),e=n.sa,(t=n.D)&&e&&oi(i,t,e),oi(i,"VER",n.ma),hb(n,i),i}function LO(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new zi(e&&n.Ba&&!n.qa?new lb({ib:!0}):n.qa)).L=n.H,t}function VO(){}function LE(){if(Rd&&!(10<=Number(G1)))throw Error("Environmental error: no available transport.")}function Qo(n,t){Re.call(this),this.g=new SO(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!kd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kd(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Rg(this)}function BO(n){Cx.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function UO(){Ex.call(this),this.status=1}function Rg(n){this.g=n}(tt=zi.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dx.g(),this.C=function nO(n){return n.h||(n.h=n.i())}(this.u?this.u:Dx),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(l){return void CO(this,l)}n=e||"";const r=new Mg(this.headers);i&&xx(i,function(l,u){r.set(u,l)}),i=function Hv(n){e:{var t=KB;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=At.FormData&&n instanceof At.FormData,!(0<=Uv(ZB,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(l,u){this.g.setRequestHeader(u,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{TO(this),0<this.B&&((this.K=function YB(n){return Rd&&function _x(){return function _E(n){var t=j1;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=Zf(String(Od)).split("."),e=Zf("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",l=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==r[0].length&&0==l[0].length)break;n=fE(0==r[1].length?0:parseInt(r[1],10),0==l[1].length?0:parseInt(l[1],10))||fE(0==r[2].length,0==l[2].length)||fE(r[2],l[2]),r=r[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=bx(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){CO(this,l)}},tt.pa=function(){void 0!==cE&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,He(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,He(this,"complete"),He(this,"abort"),OE(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),OE(this,!0)),zi.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?DO(this):this.cb())},tt.cb=function(){DO(this)},tt.ba=function(){try{return 2<_u(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),qB(t)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=SO.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new nb(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=pE(l),gE(l,this.P)):l=this.P),null===this.o&&(r.H=l),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=MO(this,r,t),oi(e=gu(this.F),"RID",n),oi(e,"CVER",22),this.D&&oi(e,"X-HTTP-Session-Id",this.D),hb(this,e),this.o&&l&&Px(e,this.o,l),kx(this.i,r),this.Ra&&oi(e,"TYPE","init"),this.ja?(oi(e,"$req",t),oi(e,"SID","null"),r.$=!0,Ix(r,e,null)):Ix(r,e,t),this.G=2}}else 3==this.G&&(n?AO(this,n):0==this.l.length||gO(this.i)||AO(this))},tt.Ga=function(){if(this.u=null,RO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=eb(or(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fs(10),PE(this),RO(this))},tt.ab=function(){null!=this.v&&(this.v=null,PE(this),Lx(this),Fs(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fs(2)):(this.h.info("Failed to ping google.com"),Fs(1))},(tt=VO.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},LE.prototype.g=function(n,t){return new Qo(n,t)},ar(Qo,Re),Qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Yf(or(n.hb,n,t))),Fs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=FO(n,null,n.W),NE(n)},Qo.prototype.close=function(){Nx(this.g)},Qo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,Fx(this.g,t)}else this.v?((t={}).__data__=pt(n),Fx(this.g,t)):Fx(this.g,n)},Qo.prototype.M=function(){this.g.j=null,delete this.j,Nx(this.g),delete this.g,Qo.Z.M.call(this)},ar(BO,Cx),ar(UO,Ex),ar(Rg,VO),Rg.prototype.xa=function(){He(this.g,"a")},Rg.prototype.wa=function(n){He(this.g,new BO(n))},Rg.prototype.va=function(n){He(this.g,new UO(n))},Rg.prototype.ua=function(){He(this.g,"b")},LE.prototype.createWebChannel=LE.prototype.g,Qo.prototype.send=Qo.prototype.u,Qo.prototype.open=Qo.prototype.m,Qo.prototype.close=Qo.prototype.close,EE.NO_ERROR=0,EE.TIMEOUT=8,EE.HTTP_ERROR=6,tO.COMPLETE="complete",iO.EventType=tb,tb.OPEN="a",tb.CLOSE="b",tb.ERROR="c",tb.MESSAGE="d",Re.prototype.listen=Re.prototype.N,zi.prototype.listenOnce=zi.prototype.O,zi.prototype.getLastError=zi.prototype.La,zi.prototype.getLastErrorCode=zi.prototype.Da,zi.prototype.getStatus=zi.prototype.ba,zi.prototype.getResponseJson=zi.prototype.Qa,zi.prototype.getResponseText=zi.prototype.ga,zi.prototype.send=zi.prototype.ea;var XB=ol.createWebChannelTransport=function(){return new LE},eU=ol.getStatEventTarget=function(){return CE()},Bx=ol.ErrorCode=EE,tU=ol.EventType=tO,nU=ol.Event=Xf,HO=ol.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},iU=ol.FetchXmlHttpFactory=lb,VE=ol.WebChannel=iO,rU=ol.XhrIo=zi;const jO="@firebase/firestore";class Hr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Hr.UNAUTHENTICATED=new Hr(null),Hr.GOOGLE_CREDENTIALS=new Hr("google-credentials-uid"),Hr.FIRST_PARTY=new Hr("first-party-uid"),Hr.MOCK_USER=new Hr("mock-user");let Og="9.6.11";const Fd=new sl.Yd("@firebase/firestore");function Ux(){return Fd.logLevel}function Le(n,...t){if(Fd.logLevel<=sl.in.DEBUG){const e=t.map(Hx);Fd.debug(`Firestore (${Og}): ${n}`,...e)}}function qi(n,...t){if(Fd.logLevel<=sl.in.ERROR){const e=t.map(Hx);Fd.error(`Firestore (${Og}): ${n}`,...e)}}function fb(n,...t){if(Fd.logLevel<=sl.in.WARN){const e=t.map(Hx);Fd.warn(`Firestore (${Og}): ${n}`,...e)}}function Hx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ot(n="Unexpected state"){const t=`FIRESTORE (${Og}) INTERNAL ASSERTION FAILED: `+n;throw qi(t),new Error(t)}function Ot(n,t){n||ot()}function We(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends qt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class GO{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Hr.UNAUTHENTICATED))}shutdown(){}}class lU{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class cU{constructor(t){this.t=t,this.currentUser=Hr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const l=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new wr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const b=u;t.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield l(i.currentUser)}))},_=b=>{Le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new wr)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new GO(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new Hr(t)}}class uU{constructor(t,e,i){this.type="FirstParty",this.user=Hr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class dU{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new uU(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Hr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $O{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hU{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=l=>{null!=l.error&&Le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.p;return this.p=l.token,Le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const r=l=>{Le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?r(l):Le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),this.p=e.token,new $O(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Jo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function fU(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Jo.A=-1;class zO{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=fU(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<e&&(i+=t.charAt(r[l]%t.length))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function Pg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function qO(n){return n+"\0"}class Oi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Oi.fromMillis(Date.now())}static fromDate(t){return Oi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Oi(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Oi(0,0))}static max(){return new xt(new Oi(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function WO(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function rp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ZO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class pb{constructor(t,e,i){void 0===e?e=0:e>t.length&&ot(),void 0===i?i=t.length-e:i>t.length-e&&ot(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===pb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof pb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const l=t.get(r),u=e.get(r);if(l<u)return-1;if(l>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class cn extends pb{construct(t,e,i){return new cn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new cn(e)}static emptyPath(){return new cn([])}}const pU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends pb{construct(t,e,i){return new Cr(t,e,i)}static isValidIdentifier(t){return pU.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const l=()=>{if(0===i.length)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(l(),r++)}if(l(),u)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cr(e)}static emptyPath(){return new Cr([])}}class Ng{constructor(t){this.fields=t,t.sort(Cr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Pg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class lr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new lr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let l=0;l<i.length;++l)r+=String.fromCharCode(i[l]);return r}(t);return new lr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const gU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ld(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=gU.exec(n);if(Ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sp(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function jx(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function YO(n){const t=n.mapValue.fields.__previous_value__;return jx(t)?YO(t):t}function mb(n){const t=Ld(n.mapValue.fields.__local_write_time__.timestampValue);return new Oi(t.seconds,t.nanos)}class _U{constructor(t,e,i,r,l,u,f,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class yu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new yu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof yu&&t.projectId===this.projectId&&t.database===this.database}}function op(n){return null==n}function gb(n){return 0===n&&1/n==-1/0}function KO(n){return"number"==typeof n&&Number.isInteger(n)&&!gb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class $e{constructor(t){this.path=t}static fromPath(t){return new $e(cn.fromString(t))}static fromName(t){return new $e(cn.fromString(t).popFirst(5))}static empty(){return new $e(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===cn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new $e(new cn(t.slice()))}}const QO={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},JO={nullValue:"NULL_VALUE"};function ap(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jx(n)?4:nP(n)?9:10:ot()}function Jl(n,t){if(n===t)return!0;const e=ap(n);if(e!==ap(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return mb(n).isEqual(mb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const l=Ld(i.timestampValue),u=Ld(r.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,sp(n.bytesValue).isEqual(sp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return bi(i.geoPointValue.latitude)===bi(r.geoPointValue.latitude)&&bi(i.geoPointValue.longitude)===bi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return bi(i.integerValue)===bi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const l=bi(i.doubleValue),u=bi(r.doubleValue);return l===u?gb(l)===gb(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Pg(n.arrayValue.values||[],t.arrayValue.values||[],Jl);case 10:return function(i,r){const l=i.mapValue.fields||{},u=r.mapValue.fields||{};if(WO(l)!==WO(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===u[f]||!Jl(l[f],u[f])))return!1;return!0}(n,t);default:return ot()}var r}function _b(n,t){return void 0!==(n.values||[]).find(e=>Jl(e,t))}function Vd(n,t){if(n===t)return 0;const e=ap(n),i=ap(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return function(r,l){const u=bi(r.integerValue||r.doubleValue),f=bi(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return XO(n.timestampValue,t.timestampValue);case 4:return XO(mb(n),mb(t));case 5:return jt(n.stringValue,t.stringValue);case 6:return function(r,l){const u=sp(r),f=sp(l);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,l){const u=r.split("/"),f=l.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=jt(u[_],f[_]);if(0!==b)return b}return jt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,l){const u=jt(bi(r.latitude),bi(l.latitude));return 0!==u?u:jt(bi(r.longitude),bi(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,l){const u=r.values||[],f=l.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=Vd(u[_],f[_]);if(b)return b}return jt(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,l){const u=r.fields||{},f=Object.keys(u),_=l.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=jt(f[T],b[T]);if(0!==A)return A;const O=Vd(u[f[T]],_[b[T]]);if(0!==O)return O}return jt(f.length,b.length)}(n.mapValue,t.mapValue);default:throw ot()}}function XO(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return jt(n,t);const e=Ld(n),i=Ld(t),r=jt(e.seconds,i.seconds);return 0!==r?r:jt(e.nanos,i.nanos)}function Fg(n){return Gx(n)}function Gx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ld(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sp(n.bytesValue).toBase64():"referenceValue"in n?$e.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Gx(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const f of r)u?u=!1:l+=",",l+=`${f}:${Gx(i.fields[f])}`;return l+"}"}(n.mapValue):ot();var t}function lp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function $x(n){return!!n&&"integerValue"in n}function yb(n){return!!n&&"arrayValue"in n}function eP(n){return!!n&&"nullValue"in n}function tP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function BE(n){return!!n&&"mapValue"in n}function vb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return rp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=vb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=vb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function nP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function yU(n){return"nullValue"in n?JO:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lp(yu.empty(),$e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function vU(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lp(yu.empty(),$e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?QO:ot()}function iP(n,t){return void 0===n?t:void 0===t||Vd(n,t)>0?n:t}function rP(n,t){return void 0===n?t:void 0===t||Vd(n,t)<0?n:t}class as{constructor(t){this.value=t}static empty(){return new as({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!BE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=vb(e)}setAll(t){let e=Cr.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=vb(u):r.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,r)}delete(t){const e=this.field(t.popLast());BE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Jl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];BE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){rp(e,(r,l)=>t[r]=l);for(const r of i)delete t[r]}clone(){return new as(vb(this.value))}}function sP(n){const t=[];return rp(n.fields,(e,i)=>{const r=new Cr([e]);if(BE(i)){const l=sP(i.mapValue).fields;if(0===l.length)t.push(r);else for(const u of l)t.push(r.child(u))}else t.push(r)}),new Ng(t)}class Yn{constructor(t,e,i,r,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Yn(t,0,xt.min(),xt.min(),as.empty(),0)}static newFoundDocument(t,e,i){return new Yn(t,1,e,xt.min(),i,0)}static newNoDocument(t,e){return new Yn(t,2,e,xt.min(),as.empty(),0)}static newUnknownDocument(t,e){return new Yn(t,3,e,xt.min(),as.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=as.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=as.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Yn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class UE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function zx(n){return n.fields.find(t=>2===t.kind)}function cp(n){return n.fields.filter(t=>2!==t.kind)}UE.UNKNOWN_ID=-1;class HE{constructor(t,e){this.fieldPath=t,this.kind=e}}class bb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new bb(0,vu.min())}}function oP(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new Oi(e+1,0):new Oi(e,i));return new vu(r,$e.empty(),t)}function bU(n){return new vu(n.readTime,n.key,-1)}class vu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new vu(xt.min(),$e.empty(),-1)}static max(){return new vu(xt.max(),$e.empty(),-1)}}function wU(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=$e.comparator(n.documentKey,t.documentKey),0!==e?e:jt(n.largestBatchId,t.largestBatchId))}class CU{constructor(t,e=null,i=[],r=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=u,this.endAt=f,this.P=null}}function aP(n,t=null,e=[],i=[],r=null,l=null,u=null){return new CU(n,t,e,i,r,l,u)}function up(n){const t=We(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Fg(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),op(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Fg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Fg(i)).join(",")),t.P=e}return t.P}function wb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!kU(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Jl(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!hP(n.startAt,t.startAt)&&hP(n.endAt,t.endAt)}function jE(n){return $e.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function GE(n,t){return n.filters.filter(e=>e instanceof jr&&e.field.isEqual(t))}function lP(n,t,e){let i,r=!0;for(const l of GE(n,t)){let u,f=!0;switch(l.op){case"<":case"<=":u=yU(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=JO}iP(i,u)===u&&(i=u,r=f)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];iP(i,u)===u&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function cP(n,t,e){let i,r=!0;for(const l of GE(n,t)){let u,f=!0;switch(l.op){case">=":case">":u=vU(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=QO}rP(i,u)===u&&(i=u,r=f)}if(null!==e)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];rP(i,u)===u&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class jr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new DU(t,e,i):"array-contains"===e?new SU(t,i):"in"===e?new xU(t,i):"not-in"===e?new AU(t,i):"array-contains-any"===e?new MU(t,i):new jr(t,e,i)}static V(t,e,i){return"in"===e?new TU(t,i):new IU(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(Vd(e,this.value)):null!==e&&ap(this.value)===ap(e)&&this.v(Vd(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ot()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class DU extends jr{constructor(t,e,i){super(t,e,i),this.key=$e.fromName(i.referenceValue)}matches(t){const e=$e.comparator(t.key,this.key);return this.v(e)}}class TU extends jr{constructor(t,e){super(t,"in",e),this.keys=uP(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class IU extends jr{constructor(t,e){super(t,"not-in",e),this.keys=uP(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function uP(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>$e.fromName(i.referenceValue))}class SU extends jr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return yb(e)&&_b(e.arrayValue,this.value)}}class xU extends jr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&_b(this.value.arrayValue,e)}}class AU extends jr{constructor(t,e){super(t,"not-in",e)}matches(t){if(_b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!_b(this.value.arrayValue,e)}}class MU extends jr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!yb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>_b(this.value.arrayValue,i))}}class Bd{constructor(t,e){this.position=t,this.inclusive=e}}class Lg{constructor(t,e="asc"){this.field=t,this.dir=e}}function kU(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function dP(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const l=t[r],u=n.position[r];if(i=l.field.isKeyField()?$e.comparator($e.fromName(u.referenceValue),e.key):Vd(u,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function hP(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Jl(n.position[e],t.position[e]))return!1;return!0}class bu{constructor(t,e=null,i=[],r=[],l=null,u="F",f=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function fP(n,t,e,i,r,l,u,f){return new bu(n,t,e,i,r,l,u,f)}function Vg(n){return new bu(n)}function $E(n){return!op(n.limit)&&"F"===n.limitType}function zE(n){return!op(n.limit)&&"L"===n.limitType}function qx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Wx(n){for(const t of n.filters)if(t.S())return t.field;return null}function Zx(n){return null!==n.collectionGroup}function Bg(n){const t=We(n);if(null===t.D){t.D=[];const e=Wx(t),i=qx(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Lg(e)),t.D.push(new Lg(Cr.keyField(),"asc"));else{let r=!1;for(const l of t.explicitOrderBy)t.D.push(l),l.field.isKeyField()&&(r=!0);if(!r){const l=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Lg(Cr.keyField(),l))}}}return t.D}function Sa(n){const t=We(n);if(!t.C)if("F"===t.limitType)t.C=aP(t.path,t.collectionGroup,Bg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const l of Bg(t))e.push(new Lg(l.field,"desc"===l.dir?"asc":"desc"));const i=t.endAt?new Bd(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new Bd(t.startAt.position,!t.startAt.inclusive):null;t.C=aP(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function pP(n,t,e){return new bu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cb(n,t){return wb(Sa(n),Sa(t))&&n.limitType===t.limitType}function mP(n){return`${up(Sa(n))}|lt:${n.limitType}`}function Yx(n){return`Query(target=${function EU(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Fg(i.value)}`;var i}).join(", ")}]`),op(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Fg(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Fg(e)).join(",")),`Target(${t})`}(Sa(n))}; limitType=${n.limitType})`}function Kx(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):$e.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,l,u){const f=dP(r,l,u);return r.inclusive?f<=0:f<0}(e.startAt,Bg(e),i)||e.endAt&&!function(r,l,u){const f=dP(r,l,u);return r.inclusive?f>=0:f>0}(e.endAt,Bg(e),i)));var e,i}function gP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _P(n){return(t,e)=>{let i=!1;for(const r of Bg(n)){const l=RU(r,t,e);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function RU(n,t,e){const i=n.field.isKeyField()?$e.comparator(t.key,e.key):function(r,l,u){const f=l.data.field(r),_=u.data.field(r);return null!==f&&null!==_?Vd(f,_):ot()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}function yP(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gb(t)?"-0":t}}function vP(n){return{integerValue:""+n}}function bP(n,t){return KO(t)?vP(t):yP(n,t)}class qE{constructor(){this._=void 0}}function OU(n,t,e){return n instanceof Ug?function(i,r){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(l.fields.__previous_value__=r),{mapValue:l}}(e,t):n instanceof dp?CP(n,t):n instanceof hp?EP(n,t):function(i,r){const l=wP(i,r),u=DP(l)+DP(i.k);return $x(l)&&$x(i.k)?vP(u):yP(i.M,u)}(n,t)}function PU(n,t,e){return n instanceof dp?CP(n,t):n instanceof hp?EP(n,t):e}function wP(n,t){return n instanceof Hg?$x(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Ug extends qE{}class dp extends qE{constructor(t){super(),this.elements=t}}function CP(n,t){const e=TP(t);for(const i of n.elements)e.some(r=>Jl(r,i))||e.push(i);return{arrayValue:{values:e}}}class hp extends qE{constructor(t){super(),this.elements=t}}function EP(n,t){let e=TP(t);for(const i of n.elements)e=e.filter(r=>!Jl(r,i));return{arrayValue:{values:e}}}class Hg extends qE{constructor(t,e){super(),this.M=t,this.k=e}}function DP(n){return bi(n.integerValue||n.doubleValue)}function TP(n){return yb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Eb{constructor(t,e){this.field=t,this.transform=e}}class FU{constructor(t,e){this.version=t,this.transformResults=e}}class Wi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Wi}static exists(t){return new Wi(void 0,t)}static updateTime(t){return new Wi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function WE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ZE{}function LU(n,t,e){n instanceof Db?function(i,r,l){const u=i.value.clone(),f=AP(i.fieldTransforms,r,l.transformResults);u.setAll(f),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof fp?function(i,r,l){if(!WE(i.precondition,r))return void r.convertToUnknownDocument(l.version);const u=AP(i.fieldTransforms,r,l.transformResults),f=r.data;f.setAll(xP(i)),f.setAll(u),r.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Qx(n,t,e){var r;n instanceof Db?function(i,r,l){if(!WE(i.precondition,r))return;const u=i.value.clone(),f=MP(i.fieldTransforms,l,r);u.setAll(f),r.convertToFoundDocument(SP(r),u).setHasLocalMutations()}(n,t,e):n instanceof fp?function(i,r,l){if(!WE(i.precondition,r))return;const u=MP(i.fieldTransforms,l,r),f=r.data;f.setAll(xP(i)),f.setAll(u),r.convertToFoundDocument(SP(r),f).setHasLocalMutations()}(n,t,e):WE(n.precondition,r=t)&&r.convertToNoDocument(xt.min())}function VU(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),l=wP(i.transform,r||null);null!=l&&(null==e&&(e=as.empty()),e.set(i.field,l))}return e||null}function IP(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Pg(e,i,(r,l)=>function NU(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof dp&&i instanceof dp||e instanceof hp&&i instanceof hp?Pg(e.elements,i.elements,Jl):e instanceof Hg&&i instanceof Hg?Jl(e.k,i.k):e instanceof Ug&&i instanceof Ug);var e,i}(r,l))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function SP(n){return n.isFoundDocument()?n.version:xt.min()}class Db extends ZE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class fp extends ZE{constructor(t,e,i,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}}function xP(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function AP(n,t,e){const i=new Map;Ot(n.length===e.length);for(let r=0;r<e.length;r++){const l=n[r],u=l.transform,f=t.data.field(l.field);i.set(l.field,PU(u,f,e[r]))}return i}function MP(n,t,e){const i=new Map;for(const r of n){const l=r.transform,u=e.data.field(r.field);i.set(r.field,OU(l,u,t))}return i}class Tb extends ZE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class Jx extends ZE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class BU{constructor(t){this.count=t}}var Zi,un;function kP(n){switch(n){default:return ot();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function RP(n){if(void 0===n)return qi("GRPC error has no .code"),de.UNKNOWN;switch(n){case Zi.OK:return de.OK;case Zi.CANCELLED:return de.CANCELLED;case Zi.UNKNOWN:return de.UNKNOWN;case Zi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Zi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Zi.INTERNAL:return de.INTERNAL;case Zi.UNAVAILABLE:return de.UNAVAILABLE;case Zi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Zi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Zi.NOT_FOUND:return de.NOT_FOUND;case Zi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Zi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Zi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Zi.ABORTED:return de.ABORTED;case Zi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Zi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Zi.DATA_LOSS:return de.DATA_LOSS;default:return ot()}}(un=Zi||(Zi={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";class Ud{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){rp(this.inner,(e,i)=>{for(const[r,l]of i)t(r,l)})}isEmpty(){return ZO(this.inner)}size(){return this.innerSize}}class Pi{constructor(t,e){this.comparator=t,this.root=e||Gr.EMPTY}insert(t,e){return new Pi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Gr.BLACK,null,null))}remove(t){return new Pi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Gr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new YE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new YE(this.root,t,this.comparator,!1)}getReverseIterator(){return new YE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new YE(this.root,t,this.comparator,!0)}}class YE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Gr{constructor(t,e,i,r,l){this.key=t,this.value=e,this.color=null!=i?i:Gr.RED,this.left=null!=r?r:Gr.EMPTY,this.right=null!=l?l:Gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,l){return new Gr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const l=i(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===l?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Gr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1,Gr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Gr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kn{constructor(t){this.comparator=t,this.data=new Pi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new OP(this.data.getIterator())}getIteratorFrom(t){return new OP(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Kn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Kn(this.comparator);return e.data=t,e}}class OP{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jg(n){return n.hasNext()?n.getNext():void 0}const UU=new Pi($e.comparator);function xa(){return UU}const HU=new Pi($e.comparator);function Xx(){return HU}function Ib(){return new Ud(n=>n.toString(),(n,t)=>n.isEqual(t))}const jU=new Pi($e.comparator),GU=new Kn($e.comparator);function Dn(...n){let t=GU;for(const e of n)t=t.add(e);return t}const $U=new Kn(jt);function KE(){return $U}class Sb{constructor(t,e,i,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,xb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Sb(xt.min(),i,KE(),xa(),Dn())}}class xb{constructor(t,e,i,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e){return new xb(lr.EMPTY_BYTE_STRING,e,Dn(),Dn(),Dn())}}class QE{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class PP{constructor(t,e){this.targetId=t,this.$=e}}class NP{constructor(t,e,i=lr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class FP{constructor(){this.B=0,this.L=VP(),this.U=lr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=Dn(),e=Dn(),i=Dn();return this.L.forEach((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new xb(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=VP()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class zU{constructor(t){this.nt=t,this.st=new Map,this.it=xa(),this.rt=LP(),this.ot=new Kn(jt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ot()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const l=r.target;if(jE(l))if(0===i){const u=new $e(l.path);this.ct(e,u,Yn.newNoDocument(u,xt.min()))}else Ot(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((l,u)=>{const f=this.wt(u);if(f){if(l.current&&jE(f.target)){const _=new $e(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Yn.newNoDocument(_,t))}l.j&&(e.set(u,l.H()),l.J())}});let i=Dn();this.rt.forEach((l,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(l))}),this.it.forEach((l,u)=>u.setReadTime(t));const r=new Sb(t,e,this.ot,this.it,i);return this.it=xa(),this.rt=LP(),this.ot=new Kn(jt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new FP,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Kn(jt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Le("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new FP),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function LP(){return new Pi($e.comparator)}function VP(){return new Pi($e.comparator)}const qU={asc:"ASCENDING",desc:"DESCENDING"},WU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZU{constructor(t,e){this.databaseId=t,this.N=e}}function Ab(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BP(n,t){return n.N?t.toBase64():t.toUint8Array()}function YU(n,t){return Ab(n,t.toTimestamp())}function Er(n){return Ot(!!n),xt.fromTimestamp(function(t){const e=Ld(t);return new Oi(e.seconds,e.nanos)}(n))}function eA(n,t){return(e=n,new cn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function UP(n){const t=cn.fromString(n);return Ot(YP(t)),t}function Mb(n,t){return eA(n.databaseId,t.path)}function Xl(n,t){const e=UP(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new $e(jP(e))}function tA(n,t){return eA(n.databaseId,t)}function HP(n){const t=UP(n);return 4===t.length?cn.emptyPath():jP(t)}function kb(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jP(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GP(n,t,e){return{name:Mb(n,t),fields:e.value.mapValue.fields}}function $P(n,t,e){const i=Xl(n,t.name),r=Er(t.updateTime),l=new as({mapValue:{fields:t.fields}}),u=Yn.newFoundDocument(i,r,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Rb(n,t){let e;if(t instanceof Db)e={update:GP(n,t.key,t.value)};else if(t instanceof Tb)e={delete:Mb(n,t.key)};else if(t instanceof fp)e={update:GP(n,t.key,t.data),updateMask:rH(t.fieldMask)};else{if(!(t instanceof Jx))return ot();e={verify:Mb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,l){const u=l.transform;if(u instanceof Ug)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof dp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hg)return{fieldPath:l.field.canonicalString(),increment:u.k};throw ot()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:YU(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),e;var r}function nA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Wi.updateTime(Er(r.updateTime)):void 0!==r.exists?Wi.exists(r.exists):Wi.none():Wi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(l,u){let f=null;"setToServerValue"in u?(Ot("REQUEST_TIME"===u.setToServerValue),f=new Ug):"appendMissingElements"in u?f=new dp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new hp(u.removeAllFromArray.values||[]):"increment"in u?f=new Hg(l,u.increment):ot();const _=Cr.fromServerFormat(u.fieldPath);return new Eb(_,f)}(n,r)):[];var r;if(t.update){const r=Xl(n,t.update.name),l=new as({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Ng((t.updateMask.fieldPaths||[]).map(b=>Cr.fromServerFormat(b)));return new fp(r,l,u,e,i)}return new Db(r,l,e,i)}if(t.delete){const r=Xl(n,t.delete);return new Tb(r,e)}if(t.verify){const r=Xl(n,t.verify);return new Jx(r,e)}return ot()}function zP(n,t){return{documents:[tA(n,t.path)]}}function qP(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=tA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=tA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(T=>function(A){if("=="===A.op){if(tP(A.value))return{unaryFilter:{field:Gg(A.field),op:"IS_NAN"}};if(eP(A.value))return{unaryFilter:{field:Gg(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(tP(A.value))return{unaryFilter:{field:Gg(A.field),op:"IS_NOT_NAN"}};if(eP(A.value))return{unaryFilter:{field:Gg(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gg(A.field),op:tH(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);r&&(e.structuredQuery.where=r);const l=function(_){if(0!==_.length)return _.map(b=>{return{field:Gg((T=b).field),direction:eH(T.dir)};var T})}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=(b=t.limit,n.N||op(b)?b:{value:b});var b,f,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function WP(n){let t=HP(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ot(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let l=[];e.where&&(l=ZP(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(T=>{return new Lg($g((A=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;e.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,op(A)?null:A}(e.limit));let _=null;var T;e.startAt&&(_=new Bd((T=e.startAt).values||[],!!T.before));let b=null;return e.endAt&&(b=function(T){return new Bd(T.values||[],!T.before)}(e.endAt)),fP(t,r,u,l,f,"F",_,b)}function ZP(n){return n?void 0!==n.unaryFilter?[iH(n)]:void 0!==n.fieldFilter?[nH(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>ZP(t)).reduce((t,e)=>t.concat(e)):ot():[]}function eH(n){return qU[n]}function tH(n){return WU[n]}function Gg(n){return{fieldPath:n.canonicalString()}}function $g(n){return Cr.fromServerFormat(n.fieldPath)}function nH(n){return jr.create($g(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function iH(n){switch(n.unaryFilter.op){case"IS_NAN":const t=$g(n.unaryFilter.field);return jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=$g(n.unaryFilter.field);return jr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$g(n.unaryFilter.field);return jr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=$g(n.unaryFilter.field);return jr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function rH(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function YP(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ls(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=KP(t)),t=sH(n.get(e),t);return KP(t)}function sH(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const l=n.charAt(r);switch(l){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=l}}return e}function KP(n){return n+"\x01\x01"}function ec(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const e=t-2,i=[];let r="";for(let l=0;l<t;){const u=n.indexOf("\x01",l);switch((u<0||u>e)&&ot(),n.charAt(u+1)){case"\x01":const f=n.substring(l,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(l,u),r+="\0";break;case"\x11":r+=n.substring(l,u+1);break;default:ot()}l=u+2}return new cn(i)}const QP=["userId","batchId"];function JE(n,t){return[n,Ls(t)]}function JP(n,t,e){return[n,Ls(t),e]}const oH={},aH=["prefixPath","collectionGroup","readTime","documentId"],lH=["prefixPath","collectionGroup","documentId"],cH=["collectionGroup","readTime","prefixPath","documentId"],uH=["canonicalId","targetId"],dH=["targetId","path"],hH=["path","targetId"],fH=["collectionId","parent"],pH=["indexId","uid"],mH=["uid","sequenceNumber"],gH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],_H=["indexId","uid","orderedDocumentKey"],yH=["userId","collectionPath","documentId"],vH=["userId","collectionPath","largestBatchId"],bH=["userId","collectionGroup","largestBatchId"],XP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wH=[...XP,"documentOverlays"],eN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CH=[...eN,"indexConfiguration","indexState","indexEntries"],tN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pe((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pe?e:pe.resolve(e)}catch(e){return pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.reject(e)}static resolve(t){return new pe((e,i)=>{e(t)})}static reject(t){return new pe((e,i)=>{i(t)})}static waitFor(t){return new pe((e,i)=>{let r=0,l=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++l,u&&l===r&&e()},_=>i(_))}),u=!0,l===r&&e()})}static or(t){let e=pe.resolve(!1);for(const i of t)e=e.next(r=>r?pe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,l)=>{i.push(e.call(this,r,l))}),this.waitFor(i)}}class XE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new wr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new Ob(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=iA(i.target.error);this.At.reject(new Ob(t,r))}}static open(t,e,i,r){try{return new XE(e,t.transaction(r,i))}catch(l){throw new Ob(e,l)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new DH(e)}}class al{constructor(t,e,i){this.name=t,this.version=e,this.bt=i,12.2===al.Vt((0,qt.z$)())&&qi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Le("SimpleDb","Removing database:",t),mp(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,qt.hl)())return!1;if(al.St())return!0;const t=(0,qt.z$)(),e=al.Vt(t),i=0<e&&e<10,r=al.Dt(t),l=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Le("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const l=indexedDB.open(e.name,e.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{r(new Ob(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new ke(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ob(t,f))},l.onupgradeneeded=u=>{Le("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.bt.kt(u.target.result,l.transaction,u.oldVersion,e.version).next(()=>{Le("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var l=this;return(0,ve.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{l.db=yield l.Nt(t);const _=XE.open(l.db,t,u?"readonly":"readwrite",i),b=r(_).next(T=>(_.Pt(),T)).catch(T=>(_.abort(T),pe.reject(T))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(Le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),l.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class EH{constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return mp(this.Ft.delete())}}class Ob extends ke{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function pp(n){return"IndexedDbTransactionError"===n.name}class DH{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Le("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Le("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),mp(i)}add(t){return Le("SimpleDb","ADD",this.store.name,t,t),mp(this.store.add(t))}get(t){return mp(this.store.get(t)).next(e=>(void 0===e&&(e=null),Le("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Le("SimpleDb","DELETE",this.store.name,t),mp(this.store.delete(t))}count(){return Le("SimpleDb","COUNT",this.store.name),mp(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),l=[];return this.Kt(r,(u,f)=>{l.push(f)}).next(()=>l)}{const r=this.store.getAll(i.range);return new pe((l,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{l(f.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new pe((r,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){Le("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(l,u,f)=>f.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new pe((i,r)=>{e.onerror=l=>{const u=iA(l.target.error);r(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new pe((r,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new EH(f),b=e(f.primaryKey,f.value,_);if(b instanceof pe){const T=b.catch(A=>(_.done(),pe.reject(A)));i.push(T)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>pe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function mp(n){return new pe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=iA(i.target.error);e(r)}})}let iN=!1;function iA(n){const t=al.Vt((0,qt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return iN||(iN=!0,setTimeout(()=>{throw i},0)),i}}return n}class rN extends nN{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Dr(n,t){const e=We(n);return al.xt(e.Ht,t)}class rA{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&LU(l,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&Qx(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&Qx(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Dn())}isEqual(t){return this.batchId===t.batchId&&Pg(this.mutations,t.mutations,(e,i)=>IP(e,i))&&Pg(this.baseMutations,t.baseMutations,(e,i)=>IP(e,i))}}class sA{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ot(t.mutations.length===i.length);let r=jU;const l=t.mutations;for(let u=0;u<l.length;u++)r=r.insert(l[u].key,i[u].version);return new sA(t,e,i,r)}}class oA{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Hd{constructor(t,e,i,r,l=xt.min(),u=xt.min(),f=lr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new Hd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class sN{constructor(t){this.Jt=t}}function oN(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:eD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Mb(r=n.Jt,(l=t).key),fields:l.data.value.mapValue.fields,updateTime:Ab(r,l.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:gp(t.version)};else{if(!t.isUnknownDocument())return ot();i.unknownDocument={path:e.path.toArray(),version:gp(t.version)}}var r,l;return i}function eD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function gp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _p(n){const t=new Oi(n.seconds,n.nanoseconds);return xt.fromTimestamp(t)}function zg(n,t){const e=(t.baseMutations||[]).map(l=>nA(n.Jt,l));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];l+1<t.mutations.length&&void 0!==t.mutations[l+1].transform&&(u.updateTransforms=t.mutations[l+1].transform.fieldTransforms,t.mutations.splice(l+1,1),++l)}const i=t.mutations.map(l=>nA(n.Jt,l)),r=Oi.fromMillis(t.localWriteTimeMs);return new rA(t.batchId,r,e,i)}function Pb(n){const t=_p(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?_p(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Sa(Vg(HP(r.documents[0])))):i=Sa(WP(n.query)),new Hd(i,n.targetId,0,n.lastListenSequenceNumber,t,e,lr.fromBase64String(n.resumeToken))}function aN(n,t){const e=gp(t.snapshotVersion),i=gp(t.lastLimboFreeSnapshotVersion);let r;r=jE(t.target)?zP(n.Jt,t.target):qP(n.Jt,t.target);const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:up(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function aA(n){const t=WP({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?pP(t,t.limit,"L"):t}function lA(n,t){return new oA(t.largestBatchId,nA(n.Jt,t.overlayMutation))}function lN(n,t){const e=t.path.lastSegment();return[n,Ls(t.path.popLast()),e]}class IH{getBundleMetadata(t,e){return cN(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:_p(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return cN(t).put({bundleId:(i=e).id,createTime:gp(Er(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return uN(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:aA(r.bundledQuery),readTime:_p(r.readTime)};var r})}saveNamedQuery(t,e){return uN(t).put({name:(i=e).name,readTime:gp(Er(i.readTime)),bundledQuery:i.bundledQuery});var i}}function cN(n){return Dr(n,"bundles")}function uN(n){return Dr(n,"namedQueries")}class cA{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new cA(t,e.uid||"")}getOverlay(t,e){return Nb(t).get(lN(this.userId,e)).next(i=>i?lA(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((l,u)=>{const f=new oA(e,u);r.push(this.Xt(t,f))}),pe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Ls(u.getCollectionPath())));const l=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(Nb(t).Qt("collectionPathOverlayIndex",f))}),pe.waitFor(l)}getOverlaysForCollection(t,e,i){const r=Ib(),l=Ls(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Nb(t).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=lA(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const l=Ib();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Nb(t).Wt({index:"collectionGroupOverlayIndex",range:f},(_,b,T)=>{const A=lA(this.M,b);l.size()<r||A.largestBatchId===u?(l.set(A.getKey(),A),u=A.largestBatchId):T.done()}).next(()=>l)}Xt(t,e){return Nb(t).put(function(i,r,l){const[u,f,_]=lN(r,l.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Rb(i.Jt,l.mutation)}}(this.M,this.userId,e))}}function Nb(n){return Dr(n,"documentOverlays")}class yp{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(bi(t.integerValue));else if("doubleValue"in t){const i=bi(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),gb(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(sp(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?nP(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ot()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),$e.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function SH(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function dN(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const l=SH(255&e[r]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(t/8)}yp.fe=new yp;class xH{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=dN(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=dN(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,r,!1),new Uint8Array(l.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.be(0),this.be(255)):255===e?(this.be(255),this.be(0)):this.be(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class AH{constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.Pe()}}class MH{constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class Fb{constructor(){this.De=new xH,this.Ce=new AH(this.De),this.xe=new MH(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class jd{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new jd(this.indexId,this.documentKey,this.arrayValue,i)}}function vp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=hN(n.arrayValue,t.arrayValue),0!==e?e:(e=hN(n.directionalValue,t.directionalValue),0!==e?e:$e.comparator(n.documentKey,t.documentKey)))}function hN(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class kH{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=zx(t);if(void 0!==e&&!this.Be(e))return!1;const i=cp(t);let r=0,l=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[l++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(l>=this.Me.length||!this.Ue(this.Me[l++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class RH{constructor(){this.qe=new uA}addToCollectionParentIndex(t,e){return this.qe.add(e),pe.resolve()}getCollectionParents(t,e){return pe.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return pe.resolve()}deleteFieldIndex(t,e){return pe.resolve()}getDocumentsMatchingTarget(t,e){return pe.resolve(null)}getFieldIndex(t,e){return pe.resolve(null)}getFieldIndexes(t,e){return pe.resolve([])}getNextCollectionGroupToUpdate(t){return pe.resolve(null)}updateCollectionGroup(t,e,i){return pe.resolve()}updateIndexEntries(t,e){return pe.resolve()}}class uA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Kn(cn.comparator),l=!r.has(i);return this.index[e]=r.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Kn(cn.comparator)).toArray()}}const qg=new Uint8Array(0);class OH{constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new uA,this.Ge=new Ud(i=>up(i),(i,r)=>wb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const l={collectionId:i,parent:Ls(r)};return fN(t).put(l)}return pe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[qO(e),""],!1,!0);return fN(t).qt(r).next(l=>{for(const u of l){if(u.collectionId!==e)break;i.push(ec(u.parent))}return i})}addFieldIndex(t,e){const i=tD(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=tD(t),r=nD(t),l=Lb(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Lb(t);let r=!0;const l=new Map;return pe.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(f=>{r&&(r=!!f),l.set(u,f)})).next(()=>{if(r){let u=Dn();const f=[];return pe.forEach(l,(_,b)=>{var T;Le("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${up(e)}`);const A=function(it,nt){const Lt=zx(nt);if(void 0===Lt)return null;for(const Gt of GE(it,Lt.fieldPath))switch(Gt.op){case"array-contains-any":return Gt.value.arrayValue.values||[];case"array-contains":return[Gt.value]}return null}(b,_),O=function(it,nt){const Lt=new Map;for(const Gt of cp(nt))for(const vn of GE(it,Gt.fieldPath))switch(vn.op){case"==":case"in":Lt.set(Gt.fieldPath.canonicalString(),vn.value);break;case"not-in":case"!=":return Lt.set(Gt.fieldPath.canonicalString(),vn.value),Array.from(Lt.values())}return null}(b,_),V=function(it,nt){const Lt=[];let Gt=!0;for(const vn of cp(nt)){const $r=0===vn.kind?lP(it,vn.fieldPath,it.startAt):cP(it,vn.fieldPath,it.startAt);if(!$r.value)return null;Lt.push($r.value),Gt&&(Gt=$r.inclusive)}return new Bd(Lt,Gt)}(b,_),U=function(it,nt){const Lt=[];let Gt=!0;for(const vn of cp(nt)){const $r=0===vn.kind?cP(it,vn.fieldPath,it.endAt):lP(it,vn.fieldPath,it.endAt);if(!$r.value)return null;Lt.push($r.value),Gt&&(Gt=$r.inclusive)}return new Bd(Lt,Gt)}(b,_),ee=this.je(_,b,V),Ee=this.je(_,b,U),ze=this.We(_,b,O),rt=this.ze(_.indexId,A,ee,!!V&&V.inclusive,Ee,!!U&&U.inclusive,ze);return pe.forEach(rt,it=>i.Gt(it,e.limit).next(nt=>{nt.forEach(Lt=>{const Gt=$e.fromSegments(Lt.documentKey);u.has(Gt)||(u=u.add(Gt),f.push(Gt))})}))}).next(()=>f)}return pe.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}ze(t,e,i,r,l,u,f){const _=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=l?l.length:1),b=_/(null!=e?e.length:1),T=[];for(let A=0;A<_;++A){const O=e?this.He(e[A/b]):qg,V=i?this.Je(t,O,i[A%b],r):this.Ye(t),U=l?this.Xe(t,O,l[A%b],u):this.Ye(t+1);T.push(...this.createRange(V,U,f.map(ee=>this.Je(t,O,ee,!0))))}return T}Je(t,e,i,r){const l=new jd(t,$e.empty(),e,i);return r?l:l.ke()}Xe(t,e,i,r){const l=new jd(t,$e.empty(),e,i);return r?l.ke():l}Ye(t){return new jd(t,$e.empty(),qg,qg)}getFieldIndex(t,e){const i=new kH(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(l=>{const u=l.filter(f=>i.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(t,e){const i=new Fb;for(const r of cp(t)){const l=e.data.field(r.fieldPath);if(null==l)return null;const u=i.Ne(r.kind);yp.fe.Zt(l,u)}return i.Se()}He(t){const e=new Fb;return yp.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new Fb;return yp.fe.Zt(lp(this.databaseId,e),i.Ne(function(r){const l=cp(r);return 0===l.length?0:l[l.length-1].kind}(t))),i.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new Fb);let l=0;for(const u of cp(t)){const f=i[l++];for(const _ of r)if(this.en(e,u.fieldPath)&&yb(f))r=this.nn(r,u,f);else{const b=_.Ne(u.kind);yp.fe.Zt(f,b)}}return this.sn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],l=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Fb;_.seed(f.Se()),yp.fe.Zt(u,_.Ne(e.kind)),l.push(_)}return l}en(t,e){return!!t.filters.find(i=>i instanceof jr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=tD(t),r=nD(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(l=>{const u=[];return pe.forEach(l,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,T){const A=T?new bb(T.sequenceNumber,new vu(_p(T.readTime),new $e(ec(T.documentKey)),T.largestBatchId)):bb.empty(),O=b.fields.map(([V,U])=>new HE(Cr.fromServerFormat(V),U));return new UE(b.indexId,b.collectionGroup,O,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const l=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==l?l:jt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=tD(t),l=nD(t);return this.rn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>pe.forEach(f,_=>{return l.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:gp((O=i).readTime),documentKey:Ls(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(t,e){const i=new Map;return pe.forEach(e,(r,l)=>{const u=i.get(r.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),pe.forEach(f,_=>this.on(t,r,_).next(b=>{const T=this.un(l,_);return b.isEqual(T)?pe.resolve():this.an(t,l,_,b,T)}))))})}cn(t,e,i,r){return Lb(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return Lb(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=Lb(t);let l=new Kn(vp);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(u,f)=>{l=l.add(new jd(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>l)}un(t,e){let i=new Kn(vp);const r=this.Ze(e,t);if(null==r)return i;const l=zx(e);if(null!=l){const u=t.data.field(l.fieldPath);if(yb(u))for(const f of u.arrayValue.values||[])i=i.add(new jd(e.indexId,t.key,this.He(f),r))}else i=i.add(new jd(e.indexId,t.key,qg,r));return i}an(t,e,i,r,l){Le("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(f,_,b,T,A){const O=f.getIterator(),V=_.getIterator();let U=jg(O),ee=jg(V);for(;U||ee;){let Ee=!1,ze=!1;if(U&&ee){const rt=b(U,ee);rt<0?ze=!0:rt>0&&(Ee=!0)}else null!=U?ze=!0:Ee=!0;Ee?(T(ee),ee=jg(V)):ze?(A(U),U=jg(O)):(U=jg(O),ee=jg(V))}}(r,l,vp,f=>{u.push(this.cn(t,e,i,f))},f=>{u.push(this.hn(t,e,i,f))}),pe.waitFor(u)}rn(t){let e=1;return nD(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,l)=>{l.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,f)=>vp(u,f)).filter((u,f,_)=>!f||0!==vp(u,_[f-1]));const r=[];r.push(t);for(const u of i){const f=vp(u,t),_=vp(u,e);if(0===f)r[0]=t.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(e);const l=[];for(let u=0;u<r.length;u+=2)l.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,qg,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,qg,[]]));return l}}function fN(n){return Dr(n,"collectionParents")}function Lb(n){return Dr(n,"indexEntries")}function tD(n){return Dr(n,"indexConfiguration")}function nD(n){return Dr(n,"indexState")}const pN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new yo(t,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mN(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const _=i.Wt({range:u},(T,A,O)=>(f++,O.delete()));l.push(_.next(()=>{Ot(1===f)}));const b=[];for(const T of e.mutations){const A=JP(t,T.key.path,e.batchId);l.push(r.delete(A)),b.push(T.key)}return pe.waitFor(l).next(()=>b)}function iD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ot();t=n.noDocument}return JSON.stringify(t).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class dA{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Ot(""!==t.uid);const l=t.isAuthenticated()?t.uid:"";return new dA(l,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gd(t).Wt({index:"userMutationsIndex",range:i},(r,l,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const l=Wg(t),u=Gd(t);return u.add({}).next(f=>{Ot("number"==typeof f);const _=new rA(f,e,i,r),b=function(O,V,U){const ee=U.baseMutations.map(ze=>Rb(O.Jt,ze)),Ee=U.mutations.map(ze=>Rb(O.Jt,ze));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:ee,mutations:Ee}}(this.M,this.userId,_),T=[];let A=new Kn((O,V)=>jt(O.canonicalString(),V.canonicalString()));for(const O of r){const V=JP(this.userId,O.key.path,f);A=A.add(O.key.path.popLast()),T.push(u.put(b)),T.push(l.put(V,oH))}return A.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),pe.waitFor(T).next(()=>_)})}lookupMutationBatch(t,e){return Gd(t).get(e).next(i=>i?(Ot(i.userId===this.userId),zg(this.M,i)):null)}fn(t,e){return this.ln[e]?pe.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Gd(t).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Ot(f.batchId>=i),l=zg(this.M,f)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Gd(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gd(t).qt("userMutationsIndex",e).next(i=>i.map(r=>zg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=JE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),l=[];return Wg(t).Wt({range:r},(u,f,_)=>{const[b,T,A]=u,O=ec(T);if(b===this.userId&&e.path.isEqual(O))return Gd(t).get(A).next(V=>{if(!V)throw ot();Ot(V.userId===this.userId),l.push(zg(this.M,V))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Kn(jt);const r=[];return e.forEach(l=>{const u=JE(this.userId,l.path),f=IDBKeyRange.lowerBound(u),_=Wg(t).Wt({range:f},(b,T,A)=>{const[O,V,U]=b,ee=ec(V);O===this.userId&&l.path.isEqual(ee)?i=i.add(U):A.done()});r.push(_)}),pe.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,l=JE(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new Kn(jt);return Wg(t).Wt({range:u},(_,b,T)=>{const[A,O,V]=_,U=ec(O);A===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(V)):T.done()}).next(()=>this.dn(t,f))}dn(t,e){const i=[],r=[];return e.forEach(l=>{r.push(Gd(t).get(l).next(u=>{if(null===u)throw ot();Ot(u.userId===this.userId),i.push(zg(this.M,u))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return mN(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Wg(t).Wt({range:i},(l,u,f)=>{if(l[0]===this.userId){const _=ec(l[1]);r.push(_)}else f.done()}).next(()=>{Ot(0===r.length)})})}containsKey(t,e){return gN(t,this.userId,e)}wn(t){return _N(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gN(n,t,e){const i=JE(t,e.path),r=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return Wg(n).Wt({range:l,jt:!0},(f,_,b)=>{const[T,A,O]=f;T===t&&A===r&&(u=!0),b.done()}).next(()=>u)}function Gd(n){return Dr(n,"mutations")}function Wg(n){return Dr(n,"documentMutations")}function _N(n){return Dr(n,"mutationQueues")}class bp{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new bp(0)}static yn(){return new bp(-1)}}class PH{constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new bp(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>xt.fromTimestamp(new Oi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Zg(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const l=[];return Zg(t).Wt((u,f)=>{const _=Pb(f);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,l.push(this.removeTargetData(t,_)))}).next(()=>pe.waitFor(l)).next(()=>r)}forEachTarget(t,e){return Zg(t).Wt((i,r)=>{const l=Pb(r);e(l)})}pn(t){return yN(t).get("targetGlobalKey").next(e=>(Ot(null!==e),e))}In(t,e){return yN(t).put("targetGlobalKey",e)}Tn(t,e){return Zg(t).put(aN(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=up(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Zg(t).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=Pb(f);wb(e,b.target)&&(l=b,_.done())}).next(()=>l)}addMatchingKeys(t,e,i){const r=[],l=$d(t);return e.forEach(u=>{const f=Ls(u.path);r.push(l.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,u))}),pe.waitFor(r)}removeMatchingKeys(t,e,i){const r=$d(t);return pe.forEach(e,l=>{const u=Ls(l.path);return pe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])})}removeMatchingKeysForTargetId(t,e){const i=$d(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=$d(t);let l=Dn();return r.Wt({range:i,jt:!0},(u,f,_)=>{const b=ec(u[1]),T=new $e(b);l=l.add(T)}).next(()=>l)}containsKey(t,e){const i=Ls(e.path),r=IDBKeyRange.bound([i],[qO(i)],!1,!0);let l=0;return $d(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,b)=>{0!==u&&(l++,b.done())}).next(()=>l>0)}Et(t,e){return Zg(t).get(e).next(i=>i?Pb(i):null)}}function Zg(n){return Dr(n,"targets")}function yN(n){return Dr(n,"targetGlobal")}function $d(n){return Dr(n,"targetDocuments")}function wp(n){return hA.apply(this,arguments)}function hA(){return hA=(0,ve.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==tN)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),hA.apply(this,arguments)}function vN([n,t],[e,i]){const r=jt(n,e);return 0===r?jt(t,i):r}class NH{constructor(t){this.An=t,this.buffer=new Kn(vN),this.Rn=0}Pn(){return++this.Rn}bn(t){const e=[t,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();vN(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class FH{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Le("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ve.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){pp(r)?Le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wp(r)}yield e.Sn(t)}))}}class LH{constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return pe.resolve(Jo.A);const i=new NH(e);return this.Dn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(pN)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pN):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,l,u,f,_,b;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(t,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(t,i,e))).next(A=>(l=A,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(b=Date.now(),Ux()<=sl.in.DEBUG&&Le("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${l} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:A})))}}class VH{constructor(t,e){this.db=t,this.garbageCollector=new LH(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return rD(t,i)}removeReference(t,e,i){return rD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return rD(t,e)}On(t,e){return function(i,r){let l=!1;return _N(i).zt(u=>gN(i,u,r).next(f=>(f&&(l=!0),pe.resolve(!f)))).next(()=>l)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let l=0;return this.Mn(t,(u,f)=>{if(f<=e){const _=this.On(t,u).next(b=>{if(!b)return l++,i.getEntry(t,u).next(()=>(i.removeEntry(u,xt.min()),$d(t).delete([0,Ls(u.path)])))});r.push(_)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(t)).next(()=>l)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return rD(t,e)}Mn(t,e){const i=$d(t);let r,l=Jo.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(l!==Jo.A&&e(new $e(ec(r)),l),l=b,r=_):l=Jo.A}).next(()=>{l!==Jo.A&&e(new $e(ec(r)),l)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function rD(n,t){return $d(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ls(t.path),sequenceNumber:i}));var i}class bN{constructor(){this.changes=new Ud(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Yn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?pe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class BH{constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Cp(t).put(i)}removeEntry(t,e,i){return Cp(t).delete(function(r,l){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],eD(l),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Yn.newInvalidDocument(e);return Cp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vb(e))},(r,l)=>{i=this.$n(e,l)}).next(()=>i)}Bn(t,e){let i={size:0,document:Yn.newInvalidDocument(e)};return Cp(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Vb(e))},(r,l)=>{i={document:this.$n(e,l),size:iD(l)}}).next(()=>i)}getEntries(t,e){let i=xa();return this.Ln(t,e,(r,l)=>{const u=this.$n(r,l);i=i.insert(r,u)}).next(()=>i)}Un(t,e){let i=xa(),r=new Pi($e.comparator);return this.Ln(t,e,(l,u)=>{const f=this.$n(l,u);i=i.insert(l,f),r=r.insert(l,iD(u))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return pe.resolve();let r=new Kn(EN);e.forEach(_=>r=r.add(_));const l=IDBKeyRange.bound(Vb(r.first()),Vb(r.last())),u=r.getIterator();let f=u.getNext();return Cp(t).Wt({index:"documentKeyIndex",range:l},(_,b,T)=>{const A=$e.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&EN(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?T.Ut(Vb(f)):T.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),eD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],l=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cp(t).qt(IDBKeyRange.bound(r,l,!0)).next(u=>{let f=xa();for(const _ of u){const b=this.$n($e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(t,e,i,r){let l=xa();const u=CN(e,i),f=CN(e,vu.max());return Cp(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,T)=>{const A=this.$n($e.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(A.key,A),l.size===r&&T.done()}).next(()=>l)}newChangeBuffer(t){return new UH(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return wN(t).get("remoteDocumentGlobalKey").next(e=>(Ot(!!e),e))}Fn(t,e){return wN(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function TH(n,t){let e;if(t.document)e=$P(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=$e.fromSegments(t.noDocument.path),r=_p(t.noDocument.readTime);e=Yn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ot();{const i=$e.fromSegments(t.unknownDocument.path),r=_p(t.unknownDocument.version);e=Yn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Oi(i[0],i[1]);return xt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return Yn.newInvalidDocument(t)}}class UH extends bN{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new Ud(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Kn((l,u)=>jt(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const f=this.Gn.get(l);if(e.push(this.Kn.removeEntry(t,l,f.readTime)),u.isValidDocument()){const _=oN(this.Kn.M,u);r=r.add(l.path.popLast()),i+=iD(_)-f.size,e.push(this.Kn.addEntry(t,l,_))}else if(i-=f.size,this.trackRemovals){const _=oN(this.Kn.M,u.convertToNoDocument(xt.min()));e.push(this.Kn.addEntry(t,l,_))}}),r.forEach(l=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,l))}),e.push(this.Kn.updateMetadata(t,i)),pe.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((l,u)=>{this.Gn.set(l,{size:u,readTime:i.get(l).readTime})}),i))}}function wN(n){return Dr(n,"remoteDocumentGlobal")}function Cp(n){return Dr(n,"remoteDocumentsV14")}function Vb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CN(n,t){const e=t.documentKey.path.toArray();return[n,eD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function EN(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(r=jt(e[l],i[l]),r)return r;return r=jt(e.length,i.length),r||(r=jt(e[e.length-2],i[i.length-2]),r||jt(e[e.length-1],i[i.length-1]))}class HH{constructor(t){this.M=t}kt(t,e,i,r){const l=new XE("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QP,{unique:!0}),f.createObjectStore("documentMutations"),DN(t),function(f){f.createObjectStore("remoteDocuments")}(t));let u=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),DN(t)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(l))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",QP,{unique:!0});const T=_.store("mutations"),A=b.map(O=>T.put(O));return pe.waitFor(A)})}(t,l))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(l))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.jn(l)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(l))),i<8&&r>=8&&(u=u.next(()=>this.zn(t,l))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(l))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:yH});_.createIndex("collectionPathOverlayIndex",vH,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",bH,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:aH});_.createIndex("documentKeyIndex",lH),_.createIndex("collectionGroupIndex",cH)}(t)).next(()=>this.Jn(t,l)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:pH}).createIndex("sequenceNumberIndex",mH,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:gH}).createIndex("documentKeyIndex",_H,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=iD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>pe.forEach(r,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>pe.forEach(f,_=>{Ot(_.userId===l.userId);const b=zg(this.M,_);return mN(t,l.userId,b).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const l=[];return i.Wt((u,f)=>{const _=new cn(u),b=[0,Ls(_)];l.push(e.get(b).next(T=>T?pe.resolve():e.put({targetId:0,path:Ls(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(l))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:fH});const i=e.store("collectionParents"),r=new uA,l=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Ls(_)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new cn(u);return l(_.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,f,_],b)=>{const T=ec(f);return l(T.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const l=Pb(r),u=aN(this.M,l);return e.put(u)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((l,u)=>{const f=e.store("remoteDocumentsV14"),_=(b=u,b.document?new $e(cn.fromString(b.document.name).popFirst(5)):b.noDocument?$e.fromSegments(b.noDocument.path):b.unknownDocument?$e.fromSegments(b.unknownDocument.path):ot()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(T))}).next(()=>pe.waitFor(r))}}function DN(n){n.createObjectStore("targetDocuments",{keyPath:dH}).createIndex("documentTargetsIndex",hH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uH,{unique:!0}),n.createObjectStore("targetGlobal")}const fA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pA{constructor(t,e,i,r,l,u,f,_,b,T,A=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=l,this.window=u,this.document=f,this.Xn=b,this.Zn=T,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=O=>Promise.resolve(),!pA.vt())throw new ke(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new VH(this,r),this.hs=e+"main",this.M=new sN(_),this.ls=new al(this.hs,this.ts,new HH(this.M)),this.fs=new PH(this.referenceDelegate,this.M),this.ds=new BH(this.M),this._s=new IH,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&qi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,fA);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new Jo(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>sD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.Ps(t).next(()=>!0))).catch(t=>{if(pp(t))return Le("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return Bb(t).get("owner").next(e=>pe.resolve(this.bs(e)))}Vs(t){return sD(t).delete(this.clientId)}vs(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Dr(i,"clientMetadata");return r.qt().next(l=>{const u=t.Ds(l,18e5),f=l.filter(_=>-1===u.indexOf(_));return pe.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?pe.resolve(!0):Bb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,fA);return!1}}return!(!this.networkEnabled||!this.inForeground)||sD(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Le("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new rN(e,Jo.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>sD(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return dA.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new OH(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return cA.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Le("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",l=14===(u=this.ts)?CH:13===u?eN:12===u?wH:11===u?XP:void ot();var u;let f;return this.ls.runTransaction(t,r,l,_=>(f=new rN(_,this.es?this.es.next():Jo.A),"readwrite-primary"===e?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw qi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ke(de.FAILED_PRECONDITION,tN);return i(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(t){return Bb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.bs(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(de.FAILED_PRECONDITION,fA)})}Ps(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bb(t).put("owner",e)}static vt(){return al.vt()}Rs(t){const e=Bb(t);return e.get("owner").next(i=>this.bs(i)?(Le("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):pe.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(qi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,qt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Le("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return qi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){qi("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Bb(n){return Dr(n,"owner")}function sD(n){return Dr(n,"clientMetadata")}function mA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class jH{constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const l of i)l.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const l of e)l.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return $e.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):Zx(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new $e(e)).next(i=>{let r=Xx();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let l=Xx();return this.indexManager.getCollectionParents(t,r).next(u=>pe.forEach(u,f=>{const _=(b=e,T=f.child(r),new bu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(t,_,i).next(b=>{b.forEach((T,A)=>{l=l.insert(T,A)})})}).next(()=>l))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(l=>(r=l,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(l=>{for(const u of l)for(const f of u.mutations){const _=f.key;let b=r.get(_);null==b&&(b=Yn.newInvalidDocument(_),r=r.insert(_,b)),Qx(f,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((l,u)=>{Kx(e,u)||(r=r.remove(l))}),r))}}class gA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=Dn(),r=Dn();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new gA(t,e.fromCache,i,r)}}class TN{Xs(t){this.Zs=t}Qs(t,e,i,r){return 0===(l=e).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||i.isEqual(xt.min())?this.ti(t,e):this.Zs.Ks(t,r).next(l=>{const u=this.ei(e,l);return($E(e)||zE(e))&&this.ni(e.limitType,u,r,i)?this.ti(t,e):(Ux()<=sl.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yx(e)),this.Zs.Qs(t,e,oP(i,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var l}ei(t,e){let i=new Kn(_P(t));return e.forEach((r,l)=>{Kx(t,l)&&(i=i.add(l))}),i}ni(t,e,i,r){if(i.size!==e.size)return!0;const l="F"===t?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}ti(t,e){return Ux()<=sl.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Yx(e)),this.Zs.Qs(t,e,vu.min())}}class GH{constructor(t,e,i,r){this.persistence=t,this.si=e,this.M=r,this.ii=new Pi(jt),this.ri=new Ud(l=>up(l),wb),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(i)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.ci=new jH(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ii))}}function IN(n,t,e,i){return new GH(n,t,e,i)}function SN(n,t){return _A.apply(this,arguments)}function _A(){return _A=(0,ve.Z)(function*(n,t){const e=We(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(l=>(r=l,e.ai(t),e.Bs.getAllMutationBatches(i))).next(l=>{const u=[],f=[];let _=Dn();for(const b of r){u.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of l){f.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return e.ci.Ks(i,_).next(b=>({hi:b,removedBatchIds:u,addedBatchIds:f}))})})}),_A.apply(this,arguments)}function $H(n,t){const e=We(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),l=e.ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const T=_.batch,A=T.keys();let O=pe.resolve();return A.forEach(V=>{O=O.next(()=>b.getEntry(f,V)).next(U=>{const ee=_.docVersions.get(V);Ot(null!==ee),U.version.compareTo(ee)<0&&(T.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),O.next(()=>u.Bs.removeMutationBatch(f,T))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.ci.Ks(i,r))})}function xN(n){const t=We(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function zH(n,t){const e=We(n),i=t.snapshotVersion;let r=e.ii;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=e.ui.newChangeBuffer({trackRemovals:!0});r=e.ii;const f=[];t.targetChanges.forEach((b,T)=>{const A=r.get(T);if(!A)return;f.push(e.fs.removeMatchingKeys(l,b.removedDocuments,T).next(()=>e.fs.addMatchingKeys(l,b.addedDocuments,T)));let O=A.withSequenceNumber(l.currentSequenceNumber);var V,U,ee;t.targetMismatches.has(T)?O=O.withResumeToken(lr.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,i)),r=r.insert(T,O),U=O,ee=b,(0===(V=A).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(e.fs.updateTargetData(l,O))});let _=xa();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,b))}),f.push(AN(l,u,t.documentUpdates).next(b=>{_=b})),!i.isEqual(xt.min())){const b=e.fs.getLastRemoteSnapshotVersion(l).next(T=>e.fs.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(b)}return pe.waitFor(f).next(()=>u.apply(l)).next(()=>e.ci.Gs(l,_)).next(()=>_)}).then(l=>(e.ii=r,l))}function AN(n,t,e){let i=Dn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let l=xa();return e.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):Le("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),l})}function qH(n,t){const e=We(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function Yg(n,t){const e=We(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(l=>l?(r=l,pe.resolve(r)):e.fs.allocateTargetId(i).next(u=>(r=new Hd(t,u,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ii=e.ii.insert(i.targetId,i),e.ri.set(t,i.targetId)),i})}function Kg(n,t,e){return yA.apply(this,arguments)}function yA(){return yA=(0,ve.Z)(function*(n,t,e){const i=We(n),r=i.ii.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!pp(u))throw u;Le("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.ii=i.ii.remove(t),i.ri.delete(r.target)}),yA.apply(this,arguments)}function oD(n,t,e){const i=We(n);let r=xt.min(),l=Dn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const T=We(f),A=T.ri.get(b);return void 0!==A?pe.resolve(T.ii.get(A)):T.fs.getTargetData(_,b)}(i,u,Sa(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{l=_})}).next(()=>i.si.Qs(u,t,e?r:xt.min(),e?l:Dn())).next(f=>(RN(i,gP(t),f),{documents:f,li:l})))}function MN(n,t){const e=We(n),i=We(e.fs),r=e.ii.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",l=>i.Et(l,t).next(u=>u?u.target:null))}function kN(n,t){const e=We(n),i=e.oi.get(t)||xt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ui.getAllFromCollectionGroup(r,t,oP(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(RN(e,t,r),r))}function RN(n,t,e){let i=xt.min();e.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.oi.set(t,i)}function vA(){return vA=(0,ve.Z)(function*(n,t,e,i){const r=We(n);let l=Dn(),u=xa();for(const b of e){const T=t.fi(b.metadata.name);b.document&&(l=l.add(T));const A=t.di(b);A.setReadTime(t._i(b.metadata.readTime)),u=u.insert(T,A)}const f=r.ui.newChangeBuffer({trackRemovals:!0}),_=yield Yg(r,(b=i,Sa(Vg(cn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>AN(b,f,u).next(T=>(f.apply(b),T)).next(T=>r.fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.fs.addMatchingKeys(b,l,_.targetId)).next(()=>r.ci.Gs(b,T)).next(()=>T)))}),vA.apply(this,arguments)}function ZH(n,t){return bA.apply(this,arguments)}function bA(){return bA=(0,ve.Z)(function*(n,t,e=Dn()){const i=yield Yg(n,Sa(aA(t.bundledQuery))),r=We(n);return r.persistence.runTransaction("Save named query","readwrite",l=>{const u=Er(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(l,t);const f=i.withResumeToken(lr.EMPTY_BYTE_STRING,u);return r.ii=r.ii.insert(f.targetId,f),r.fs.updateTargetData(l,f).next(()=>r.fs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>r.fs.addMatchingKeys(l,e,i.targetId)).next(()=>r._s.saveNamedQuery(l,t))})}),bA.apply(this,arguments)}class YH{constructor(t){this.M=t,this.wi=new Map,this.mi=new Map}getBundleMetadata(t,e){return pe.resolve(this.wi.get(e))}saveBundleMetadata(t,e){var i;return this.wi.set(e.id,{id:(i=e).id,version:i.version,createTime:Er(i.createTime)}),pe.resolve()}getNamedQuery(t,e){return pe.resolve(this.mi.get(e))}saveNamedQuery(t,e){return this.mi.set(e.name,{name:(i=e).name,query:aA(i.bundledQuery),readTime:Er(i.readTime)}),pe.resolve();var i}}class KH{constructor(){this.overlays=new Pi($e.comparator),this.gi=new Map}getOverlay(t,e){return pe.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,l)=>{this.Xt(t,e,l)}),pe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.gi.delete(i)),pe.resolve()}getOverlaysForCollection(t,e,i){const r=Ib(),l=e.length+1,u=new $e(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===l&&_.largestBatchId>i&&r.set(_.getKey(),_)}return pe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let l=new Pi((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let T=l.get(b.largestBatchId);null===T&&(T=Ib(),l=l.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=Ib(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=r)););return pe.resolve(f)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new oA(e,i));let l=this.gi.get(e);void 0===l&&(l=Dn(),this.gi.set(e,l)),this.gi.set(e,l.add(i.key))}}class wA{constructor(){this.yi=new Kn(Tr.pi),this.Ii=new Kn(Tr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(t,e){const i=new Tr(t,e);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ai(new Tr(t,e))}Ri(t,e){t.forEach(i=>this.removeReference(i,e))}Pi(t){const e=new $e(new cn([])),i=new Tr(e,t),r=new Tr(e,t+1),l=[];return this.Ii.forEachInRange([i,r],u=>{this.Ai(u),l.push(u.key)}),l}bi(){this.yi.forEach(t=>this.Ai(t))}Ai(t){this.yi=this.yi.delete(t),this.Ii=this.Ii.delete(t)}Vi(t){const e=new $e(new cn([])),i=new Tr(e,t),r=new Tr(e,t+1);let l=Dn();return this.Ii.forEachInRange([i,r],u=>{l=l.add(u.key)}),l}containsKey(t){const e=new Tr(t,0),i=this.yi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Tr{constructor(t,e){this.key=t,this.vi=e}static pi(t,e){return $e.comparator(t.key,e.key)||jt(t.vi,e.vi)}static Ti(t,e){return jt(t.vi,e.vi)||$e.comparator(t.key,e.key)}}class QH{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.Si=1,this.Di=new Kn(Tr.pi)}checkEmpty(t){return pe.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const l=this.Si;this.Si++;const u=new rA(l,e,i,r);this.Bs.push(u);for(const f of r)this.Di=this.Di.add(new Tr(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(t,e){return pe.resolve(this.Ci(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.xi(e+1),l=r<0?0:r;return pe.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(t){return pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Tr(e,0),r=new Tr(e,Number.POSITIVE_INFINITY),l=[];return this.Di.forEachInRange([i,r],u=>{const f=this.Ci(u.vi);l.push(f)}),pe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Kn(jt);return e.forEach(r=>{const l=new Tr(r,0),u=new Tr(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([l,u],f=>{i=i.add(f.vi)})}),pe.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let l=i;$e.isDocumentKey(l)||(l=l.child(""));const u=new Tr(new $e(l),0);let f=new Kn(jt);return this.Di.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.vi)),!0)},u),pe.resolve(this.Ni(f))}Ni(t){const e=[];return t.forEach(i=>{const r=this.Ci(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ot(0===this.ki(e.batchId,"removed")),this.Bs.shift();let i=this.Di;return pe.forEach(e.mutations,r=>{const l=new Tr(r.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Di=i})}_n(t){}containsKey(t,e){const i=new Tr(e,0),r=this.Di.firstAfterOrEqual(i);return pe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return pe.resolve()}ki(t,e){return this.xi(t)}xi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}Ci(t){const e=this.xi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class JH{constructor(t){this.Mi=t,this.docs=new Pi($e.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),l=r?r.size:0,u=this.Mi(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return pe.resolve(i?i.document.mutableCopy():Yn.newInvalidDocument(e))}getEntries(t,e){let i=xa();return e.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():Yn.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(t,e,i){let r=xa();const l=new $e(e.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!e.isPrefixOf(f.path))break;f.path.length>e.length+1||wU(bU(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ot()}Oi(t,e){return pe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new XH(this)}getSize(t){return pe.resolve(this.size)}}class XH extends bN{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),pe.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class ej{constructor(t){this.persistence=t,this.Fi=new Ud(e=>up(e),wb),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new wA,this.targetCount=0,this.Li=bp.gn()}forEachTarget(t,e){return this.Fi.forEach((i,r)=>e(r)),pe.resolve()}getLastRemoteSnapshotVersion(t){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pe.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Li.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$i&&(this.$i=e),pe.resolve()}Tn(t){this.Fi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Li=new bp(e),this.highestTargetId=e),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,pe.resolve()}updateTargetData(t,e){return this.Tn(e),pe.resolve()}removeTargetData(t,e){return this.Fi.delete(e.target),this.Bi.Pi(e.targetId),this.targetCount-=1,pe.resolve()}removeTargets(t,e,i){let r=0;const l=[];return this.Fi.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Fi.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),pe.waitFor(l).next(()=>r)}getTargetCount(t){return pe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fi.get(e)||null;return pe.resolve(i)}addMatchingKeys(t,e,i){return this.Bi.Ei(e,i),pe.resolve()}removeMatchingKeys(t,e,i){this.Bi.Ri(e,i);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach(u=>{l.push(r.markPotentiallyOrphaned(t,u))}),pe.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Bi.Pi(e),pe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Bi.Vi(e);return pe.resolve(i)}containsKey(t,e){return pe.resolve(this.Bi.containsKey(e))}}class tj{constructor(t,e){this.Ui={},this.overlays={},this.es=new Jo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new ej(this),this.indexManager=new RH,this.ds=new JH(i=>this.referenceDelegate.qi(i)),this.M=new sN(e),this._s=new YH(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new KH,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ui[t.toKey()];return i||(i=new QH(e,this.referenceDelegate),this.Ui[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Le("MemoryPersistence","Starting transaction:",t);const r=new nj(this.es.next());return this.referenceDelegate.Ki(),i(r).next(l=>this.referenceDelegate.Gi(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Qi(t,e){return pe.or(Object.values(this.Ui).map(i=>()=>i.containsKey(t,e)))}}class nj extends nN{constructor(t){super(),this.currentSequenceNumber=t}}class CA{constructor(t){this.persistence=t,this.ji=new wA,this.Wi=null}static zi(t){return new CA(t)}get Hi(){if(this.Wi)return this.Wi;throw ot()}addReference(t,e,i){return this.ji.addReference(i,e),this.Hi.delete(i.toString()),pe.resolve()}removeReference(t,e,i){return this.ji.removeReference(i,e),this.Hi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(t,e){return this.Hi.add(e.toString()),pe.resolve()}removeTarget(t,e){this.ji.Pi(e.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(l=>this.Hi.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Ki(){this.Wi=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Hi,i=>{const r=$e.fromPath(i);return this.Ji(t,r).next(l=>{l||e.removeEntry(r,xt.min())})}).next(()=>(this.Wi=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ji(t,e).next(i=>{i?this.Hi.delete(e.toString()):this.Hi.add(e.toString())})}qi(t){return 0}Ji(t,e){return pe.or([()=>pe.resolve(this.ji.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Qi(t,e)])}}function ON(n,t){return`firestore_clients_${n}_${t}`}function PN(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function EA(n,t){return`firestore_targets_${n}_${t}`}class aD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Yi(t,e,i){const r=JSON.parse(i);let l,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(l=new ke(r.error.code,r.error.message))),u?new aD(t,e,r.state,l):(qi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Ub{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Yi(t,e){const i=JSON.parse(e);let r,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(r=new ke(i.error.code,i.error.message))),l?new Ub(t,i.state,r):(qi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class lD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Yi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,l=KE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=KO(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return r?new lD(t,l):(qi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class DA{constructor(t,e){this.clientId=t,this.onlineState=e}static Yi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new DA(e.clientId,e.onlineState):(qi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class TA{constructor(){this.activeTargetIds=KE()}Zi(t){this.activeTargetIds=this.activeTargetIds.add(t)}tr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class IA{constructor(t,e,i,r,l){this.window=t,this.Yn=e,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Pi(jt),this.started=!1,this.rr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.ur=ON(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new TA),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.er)continue;const l=t.getItem(ON(t.persistenceKey,r));if(l){const u=lD.Yi(r,l);u&&(t.ir=t.ir.insert(u.clientId,u))}}t.wr();const i=t.storage.getItem(t.dr);if(i){const r=t.mr(i);r&&t.gr(r)}for(const r of t.rr)t.sr(r);t.rr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(t){let e=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.pr(t,"pending")}updateMutationState(t,e,i){this.pr(t,e,i),this.Ir(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(EA(this.persistenceKey,t));if(i){const r=Ub.Yi(t,i);r&&(e=r.state)}}return this.Tr.Zi(t),this.wr(),e}removeLocalQueryTarget(t){this.Tr.tr(t),this.wr()}isLocalQueryTarget(t){return this.Tr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(EA(this.persistenceKey,t))}updateQueryState(t,e,i){this.Er(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ir(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Ar(t)}notifyBundleLoaded(t){this.Rr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Le("SharedClientState","READ",t,e),e}setItem(t,e){Le("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Le("SharedClientState","REMOVE",t),this.storage.removeItem(t)}sr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Le("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void qi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Pr(i.key);return e.br(r,null)}{const r=e.Vr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Sr(r)}}else if(e.lr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(i.key===e.dr){if(null!==i.newValue){const r=e.mr(i.newValue);if(r)return e.gr(r)}}else if(i.key===e.ar){const r=function(l){let u=Jo.A;if(null!=l)try{const f=JSON.parse(l);Ot("number"==typeof f),u=f}catch(f){qi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Jo.A&&e.sequenceNumberHandler(r)}else if(i.key===e._r){const r=e.Nr(i.newValue);yield Promise.all(r.map(l=>e.syncEngine.kr(l)))}}else e.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(t,e,i){const r=new aD(this.currentUser,t,e,i),l=PN(this.persistenceKey,this.currentUser,t);this.setItem(l,r.Xi())}Ir(t){const e=PN(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Ar(t){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:t}))}Er(t,e,i){const r=EA(this.persistenceKey,t),l=new Ub(t,e,i);this.setItem(r,l.Xi())}Rr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}Pr(t){const e=this.cr.exec(t);return e?e[1]:null}Vr(t,e){const i=this.Pr(t);return lD.Yi(i,e)}vr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return aD.Yi(new Hr(void 0!==i[2]?i[2]:null),r,e)}Dr(t,e){const i=this.lr.exec(t),r=Number(i[1]);return Ub.Yi(r,e)}mr(t){return DA.Yi(t)}Nr(t){return JSON.parse(t)}Sr(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Mr(t.batchId,t.state,t.error);Le("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Cr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.ir.insert(t,e):this.ir.remove(t),r=this.yr(this.ir),l=this.yr(i),u=[],f=[];return l.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{l.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.ir=i})}gr(t){this.ir.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}yr(t){let e=KE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class NN{constructor(){this.$r=new TA,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.$r.Zi(t),this.Br[t]||"not-current"}updateQueryState(t,e,i){this.Br[t]=e}removeLocalQueryTarget(t){this.$r.tr(t)}isLocalQueryTarget(t){return this.$r.activeTargetIds.has(t)}clearQueryState(t){delete this.Br[t]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(t){return this.$r.activeTargetIds.has(t)}start(){return this.$r=new TA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ij{Lr(t){}shutdown(){}}class FN{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(t){this.Qr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Qr)t(0)}Gr(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Qr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class sj{constructor(t){this.Wr=t.Wr,this.zr=t.zr}Hr(t){this.Jr=t}Yr(t){this.Xr=t}onMessage(t){this.Zr=t}close(){this.zr()}send(t){this.Wr(t)}eo(){this.Jr()}no(t){this.Xr(t)}so(t){this.Zr(t)}}class oj extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.io=(t.ssl?"https":"http")+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(t,e,i,r,l){const u=this.uo(t,e);Le("RestConnection","Sending: ",u,i);const f={};return this.ao(f,r,l),this.co(t,u,f,i).then(_=>(Le("RestConnection","Received: ",_),_),_=>{throw fb("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ho(t,e,i,r,l){return this.oo(t,e,i,r,l)}ao(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Og,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,l)=>t[l]=r),i&&i.headers.forEach((r,l)=>t[l]=r)}uo(t,e){return`${this.io}/v1/${e}:${rj[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((l,u)=>{const f=new rU;f.listenOnce(tU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Bx.NO_ERROR:const b=f.getResponseJson();Le("Connection","XHR received:",JSON.stringify(b)),l(b);break;case Bx.TIMEOUT:Le("Connection",'RPC "'+t+'" timed out'),u(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case Bx.HTTP_ERROR:const T=f.getStatus();if(Le("Connection",'RPC "'+t+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const O=function(V){const U=V.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN}(A.status);u(new ke(O,A.message))}else u(new ke(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ke(de.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Le("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);f.send(e,"POST",_,i,15)})}lo(t,e,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=XB(),u=eU(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new iU({})),this.ao(f.initMessageHeaders,e,i),(0,qt.uI)()||(0,qt.b$)()||(0,qt.d)()||(0,qt.w1)()||(0,qt.Mn)()||(0,qt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Le("Connection","Creating WebChannel: "+_,f);const b=l.createWebChannel(_,f);let T=!1,A=!1;const O=new sj({Wr:U=>{A?Le("Connection","Not sending because WebChannel is closed:",U):(T||(Le("Connection","Opening WebChannel transport."),b.open(),T=!0),Le("Connection","WebChannel sending:",U),b.send(U))},zr:()=>b.close()}),V=(U,ee,Ee)=>{U.listen(ee,ze=>{try{Ee(ze)}catch(rt){setTimeout(()=>{throw rt},0)}})};return V(b,VE.EventType.OPEN,()=>{A||Le("Connection","WebChannel transport opened.")}),V(b,VE.EventType.CLOSE,()=>{A||(A=!0,Le("Connection","WebChannel transport closed"),O.no())}),V(b,VE.EventType.ERROR,U=>{A||(A=!0,fb("Connection","WebChannel transport errored:",U),O.no(new ke(de.UNAVAILABLE,"The operation could not be completed")))}),V(b,VE.EventType.MESSAGE,U=>{var ee;if(!A){const Ee=U.data[0];Ot(!!Ee);const ze=Ee,rt=ze.error||(null===(ee=ze[0])||void 0===ee?void 0:ee.error);if(rt){Le("Connection","WebChannel received error:",rt);const it=rt.status;let nt=function(Gt){const vn=Zi[Gt];if(void 0!==vn)return RP(vn)}(it),Lt=rt.message;void 0===nt&&(nt=de.INTERNAL,Lt="Unknown error status: "+it+" with message "+rt.message),A=!0,O.no(new ke(nt,Lt)),b.close()}else Le("Connection","WebChannel received:",Ee),O.so(Ee)}}),V(u,nU.STAT_EVENT,U=>{U.stat===HO.PROXY?Le("Connection","Detected buffering proxy"):U.stat===HO.NOPROXY&&Le("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.eo()},0),O}}function LN(){return"undefined"!=typeof window?window:null}function cD(){return"undefined"!=typeof document?document:null}function Hb(n){return new ZU(n,!0)}class SA{constructor(t,e,i=1e3,r=1.5,l=6e4){this.Yn=t,this.timerId=e,this.fo=i,this._o=r,this.wo=l,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(t){this.cancel();const e=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,e-i);r>0&&Le("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),t())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class VN{constructor(t,e,i,r,l,u,f,_){this.Yn=t,this.Ro=i,this.Po=r,this.bo=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new SA(t,e)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var t=this;return(0,ve.Z)(function*(){t.Co()&&(yield t.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(t){this.$o(),this.stream.send(t)}Oo(){var t=this;return(0,ve.Z)(function*(){if(t.xo())return t.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==t?i.Do.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(qi(e.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Yr(e)})()}Lo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===e&&this.qo(i,r)},i=>{t(()=>{const r=new ke(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(t,e){const i=this.Uo(this.Vo);this.stream=this.Go(t,e),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var t=this;this.state=5,this.Do.To((0,ve.Z)(function*(){t.state=0,t.start()}))}Ko(t){return Le("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Yn.enqueueAndForget(()=>this.Vo===t?e():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aj extends VN{constructor(t,e,i,r,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=l}Go(t,e){return this.bo.lo("Listen",t,e)}onMessage(t){this.Do.reset();const e=function QU(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),r=t.targetChange.targetIds||[],l=function(_,b){return _.N?(Ot(void 0===b||"string"==typeof b),lr.fromBase64String(b||"")):(Ot(void 0===b||b instanceof Uint8Array),lr.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(_){const b=void 0===_.code?de.UNKNOWN:RP(_.code);return new ke(b,_.message||"")}(u);e=new NP(i,r,l,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Xl(n,i.document.name),l=Er(i.document.updateTime),u=new as({mapValue:{fields:i.document.fields}}),f=Yn.newFoundDocument(r,l,u);e=new QE(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=Xl(n,i.document),l=i.readTime?Er(i.readTime):xt.min(),u=Yn.newNoDocument(r,l);e=new QE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Xl(n,i.document);e=new QE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ot();{const i=t.filter,l=new BU(i.count||0);e=new PP(i.targetId,l)}}var _;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return xt.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?xt.min():l.readTime?Er(l.readTime):xt.min()}(t);return this.listener.Qo(e,i)}jo(t){const e={};e.database=kb(this.M),e.addTarget=function(r,l){let u;const f=l.target;return u=jE(f)?{documents:zP(r,f)}:{query:qP(r,f)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?u.resumeToken=BP(r,l.resumeToken):l.snapshotVersion.compareTo(xt.min())>0&&(u.readTime=Ab(r,l.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function XU(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Fo(e)}Wo(t){const e={};e.database=kb(this.M),e.removeTarget=t,this.Fo(e)}}class lj extends VN{constructor(t,e,i,r,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=l,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(t,e){return this.bo.lo("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.zo){this.Do.reset();const e=function JU(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(i,r){let l=Er(i.updateTime?i.updateTime:r);return l.isEqual(xt.min())&&(l=Er(r)),new FU(l,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Er(t.commitTime);return this.listener.Yo(i,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const t={};t.database=kb(this.M),this.Fo(t)}Jo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Rb(this.M,i))};this.Fo(e)}}class cj extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}oo(t,e,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.oo(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}ho(t,e,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.bo.ho(t,e,i,r,l)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class uj{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ou("Offline")))}set(t){this.cu(),this.nu=0,"Online"===t&&(this.iu=!1),this.ou(t)}ou(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}uu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(qi(e),this.iu=!1):Le("OnlineStateTracker",e)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class dj{constructor(t,e,i,r,l){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=l,this._u.Lr(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;zd(u)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const T=We(b);T.fu.add(4),yield Qg(T),T.wu.set("Unknown"),T.fu.delete(4),yield jb(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this.wu=new uj(i,r)}}function jb(n){return xA.apply(this,arguments)}function xA(){return xA=(0,ve.Z)(function*(n){if(zd(n))for(const t of n.du)yield t(!0)}),xA.apply(this,arguments)}function Qg(n){return AA.apply(this,arguments)}function AA(){return AA=(0,ve.Z)(function*(n){for(const t of n.du)yield t(!1)}),AA.apply(this,arguments)}function uD(n,t){const e=We(n);e.lu.has(t.targetId)||(e.lu.set(t.targetId,t),RA(e)?kA(e):Xg(e).xo()&&MA(e,t))}function Gb(n,t){const e=We(n),i=Xg(e);e.lu.delete(t),i.xo()&&BN(e,t),0===e.lu.size&&(i.xo()?i.Mo():zd(e)&&e.wu.set("Unknown"))}function MA(n,t){n.mu.Z(t.targetId),Xg(n).jo(t)}function BN(n,t){n.mu.Z(t),Xg(n).Wo(t)}function kA(n){n.mu=new zU({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.lu.get(t)||null}),Xg(n).start(),n.wu.ru()}function RA(n){return zd(n)&&!Xg(n).Co()&&n.lu.size>0}function zd(n){return 0===We(n).fu.size}function UN(n){n.mu=void 0}function hj(n){return OA.apply(this,arguments)}function OA(){return OA=(0,ve.Z)(function*(n){n.lu.forEach((t,e)=>{MA(n,t)})}),OA.apply(this,arguments)}function fj(n,t){return PA.apply(this,arguments)}function PA(){return PA=(0,ve.Z)(function*(n,t){UN(n),RA(n)?(n.wu.au(t),kA(n)):n.wu.set("Unknown")}),PA.apply(this,arguments)}function pj(n,t,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ve.Z)(function*(n,t,e){if(n.wu.set("Online"),t instanceof NP&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,l){const u=l.cause;for(const f of l.targetIds)r.lu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.lu.delete(f),r.mu.removeTarget(f))}),function(r,l){return i.apply(this,arguments)})(n,t)}catch(i){Le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield dD(n,i)}else if(t instanceof QE?n.mu.ut(t):t instanceof PP?n.mu._t(t):n.mu.ht(t),!e.isEqual(xt.min()))try{const i=yield xN(n.localStore);e.compareTo(i)>=0&&(yield function(r,l){const u=r.mu.yt(l);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.lu.get(_);b&&r.lu.set(_,b.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach(f=>{const _=r.lu.get(f);if(!_)return;r.lu.set(f,_.withResumeToken(lr.EMPTY_BYTE_STRING,_.snapshotVersion)),BN(r,f);const b=new Hd(_.target,f,1,_.sequenceNumber);MA(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Le("RemoteStore","Failed to raise snapshot:",i),yield dD(n,i)}var i}),NA.apply(this,arguments)}function dD(n,t,e){return FA.apply(this,arguments)}function FA(){return FA=(0,ve.Z)(function*(n,t,e){if(!pp(t))throw t;n.fu.add(1),yield Qg(n),n.wu.set("Offline"),e||(e=()=>xN(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield e(),n.fu.delete(1),yield jb(n)}))}),FA.apply(this,arguments)}function HN(n,t){return t().catch(e=>dD(n,e,t))}function Jg(n){return LA.apply(this,arguments)}function LA(){return LA=(0,ve.Z)(function*(n){const t=We(n),e=qd(t);let i=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;mj(t);)try{const r=yield qH(t.localStore,i);if(null===r){0===t.hu.length&&e.Mo();break}i=r.batchId,gj(t,r)}catch(r){yield dD(t,r)}jN(t)&&GN(t)}),LA.apply(this,arguments)}function mj(n){return zd(n)&&n.hu.length<10}function gj(n,t){n.hu.push(t);const e=qd(n);e.xo()&&e.Ho&&e.Jo(t.mutations)}function jN(n){return zd(n)&&!qd(n).Co()&&n.hu.length>0}function GN(n){qd(n).start()}function _j(n){return VA.apply(this,arguments)}function VA(){return VA=(0,ve.Z)(function*(n){qd(n).Zo()}),VA.apply(this,arguments)}function yj(n){return BA.apply(this,arguments)}function BA(){return BA=(0,ve.Z)(function*(n){const t=qd(n);for(const e of n.hu)t.Jo(e.mutations)}),BA.apply(this,arguments)}function vj(n,t,e){return UA.apply(this,arguments)}function UA(){return UA=(0,ve.Z)(function*(n,t,e){const i=n.hu.shift(),r=sA.from(i,t,e);yield HN(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Jg(n)}),UA.apply(this,arguments)}function bj(n,t){return HA.apply(this,arguments)}function HA(){return HA=(0,ve.Z)(function*(n,t){var e;t&&qd(n).Ho&&(yield(e=(0,ve.Z)(function*(i,r){if(kP(l=r.code)&&l!==de.ABORTED){const u=i.hu.shift();qd(i).ko(),yield HN(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Jg(i)}var l}),function(i,r){return e.apply(this,arguments)})(n,t)),jN(n)&&GN(n)}),HA.apply(this,arguments)}function $N(n,t){return jA.apply(this,arguments)}function jA(){return jA=(0,ve.Z)(function*(n,t){const e=We(n);e.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const i=zd(e);e.fu.add(3),yield Qg(e),i&&e.wu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.fu.delete(3),yield jb(e)}),jA.apply(this,arguments)}function GA(n,t){return $A.apply(this,arguments)}function $A(){return $A=(0,ve.Z)(function*(n,t){const e=We(n);t?(e.fu.delete(2),yield jb(e)):t||(e.fu.add(2),yield Qg(e),e.wu.set("Unknown"))}),$A.apply(this,arguments)}function Xg(n){return n.gu||(n.gu=function(t,e,i){const r=We(t);return r.eu(),new aj(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:hj.bind(null,n),Yr:fj.bind(null,n),Qo:pj.bind(null,n)}),n.du.push(function(){var t=(0,ve.Z)(function*(e){e?(n.gu.ko(),RA(n)?kA(n):n.wu.set("Unknown")):(yield n.gu.stop(),UN(n))});return function(e){return t.apply(this,arguments)}}())),n.gu}function qd(n){return n.yu||(n.yu=function(t,e,i){const r=We(t);return r.eu(),new lj(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:_j.bind(null,n),Yr:bj.bind(null,n),Xo:yj.bind(null,n),Yo:vj.bind(null,n)}),n.du.push(function(){var t=(0,ve.Z)(function*(e){e?(n.yu.ko(),yield Jg(n)):(yield n.yu.stop(),n.hu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(e){return t.apply(this,arguments)}}())),n.yu}class zA{constructor(t,e,i,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,l){const u=Date.now()+i,f=new zA(t,e,u,r,l);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function e_(n,t){if(qi("AsyncQueue",`${t}: ${n}`),pp(n))return new ke(de.UNAVAILABLE,`${t}: ${n}`);throw n}class t_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||$e.comparator(e.key,i.key):(e,i)=>$e.comparator(e.key,i.key),this.keyedMap=Xx(),this.sortedSet=new Pi(this.comparator)}static emptySet(t){return new t_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof t_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new t_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class zN{constructor(){this.pu=new Pi($e.comparator)}track(t){const e=t.doc.key,i=this.pu.get(e);i?0!==t.type&&3===i.type?this.pu=this.pu.insert(e,t):3===t.type&&1!==i.type?this.pu=this.pu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.pu=this.pu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.pu=this.pu.remove(e):1===t.type&&2===i.type?this.pu=this.pu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):ot():this.pu=this.pu.insert(e,t)}Iu(){const t=[];return this.pu.inorderTraversal((e,i)=>{t.push(i)}),t}}class n_{constructor(t,e,i,r,l,u,f,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new n_(t,e,t_.emptySet(e),l,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class wj{constructor(){this.Tu=void 0,this.listeners=[]}}class Cj{constructor(){this.queries=new Ud(t=>mP(t),Cb),this.onlineState="Unknown",this.Eu=new Set}}function qA(n,t){return WA.apply(this,arguments)}function WA(){return WA=(0,ve.Z)(function*(n,t){const e=We(n),i=t.query;let r=!1,l=e.queries.get(i);if(l||(r=!0,l=new wj),r)try{l.Tu=yield e.onListen(i)}catch(u){const f=e_(u,`Initialization of query '${Yx(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,l),l.listeners.push(t),t.Au(e.onlineState),l.Tu&&t.Ru(l.Tu)&&KA(e)}),WA.apply(this,arguments)}function ZA(n,t){return YA.apply(this,arguments)}function YA(){return YA=(0,ve.Z)(function*(n,t){const e=We(n),i=t.query;let r=!1;const l=e.queries.get(i);if(l){const u=l.listeners.indexOf(t);u>=0&&(l.listeners.splice(u,1),r=0===l.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),YA.apply(this,arguments)}function Ej(n,t){const e=We(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.Ru(r)&&(i=!0);u.Tu=r}}i&&KA(e)}function Dj(n,t,e){const i=We(n),r=i.queries.get(t);if(r)for(const l of r.listeners)l.onError(e);i.queries.delete(t)}function KA(n){n.Eu.forEach(t=>{t.next()})}class QA{constructor(t,e,i){this.query=t,this.Pu=e,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new n_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Pu.next(t),e=!0):this.Su(t,this.onlineState)&&(this.Du(t),e=!0),this.Vu=t,e}onError(t){this.Pu.error(t)}Au(t){this.onlineState=t;let e=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,t)&&(this.Du(this.Vu),e=!0),e}Su(t,e){return!t.fromCache||!(this.options.Cu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(t){t=n_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Pu.next(t)}}class Tj{constructor(t,e){this.payload=t,this.byteLength=e}xu(){return"metadata"in this.payload}}class qN{constructor(t){this.M=t}fi(t){return Xl(this.M,t)}di(t){return t.metadata.exists?$P(this.M,t.document,!1):Yn.newNoDocument(this.fi(t.metadata.name),this._i(t.metadata.readTime))}_i(t){return Er(t)}}class Ij{constructor(t,e,i){this.Nu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=WN(t)}ku(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=cn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,i=new qN(this.M);for(const r of t)if(r.metadata.queries){const l=i.fi(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||Dn()).add(l);e.set(u,f)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function WH(n,t,e,i){return vA.apply(this,arguments)}(t.localStore,new qN(t.M),t.documents,t.Nu.id),i=t.Mu(t.documents);for(const r of t.queries)yield ZH(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Fu:e}})()}}function WN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZN{constructor(t){this.key=t}}class YN{constructor(t){this.key=t}}class KN{constructor(t,e){this.query=t,this.$u=e,this.Bu=null,this.current=!1,this.Lu=Dn(),this.mutatedKeys=Dn(),this.Uu=_P(t),this.qu=new t_(this.Uu)}get Ku(){return this.$u}Gu(t,e){const i=e?e.Qu:new zN,r=e?e.qu:this.qu;let l=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=$E(this.query)&&r.size===this.query.limit?r.last():null,b=zE(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,A)=>{const O=r.get(T),V=Kx(this.query,A)?A:null,U=!!O&&this.mutatedKeys.has(O.key),ee=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Ee=!1;O&&V?O.data.isEqual(V.data)?U!==ee&&(i.track({type:3,doc:V}),Ee=!0):this.ju(O,V)||(i.track({type:2,doc:V}),Ee=!0,(_&&this.Uu(V,_)>0||b&&this.Uu(V,b)<0)&&(f=!0)):!O&&V?(i.track({type:0,doc:V}),Ee=!0):O&&!V&&(i.track({type:1,doc:O}),Ee=!0,(_||b)&&(f=!0)),Ee&&(V?(u=u.add(V),l=ee?l.add(T):l.delete(T)):(u=u.delete(T),l=l.delete(T)))}),$E(this.query)||zE(this.query))for(;u.size>this.query.limit;){const T=$E(this.query)?u.last():u.first();u=u.delete(T.key),l=l.delete(T.key),i.track({type:1,doc:T})}return{qu:u,Qu:i,ni:f,mutatedKeys:l}}ju(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.qu;this.qu=t.qu,this.mutatedKeys=t.mutatedKeys;const l=t.Qu.Iu();l.sort((b,T)=>function(A,O){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return V(A)-V(O)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(i);const u=e?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==l.length||_?{snapshot:new n_(this.query,t.qu,r,l,t.mutatedKeys,0===f,_,!1),Hu:u}:{Hu:u}}Au(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new zN,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(t){return!this.$u.has(t)&&!!this.qu.has(t)&&!this.qu.get(t).hasLocalMutations}Wu(t){t&&(t.addedDocuments.forEach(e=>this.$u=this.$u.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.$u=this.$u.delete(e)),this.current=t.current)}zu(){if(!this.current)return[];const t=this.Lu;this.Lu=Dn(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const e=[];return t.forEach(i=>{this.Lu.has(i)||e.push(new YN(i))}),this.Lu.forEach(i=>{t.has(i)||e.push(new ZN(i))}),e}Yu(t){this.$u=t.li,this.Lu=Dn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Xu(){return n_.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class Sj{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class xj{constructor(t){this.key=t,this.Zu=!1}}class Aj{constructor(t,e,i,r,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new Ud(f=>mP(f),Cb),this.na=new Map,this.sa=new Set,this.ia=new Pi($e.comparator),this.ra=new Map,this.oa=new wA,this.ua={},this.aa=new Map,this.ca=bp.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function Mj(n,t){return JA.apply(this,arguments)}function JA(){return JA=(0,ve.Z)(function*(n,t){const e=wM(n);let i,r;const l=e.ea.get(t);if(l)i=l.targetId,e.sharedClientState.addLocalQueryTarget(i),r=l.view.Xu();else{const u=yield Yg(e.localStore,Sa(t));e.isPrimaryClient&&uD(e.remoteStore,u);const f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield XA(e,t,i,"current"===f)}return r}),JA.apply(this,arguments)}function XA(n,t,e,i){return eM.apply(this,arguments)}function eM(){return eM=(0,ve.Z)(function*(n,t,e,i){n.la=(T,A,O)=>{return(V=(0,ve.Z)(function*(U,ee,Ee,ze){let rt=ee.view.Gu(Ee);rt.ni&&(rt=yield oD(U.localStore,ee.query,!1).then(({documents:Lt})=>ee.view.Gu(Lt,rt)));const it=ze&&ze.targetChanges.get(ee.targetId),nt=ee.view.applyChanges(rt,U.isPrimaryClient,it);return uM(U,ee.targetId,nt.Hu),nt.snapshot}),function(U,ee,Ee,ze){return V.apply(this,arguments)})(n,T,A,O);var V};const r=yield oD(n.localStore,t,!0),l=new KN(t,r.li),u=l.Gu(r.documents),f=xb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=l.applyChanges(u,n.isPrimaryClient,f);uM(n,e,_.Hu);const b=new Sj(t,e,l);return n.ea.set(t,b),n.na.has(e)?n.na.get(e).push(t):n.na.set(e,[t]),_.snapshot}),eM.apply(this,arguments)}function kj(n,t){return tM.apply(this,arguments)}function tM(){return tM=(0,ve.Z)(function*(n,t){const e=We(n),i=e.ea.get(t),r=e.na.get(i.targetId);if(r.length>1)return e.na.set(i.targetId,r.filter(l=>!Cb(l,t))),void e.ea.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Kg(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Gb(e.remoteStore,i.targetId),i_(e,i.targetId)}).catch(wp))):(i_(e,i.targetId),yield Kg(e.localStore,i.targetId,!0))}),tM.apply(this,arguments)}function nM(){return nM=(0,ve.Z)(function*(n,t,e){const i=CM(n);try{const r=yield function(l,u){const f=We(l),_=Oi.now(),b=u.reduce((A,O)=>A.add(O.key),Dn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ci.Ks(A,b).next(O=>{T=O;const V=[];for(const U of u){const ee=VU(U,T.get(U.key));null!=ee&&V.push(new fp(U.key,ee,sP(ee.value.mapValue),Wi.exists(!0)))}return f.Bs.addMutationBatch(A,_,V,u)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,f){let _=l.ua[l.currentUser.toKey()];_||(_=new Pi(jt)),_=_.insert(u,f),l.ua[l.currentUser.toKey()]=_}(i,r.batchId,e),yield wu(i,r.changes),yield Jg(i.remoteStore)}catch(r){const l=e_(r,"Failed to persist write");e.reject(l)}}),nM.apply(this,arguments)}function QN(n,t){return iM.apply(this,arguments)}function iM(){return iM=(0,ve.Z)(function*(n,t){const e=We(n);try{const i=yield zH(e.localStore,t);t.targetChanges.forEach((r,l)=>{const u=e.ra.get(l);u&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Zu=!0:r.modifiedDocuments.size>0?Ot(u.Zu):r.removedDocuments.size>0&&(Ot(u.Zu),u.Zu=!1))}),yield wu(e,i,t)}catch(i){yield wp(i)}}),iM.apply(this,arguments)}function JN(n,t,e){const i=We(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ea.forEach((l,u)=>{const f=u.view.Au(t);f.snapshot&&r.push(f.snapshot)}),function(l,u){const f=We(l);f.onlineState=u;let _=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Au(u)&&(_=!0)}),_&&KA(f)}(i.eventManager,t),r.length&&i.ta.Qo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function Oj(n,t,e){return rM.apply(this,arguments)}function rM(){return rM=(0,ve.Z)(function*(n,t,e){const i=We(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ra.get(t),l=r&&r.key;if(l){let u=new Pi($e.comparator);u=u.insert(l,Yn.newNoDocument(l,xt.min()));const f=Dn().add(l),_=new Sb(xt.min(),new Map,new Kn(jt),u,f);yield QN(i,_),i.ia=i.ia.remove(l),i.ra.delete(t),dM(i)}else yield Kg(i.localStore,t,!1).then(()=>i_(i,t,e)).catch(wp)}),rM.apply(this,arguments)}function Pj(n,t){return sM.apply(this,arguments)}function sM(){return sM=(0,ve.Z)(function*(n,t){const e=We(n),i=t.batch.batchId;try{const r=yield $H(e.localStore,t);cM(e,i,null),lM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield wu(e,r)}catch(r){yield wp(r)}}),sM.apply(this,arguments)}function Nj(n,t,e){return oM.apply(this,arguments)}function oM(){return oM=(0,ve.Z)(function*(n,t,e){const i=We(n);try{const r=yield function(l,u){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.Bs.lookupMutationBatch(_,u).next(T=>(Ot(null!==T),b=T.keys(),f.Bs.removeMutationBatch(_,T))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,b))})}(i.localStore,t);cM(i,t,e),lM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield wu(i,r)}catch(r){yield wp(r)}}),oM.apply(this,arguments)}function aM(){return aM=(0,ve.Z)(function*(n,t){const e=We(n);zd(e.remoteStore)||Le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=We(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.Bs.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.aa.get(i)||[];r.push(t),e.aa.set(i,r)}catch(i){const r=e_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),aM.apply(this,arguments)}function lM(n,t){(n.aa.get(t)||[]).forEach(e=>{e.resolve()}),n.aa.delete(t)}function cM(n,t,e){const i=We(n);let r=i.ua[i.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),i.ua[i.currentUser.toKey()]=r}}function i_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.na.get(t))n.ea.delete(i),e&&n.ta.fa(i,e);n.na.delete(t),n.isPrimaryClient&&n.oa.Pi(t).forEach(i=>{n.oa.containsKey(i)||XN(n,i)})}function XN(n,t){n.sa.delete(t.path.canonicalString());const e=n.ia.get(t);null!==e&&(Gb(n.remoteStore,e),n.ia=n.ia.remove(t),n.ra.delete(e),dM(n))}function uM(n,t,e){for(const i of e)i instanceof ZN?(n.oa.addReference(i.key,t),Lj(n,i)):i instanceof YN?(Le("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,t),n.oa.containsKey(i.key)||XN(n,i.key)):ot()}function Lj(n,t){const e=t.key,i=e.path.canonicalString();n.ia.get(e)||n.sa.has(i)||(Le("SyncEngine","New document in limbo: "+e),n.sa.add(i),dM(n))}function dM(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const t=n.sa.values().next().value;n.sa.delete(t);const e=new $e(cn.fromString(t)),i=n.ca.next();n.ra.set(i,new xj(e)),n.ia=n.ia.insert(e,i),uD(n.remoteStore,new Hd(Sa(Vg(e.path)),i,2,Jo.A))}}function wu(n,t,e){return hM.apply(this,arguments)}function hM(){return hM=(0,ve.Z)(function*(n,t,e){const i=We(n),r=[],l=[],u=[];var f;i.ea.isEmpty()||(i.ea.forEach((f,_)=>{u.push(i.la(_,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const T=gA.Ys(_.targetId,b);l.push(T)}}))}),yield Promise.all(u),i.ta.Qo(r),yield(f=(0,ve.Z)(function*(_,b){const T=We(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>pe.forEach(b,O=>pe.forEach(O.Hs,V=>T.persistence.referenceDelegate.addReference(A,O.targetId,V)).next(()=>pe.forEach(O.Js,V=>T.persistence.referenceDelegate.removeReference(A,O.targetId,V)))))}catch(A){if(!pp(A))throw A;Le("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const O=A.targetId;if(!A.fromCache){const V=T.ii.get(O),ee=V.withLastLimboFreeSnapshotVersion(V.snapshotVersion);T.ii=T.ii.insert(O,ee)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,l))}),hM.apply(this,arguments)}function Vj(n,t){return fM.apply(this,arguments)}function fM(){return fM=(0,ve.Z)(function*(n,t){const e=We(n);if(!e.currentUser.isEqual(t)){Le("SyncEngine","User change. New user:",t.toKey());const i=yield SN(e.localStore,t);e.currentUser=t,(r=e).aa.forEach(u=>{u.forEach(f=>{f.reject(new ke(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield wu(e,i.hi)}var r}),fM.apply(this,arguments)}function Bj(n,t){const e=We(n),i=e.ra.get(t);if(i&&i.Zu)return Dn().add(i.key);{let r=Dn();const l=e.na.get(t);if(!l)return r;for(const u of l){const f=e.ea.get(u);r=r.unionWith(f.view.Ku)}return r}}function Uj(n,t){return pM.apply(this,arguments)}function pM(){return pM=(0,ve.Z)(function*(n,t){const e=We(n),i=yield oD(e.localStore,t.query,!0),r=t.view.Yu(i);return e.isPrimaryClient&&uM(e,t.targetId,r.Hu),r}),pM.apply(this,arguments)}function Hj(n,t){return mM.apply(this,arguments)}function mM(){return mM=(0,ve.Z)(function*(n,t){const e=We(n);return kN(e.localStore,t).then(i=>wu(e,i))}),mM.apply(this,arguments)}function jj(n,t,e,i){return gM.apply(this,arguments)}function gM(){return gM=(0,ve.Z)(function*(n,t,e,i){const r=We(n),l=yield function(u,f){const _=We(u),b=We(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,f).next(A=>A?_.ci.Ks(T,A):pe.resolve(null)))}(r.localStore,t);var f;null!==l?("pending"===e?yield Jg(r.remoteStore):"acknowledged"===e||"rejected"===e?(cM(r,t,i||null),lM(r,t),f=t,We(We(r.localStore).Bs)._n(f)):ot(),yield wu(r,l)):Le("SyncEngine","Cannot apply mutation batch with id: "+t)}),gM.apply(this,arguments)}function _M(){return _M=(0,ve.Z)(function*(n,t){const e=We(n);if(wM(e),CM(e),!0===t&&!0!==e.ha){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield eF(e,i.toArray());e.ha=!0,yield GA(e.remoteStore,!0);for(const l of r)uD(e.remoteStore,l)}else if(!1===t&&!1!==e.ha){const i=[];let r=Promise.resolve();e.na.forEach((l,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(i_(e,u),Kg(e.localStore,u,!0))),Gb(e.remoteStore,u)}),yield r,yield eF(e,i),function(l){const u=We(l);u.ra.forEach((f,_)=>{Gb(u.remoteStore,_)}),u.oa.bi(),u.ra=new Map,u.ia=new Pi($e.comparator)}(e),e.ha=!1,yield GA(e.remoteStore,!1)}}),_M.apply(this,arguments)}function eF(n,t,e){return yM.apply(this,arguments)}function yM(){return yM=(0,ve.Z)(function*(n,t,e){const i=We(n),r=[],l=[];for(const u of t){let f;const _=i.na.get(u);if(_&&0!==_.length){f=yield Yg(i.localStore,Sa(_[0]));for(const b of _){const T=i.ea.get(b),A=yield Uj(i,T);A.snapshot&&l.push(A.snapshot)}}else{const b=yield MN(i.localStore,u);f=yield Yg(i.localStore,b),yield XA(i,tF(b),u,!1)}r.push(f)}return i.ta.Qo(l),r}),yM.apply(this,arguments)}function tF(n){return fP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $j(n){const t=We(n);return We(We(t.localStore).persistence).Fs()}function zj(n,t,e,i){return vM.apply(this,arguments)}function vM(){return vM=(0,ve.Z)(function*(n,t,e,i){const r=We(n);if(r.ha)return void Le("SyncEngine","Ignoring unexpected query state notification.");const l=r.na.get(t);if(l&&l.length>0)switch(e){case"current":case"not-current":{const u=yield kN(r.localStore,gP(l[0])),f=Sb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield wu(r,u,f);break}case"rejected":yield Kg(r.localStore,t,!0),i_(r,t,i);break;default:ot()}}),vM.apply(this,arguments)}function qj(n,t,e){return bM.apply(this,arguments)}function bM(){return bM=(0,ve.Z)(function*(n,t,e){const i=wM(n);if(i.ha){for(const r of t){if(i.na.has(r)){Le("SyncEngine","Adding an already active target "+r);continue}const l=yield MN(i.localStore,r),u=yield Yg(i.localStore,l);yield XA(i,tF(l),u.targetId,!1),uD(i.remoteStore,u)}for(const r of e)i.na.has(r)&&(yield Kg(i.localStore,r,!1).then(()=>{Gb(i.remoteStore,r),i_(i,r)}).catch(wp))}}),bM.apply(this,arguments)}function wM(n){const t=We(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=QN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Oj.bind(null,t),t.ta.Qo=Ej.bind(null,t.eventManager),t.ta.fa=Dj.bind(null,t.eventManager),t}function CM(n){const t=We(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nj.bind(null,t),t}class nF{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.M=Hb(t.databaseInfo.databaseId),e.sharedClientState=e._a(t),e.persistence=e.wa(t),yield e.persistence.start(),e.gcScheduler=e.ma(t),e.localStore=e.ga(t)})()}ma(t){return null}ga(t){return IN(this.persistence,new TN,t.initialUser,this.M)}wa(t){return new tj(CA.zi,this.M)}_a(t){return new NN}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class iF extends nF{constructor(t,e,i){super(),this.ya=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield i.ya.initialize(i,t),yield CM(i.ya.syncEngine),yield Jg(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(t){return IN(this.persistence,new TN,t.initialUser,this.M)}ma(t){return new FH(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}wa(t){const e=mA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new pA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,LN(),cD(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(t){return new NN}}class Zj extends iF{constructor(t,e){super(t,e,!1),this.ya=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.ya.syncEngine;i.sharedClientState instanceof IA&&(i.sharedClientState.syncEngine={Mr:jj.bind(null,r),Or:zj.bind(null,r),Fr:qj.bind(null,r),Fs:$j.bind(null,r),kr:Hj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var l=(0,ve.Z)(function*(u){yield function Gj(n,t){return _M.apply(this,arguments)}(i.ya.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}_a(t){const e=LN();if(!IA.vt(e))throw new ke(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=mA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new IA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class EM{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>JN(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Vj.bind(null,i.syncEngine),yield GA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Cj}createDatastore(t){const e=Hb(t.databaseInfo.databaseId),i=new oj(t.databaseInfo);return new cj(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,l=f=>JN(this.syncEngine,f,0),u=FN.vt()?new FN:new ij,new dj(e,i,r,l,u);var e,i,r,l,u}createSyncEngine(t,e){return function(i,r,l,u,f,_,b){const T=new Aj(i,r,l,u,f,_);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=We(e);Le("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield Qg(i),i._u.shutdown(),i.wu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function rF(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class hD{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.pa(this.observer.next,t)}error(t){this.observer.error?this.pa(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Ia(){this.muted=!0}pa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Yj{constructor(t,e){this.Ta=t,this.M=e,this.metadata=new wr,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}da(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.Aa()})()}Aa(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Ra();if(null===e)return null;const i=t.Ea.decode(e),r=Number(i);isNaN(r)&&t.Pa(`length string (${i}) is not valid number`);const l=yield t.ba(r);return new Tj(JSON.parse(l),e.length+r)})()}Va(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ra(){var t=this;return(0,ve.Z)(function*(){for(;t.Va()<0&&!(yield t.va()););if(0===t.buffer.length)return null;const e=t.Va();e<0&&t.Pa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.va())&&e.Pa("Reached the end of bundle when more is expected.");const i=e.Ea.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pa(t){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${t}`)}va(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Ta.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Kj{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(l,u){const f=We(l),_=kb(f.M)+"/documents",b={documents:u.map(V=>Mb(f.M,V))},T=yield f.ho("BatchGetDocuments",_,b),A=new Map;T.forEach(V=>{const U=function KU(n,t){return"found"in t?function(e,i){Ot(!!i.found);const r=Xl(e,i.found.name),l=Er(i.found.updateTime),u=new as({mapValue:{fields:i.found.fields}});return Yn.newFoundDocument(r,l,u)}(n,t):"missing"in t?function(e,i){Ot(!!i.missing),Ot(!!i.readTime);const r=Xl(e,i.missing),l=Er(i.readTime);return Yn.newNoDocument(r,l)}(n,t):ot()}(f.M,V);A.set(U.key.toString(),U)});const O=[];return u.forEach(V=>{const U=A.get(V.toString());Ot(!!U),O.push(U)}),O}),function(l,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Tb(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const l=$e.fromPath(r);t.mutations.push(new Jx(l,t.precondition(l)))}),yield(i=(0,ve.Z)(function*(r,l){const u=We(r),f=kb(u.M)+"/documents",_={writes:l.map(b=>Rb(u.M,b))};yield u.oo("Commit",f,_)}),function(r,l){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ot();e=xt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Wi.updateTime(e):Wi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xt.min()))throw new ke(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wi.updateTime(e)}return Wi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Qj{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new SA(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var t=this;this.Do.To((0,ve.Z)(function*(){const e=new Kj(t.datastore),i=t.Ca(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(l=>{t.xa(l)}))}).catch(r=>{t.xa(r)})}))}Ca(t){try{const e=this.updateFunction(t);return!op(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}xa(t){this.Sa>0&&this.Na(t)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(t)}Na(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!kP(e)}return!1}}class Jj{constructor(t,e,i,r){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Hr.UNAUTHENTICATED,this.clientId=zO.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(f){Le("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Le("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=e_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function sF(n,t){return DM.apply(this,arguments)}function DM(){return DM=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(l){i.isEqual(l)||(yield SN(t.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),DM.apply(this,arguments)}function oF(n,t){return TM.apply(this,arguments)}function TM(){return TM=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield IM(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>$N(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,l)=>$N(t.remoteStore,l)),n.onlineComponents=t}),TM.apply(this,arguments)}function IM(n){return SM.apply(this,arguments)}function SM(){return SM=(0,ve.Z)(function*(n){return n.offlineComponents||(Le("FirestoreClient","Using default OfflineComponentProvider"),yield sF(n,new nF)),n.offlineComponents}),SM.apply(this,arguments)}function fD(n){return xM.apply(this,arguments)}function xM(){return xM=(0,ve.Z)(function*(n){return n.onlineComponents||(Le("FirestoreClient","Using default OnlineComponentProvider"),yield oF(n,new EM)),n.onlineComponents}),xM.apply(this,arguments)}function aF(n){return IM(n).then(t=>t.persistence)}function AM(n){return IM(n).then(t=>t.localStore)}function lF(n){return fD(n).then(t=>t.remoteStore)}function MM(n){return fD(n).then(t=>t.syncEngine)}function r_(n){return kM.apply(this,arguments)}function kM(){return kM=(0,ve.Z)(function*(n){const t=yield fD(n),e=t.eventManager;return e.onListen=Mj.bind(null,t.syncEngine),e.onUnlisten=kj.bind(null,t.syncEngine),e}),kM.apply(this,arguments)}function cF(n,t,e={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,l,u,f,_){const b=new hD({next:A=>{l.enqueueAndForget(()=>ZA(r,T));const O=A.docs.has(u);!O&&A.fromCache?_.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&f&&"server"===f.source?_.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new QA(Vg(u.path),b,{includeMetadataChanges:!0,Cu:!0});return qA(r,T)}(yield r_(n),n.asyncQueue,t,e,i)})),i.promise}function uF(n,t,e={}){const i=new wr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,l,u,f,_){const b=new hD({next:A=>{l.enqueueAndForget(()=>ZA(r,T)),A.fromCache&&"server"===f.source?_.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new QA(u,b,{includeMetadataChanges:!0,Cu:!0});return qA(r,T)}(yield r_(n),n.asyncQueue,t,e,i)})),i.promise}const dF=new Map;function RM(n,t,e){if(!e)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function hF(n,t,e,i){if(!0===t&&!0===i)throw new ke(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function fF(n){if(!$e.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pF(n){if($e.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ot()}function nn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=pD(n);throw new ke(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function mF(n,t){if(t<=0)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class gF{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,hF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $b{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gF({}),this._settingsFrozen=!1,t instanceof yu?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(r.options.projectId)}(t))}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gF(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new aU;switch(e.type){case"gapi":const i=e.client;return Ot(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new dU(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=dF.get(t);e&&(Le("ComponentProvider","Removing Datastore"),dF.delete(t),e.terminate())}(this),Promise.resolve()}}class Qn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Qn(this.firestore,t,this._key)}}class ls{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class tc extends ls{constructor(t,e,i){super(t,e,Vg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Qn(this.firestore,null,new $e(t))}withConverter(t){return new tc(this.firestore,t,this._path)}}function _F(n,t,...e){if(n=(0,qt.m9)(n),RM("collection","path",t),n instanceof $b){const i=cn.fromString(t,...e);return pF(i),new tc(n,null,i)}{if(!(n instanceof Qn||n instanceof tc))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(t,...e));return pF(i),new tc(n.firestore,null,i)}}function mD(n,t,...e){if(n=(0,qt.m9)(n),1===arguments.length&&(t=zO.R()),RM("doc","path",t),n instanceof $b){const i=cn.fromString(t,...e);return fF(i),new Qn(n,null,new $e(i))}{if(!(n instanceof Qn||n instanceof tc))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(cn.fromString(t,...e));return fF(i),new Qn(n.firestore,n instanceof tc?n.converter:null,new $e(i))}}function yF(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),(n instanceof Qn||n instanceof tc)&&(t instanceof Qn||t instanceof tc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function vF(n,t){return n=(0,qt.m9)(n),t=(0,qt.m9)(t),n instanceof ls&&t instanceof ls&&n.firestore===t.firestore&&Cb(n._query,t._query)&&n.converter===t.converter}class u3{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new SA(this,"async_queue_retry"),this.qa=()=>{const e=cD();e&&Le("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const t=cD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ka(),this.Ga(t)}enterRestrictedMode(t){if(!this.Oa){this.Oa=!0,this.La=t||!1;const e=cD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qa)}}enqueue(t){if(this.Ka(),this.Oa)return new Promise(()=>{});const e=new wr;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ma.push(t),this.Qa()))}Qa(){var t=this;return(0,ve.Z)(function*(){if(0!==t.Ma.length){try{yield t.Ma[0](),t.Ma.shift(),t.Do.reset()}catch(e){if(!pp(e))throw e;Le("AsyncQueue","Operation failed with retryable error: "+e)}t.Ma.length>0&&t.Do.To(()=>t.Qa())}})()}Ga(t){const e=this.ka.then(()=>(this.Ba=!0,t().catch(i=>{throw this.$a=i,this.Ba=!1,qi("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=e,e}enqueueAfterDelay(t,e,i){this.Ka(),this.Ua.indexOf(t)>-1&&(e=0);const r=zA.createAndSchedule(this,t,e,i,l=>this.ja(l));return this.Fa.push(r),r}Ka(){this.$a&&ot()}verifyOperationInProgress(){}Wa(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.ka,yield e}while(e!==t.ka)})()}za(t){for(const e of this.Fa)if(e.timerId===t)return!0;return!1}Ha(t){return this.Wa().then(()=>{this.Fa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Fa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Wa()})}Ja(t){this.Ua.push(t)}ja(t){const e=this.Fa.indexOf(t);this.Fa.splice(e,1)}}function OM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class d3{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ai extends $b{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new u3,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||bF(this),this._firestoreClient.terminate()}}function Yi(n){return n._firestoreClient||bF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function bF(n){var t;const e=n._freezeSettings(),i=(l=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new _U(n._databaseId,l,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new Jj(n._authCredentials,n._appCheckCredentials,n._queue,i)}function wF(n,t,e){const i=new wr;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield sF(n,e),yield oF(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(l=r).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var l})).then(()=>i.promise)}function CF(n){if(n._initialized||n._terminated)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new nc(lr.fromBase64String(t))}catch(e){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new nc(lr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ep{constructor(t){this._methodName=t}}class gD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}}const w3=/^__.*__$/;class C3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new fp(t,this.data,this.fieldMask,e,this.fieldTransforms):new Db(t,this.data,e,this.fieldTransforms)}}class EF{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new fp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function DF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class _D{constructor(t,e,i,r,l,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===l&&this.Ya(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(t){return new _D(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Za({path:i,ec:!1});return r.nc(t),r}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(t){return this.Za({path:void 0,ec:!0})}rc(t){return bD(t,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ya(){if(this.path)for(let t=0;t<this.path.length;t++)this.nc(this.path.get(t))}nc(t){if(0===t.length)throw this.rc("Document fields must not be empty");if(DF(this.Xa)&&w3.test(t))throw this.rc('Document fields cannot begin and end with "__"')}}class E3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||Hb(t)}ac(t,e,i,r=!1){return new _D({Xa:t,methodName:e,uc:i,path:Cr.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Dp(n){const t=n._freezeSettings(),e=Hb(n._databaseId);return new E3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function yD(n,t,e,i,r,l={}){const u=n.ac(l.merge||l.mergeFields?2:0,t,e,r);LM("Data must be an object, but it was:",u,i);const f=SF(i,u);let _,b;if(l.merge)_=new Ng(u.fieldMask),b=u.fieldTransforms;else if(l.mergeFields){const T=[];for(const A of l.mergeFields){const O=VM(t,A,e);if(!u.contains(O))throw new ke(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);AF(T,O)||T.push(O)}_=new Ng(T),b=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,b=u.fieldTransforms;return new C3(new as(f),_,b)}class zb extends Ep{_toFieldTransform(t){if(2!==t.Xa)throw t.rc(1===t.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof zb}}function TF(n,t,e){return new _D({Xa:3,uc:t.settings.uc,methodName:n._methodName,ec:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class PM extends Ep{_toFieldTransform(t){return new Eb(t.path,new Ug)}isEqual(t){return t instanceof PM}}class D3 extends Ep{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=TF(this,t,!0),i=this.cc.map(l=>Tp(l,e)),r=new dp(i);return new Eb(t.path,r)}isEqual(t){return this===t}}class T3 extends Ep{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=TF(this,t,!0),i=this.cc.map(l=>Tp(l,e)),r=new hp(i);return new Eb(t.path,r)}isEqual(t){return this===t}}class I3 extends Ep{constructor(t,e){super(t),this.hc=e}_toFieldTransform(t){const e=new Hg(t.M,bP(t.M,this.hc));return new Eb(t.path,e)}isEqual(t){return this===t}}function NM(n,t,e,i){const r=n.ac(1,t,e);LM("Data must be an object, but it was:",r,i);const l=[],u=as.empty();rp(i,(_,b)=>{const T=vD(t,_,e);b=(0,qt.m9)(b);const A=r.sc(T);if(b instanceof zb)l.push(T);else{const O=Tp(b,A);null!=O&&(l.push(T),u.set(T,O))}});const f=new Ng(l);return new EF(u,f,r.fieldTransforms)}function FM(n,t,e,i,r,l){const u=n.ac(1,t,e),f=[VM(t,i,e)],_=[r];if(l.length%2!=0)throw new ke(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<l.length;O+=2)f.push(VM(t,l[O])),_.push(l[O+1]);const b=[],T=as.empty();for(let O=f.length-1;O>=0;--O)if(!AF(b,f[O])){const V=f[O];let U=_[O];U=(0,qt.m9)(U);const ee=u.sc(V);if(U instanceof zb)b.push(V);else{const Ee=Tp(U,ee);null!=Ee&&(b.push(V),T.set(V,Ee))}}const A=new Ng(b);return new EF(T,A,u.fieldTransforms)}function IF(n,t,e,i=!1){return Tp(e,n.ac(i?4:3,t))}function Tp(n,t){if(xF(n=(0,qt.m9)(n)))return LM("Unsupported field value:",t,n),SF(n,t);if(n instanceof Ep)return function(e,i){if(!DF(i.Xa))throw i.rc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,i){const r=[];let l=0;for(const u of e){let f=Tp(u,i.ic(l));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),l++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,qt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bP(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Oi.fromDate(e);return{timestampValue:Ab(i.M,r)}}if(e instanceof Oi){const r=new Oi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ab(i.M,r)}}if(e instanceof gD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof nc)return{bytesValue:BP(i.M,e._byteString)};if(e instanceof Qn){const r=i.databaseId,l=e.firestore._databaseId;if(!l.isEqual(r))throw i.rc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:eA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.rc(`Unsupported field value: ${pD(e)}`)}(n,t)}function SF(n,t){const e={};return ZO(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rp(n,(i,r)=>{const l=Tp(r,t.tc(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function xF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Oi||n instanceof gD||n instanceof nc||n instanceof Qn||n instanceof Ep)}function LM(n,t,e){if(!xF(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=pD(e);throw t.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function VM(n,t,e){if((t=(0,qt.m9)(t))instanceof Cu)return t._internalPath;if("string"==typeof t)return vD(n,t);throw bD("Field path arguments must be of type string or ",n,!1,void 0,e)}const S3=new RegExp("[~\\*/\\[\\]]");function vD(n,t,e){if(t.search(S3)>=0)throw bD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Cu(...t.split("."))._internalPath}catch(i){throw bD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function bD(n,t,e,i,r){const l=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(l||u)&&(_+=" (found",l&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(de.INVALID_ARGUMENT,f+n+_)}function AF(n,t){return n.some(e=>e.isEqual(t))}class qb{constructor(t,e,i,r,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new x3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(wD("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class x3 extends qb{data(){return super.data()}}function wD(n,t){return"string"==typeof t?vD(n,t):t instanceof Cu?t._internalPath:t._delegate._internalPath}class Ip{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Eu extends qb{constructor(t,e,i,r,l,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Wb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(wD("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Wb extends Eu{data(t={}){return super.data(t)}}class Wd{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ip(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Wb(this._firestore,this._userDataWriter,i.key,i,new Ip(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Wb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ip(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Wb(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ip(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),b=l.indexOf(u.doc.key)),{type:A3(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function A3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function MF(n,t){return n instanceof Eu&&t instanceof Eu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Wd&&t instanceof Wd&&n._firestore===t._firestore&&vF(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function kF(n){if(zE(n)&&0===n.explicitOrderBy.length)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zb{}function Zd(n,...t){for(const e of t)n=e._apply(n);return n}class M3 extends Zb{constructor(t,e,i){super(),this.lc=t,this.fc=e,this.dc=i,this.type="where"}_apply(t){const e=Dp(t.firestore),i=function(r,l,u,f,_,b,T){let A;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){LF(T,b);const V=[];for(const U of T)V.push(FF(f,r,U));A={arrayValue:{values:V}}}else A=FF(f,r,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||LF(T,b),A=IF(u,"where",T,"in"===b||"not-in"===b);const O=jr.create(_,b,A);return function(V,U){if(U.S()){const Ee=Wx(V);if(null!==Ee&&!Ee.isEqual(U.field))throw new ke(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ee.toString()}' and '${U.field.toString()}'`);const ze=qx(V);null!==ze&&VF(0,U.field,ze)}const ee=function(Ee,ze){for(const rt of Ee.filters)if(ze.indexOf(rt.op)>=0)return rt.op;return null}(V,function(Ee){switch(Ee){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==ee)throw new ke(de.INVALID_ARGUMENT,ee===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${ee.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.lc,this.fc,this.dc);return new ls(t.firestore,t.converter,function(r,l){const u=r.filters.concat([l]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class R3 extends Zb{constructor(t,e){super(),this.lc=t,this._c=e,this.type="orderBy"}_apply(t){const e=function(i,r,l){if(null!==i.startAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Lg(r,l);return function(f,_){if(null===qx(f)){const b=Wx(f);null!==b&&VF(0,b,_.field)}}(i,u),u}(t._query,this.lc,this._c);return new ls(t.firestore,t.converter,function(i,r){const l=i.explicitOrderBy.concat([r]);return new bu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class RF extends Zb{constructor(t,e,i){super(),this.type=t,this.wc=e,this.mc=i}_apply(t){return new ls(t.firestore,t.converter,pP(t._query,this.wc,this.mc))}}class OF extends Zb{constructor(t,e,i){super(),this.type=t,this.gc=e,this.yc=i}_apply(t){const e=NF(t,this.type,this.gc,this.yc);return new ls(t.firestore,t.converter,(r=e,new bu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class PF extends Zb{constructor(t,e,i){super(),this.type=t,this.gc=e,this.yc=i}_apply(t){const e=NF(t,this.type,this.gc,this.yc);return new ls(t.firestore,t.converter,(r=e,new bu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function NF(n,t,e,i){if(e[0]=(0,qt.m9)(e[0]),e[0]instanceof qb)return function(r,l,u,f,_){if(!f)throw new ke(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of Bg(r))if(T.field.isKeyField())b.push(lp(l,f.key));else{const A=f.data.field(T.field);if(jx(A))throw new ke(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const O=T.field.canonicalString();throw new ke(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(A)}return new Bd(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Dp(n.firestore);return function(l,u,f,_,b,T){const A=l.explicitOrderBy;if(b.length>A.length)throw new ke(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let V=0;V<b.length;V++){const U=b[V];if(A[V].field.isKeyField()){if("string"!=typeof U)throw new ke(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!Zx(l)&&-1!==U.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const ee=l.path.child(cn.fromString(U));if(!$e.isDocumentKey(ee))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const Ee=new $e(ee);O.push(lp(u,Ee))}else{const ee=IF(f,_,U);O.push(ee)}}return new Bd(O,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function FF(n,t,e){if("string"==typeof(e=(0,qt.m9)(e))){if(""===e)throw new ke(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zx(t)&&-1!==e.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(cn.fromString(e));if(!$e.isDocumentKey(i))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lp(n,new $e(i))}if(e instanceof Qn)return lp(n,e._key);throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pD(e)}.`)}function LF(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function VF(n,t,e){if(!e.isEqual(t))throw new ke(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class BM{convertValue(t,e="none"){switch(ap(t)){case 0:return null;case 1:return t.booleanValue;case 2:return bi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(sp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ot()}}convertObject(t,e){const i={};return rp(t.fields,(r,l)=>{i[r]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new gD(bi(t.latitude),bi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=YO(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(mb(t));default:return null}}convertTimestamp(t){const e=Ld(t);return new Oi(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=cn.fromString(t);Ot(YP(i));const r=new yu(i.get(1),i.get(3)),l=new $e(i.popFirst(5));return r.isEqual(e)||qi(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function CD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class U3 extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new nc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qn(this.firestore,null,e)}}class BF{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Dp(t)}set(t,e,i){this._verifyNotCommitted();const r=Yd(t,this._firestore),l=CD(r.converter,e,i),u=yD(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Wi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const l=Yd(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof Cu?FM(this._dataReader,"WriteBatch.update",l._key,e,i,r):NM(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(u.toMutation(l._key,Wi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Yd(t,this._firestore);return this._mutations=this._mutations.concat(new Tb(e._key,Wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Yd(n,t){if((n=(0,qt.m9)(n)).firestore!==t)throw new ke(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Sp extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new nc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Qn(this.firestore,null,e)}}function UF(n,t,e){n=nn(n,Qn);const i=nn(n.firestore,ai),r=CD(n.converter,t,e);return s_(i,[yD(Dp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Wi.none())])}function HF(n,t,e,...i){n=nn(n,Qn);const r=nn(n.firestore,ai),l=Dp(r);let u;return u="string"==typeof(t=(0,qt.m9)(t))||t instanceof Cu?FM(l,"updateDoc",n._key,t,e,i):NM(l,"updateDoc",n._key,t),s_(r,[u.toMutation(n._key,Wi.exists(!0))])}function jF(n,...t){var e,i,r;n=(0,qt.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||OM(t[u])||(l=t[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges};if(OM(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),t[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,b,T;if(n instanceof Qn)b=nn(n.firestore,ai),T=Vg(n._key.path),_={next:A=>{t[u]&&t[u](UM(b,n,A))},error:t[u+1],complete:t[u+2]};else{const A=nn(n,ls);b=nn(A.firestore,ai),T=A._query;const O=new Sp(b);_={next:V=>{t[u]&&t[u](new Wd(b,O,A,V))},error:t[u+1],complete:t[u+2]},kF(n._query)}return function(A,O,V,U){const ee=new hD(U),Ee=new QA(O,ee,V);return A.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return qA(yield r_(A),Ee)})),()=>{ee.Ia(),A.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return ZA(yield r_(A),Ee)}))}}(Yi(b),T,f,_)}function s_(n,t){return function(e,i){const r=new wr;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Rj(n,t,e){return nM.apply(this,arguments)}(yield MM(e),i,r)})),r.promise}(Yi(n),t)}function UM(n,t,e){const i=e.docs.get(t._key),r=new Sp(n);return new Eu(n,r,t._key,i,new Ip(e.hasPendingWrites,e.fromCache),t.converter)}class K3 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Dp(t)}get(t){const e=Yd(t,this._firestore),i=new U3(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ot();const l=r[0];if(l.isFoundDocument())return new qb(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new qb(this._firestore,i,e._key,null,e.converter);throw ot()})}set(t,e,i){const r=Yd(t,this._firestore),l=CD(r.converter,e,i),u=yD(this._dataReader,"Transaction.set",r._key,l,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const l=Yd(t,this._firestore);let u;return u="string"==typeof(e=(0,qt.m9)(e))||e instanceof Cu?FM(this._dataReader,"Transaction.update",l._key,e,i,r):NM(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Yd(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Yd(t,this._firestore),i=new Sp(this._firestore);return super.get(t).then(r=>new Eu(this._firestore,i,e._key,r._document,new Ip(!1,!1),e.converter))}}function HM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function $F(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function zF(){if(!function mU(){return"undefined"!=typeof atob}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Og=Kl.SDK_VERSION,(0,Kl._registerComponent)(new bg.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=new ai(r,new cU(e.getProvider("auth-internal")),new hU(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC")),(0,Kl.registerVersion)(jO,"3.4.8",n),(0,Kl.registerVersion)(jO,"3.4.8","esm2017")}();class Yb{constructor(t){this._delegate=t}static fromBase64String(t){return zF(),new Yb(nc.fromBase64String(t))}static fromUint8Array(t){return $F(),new Yb(nc.fromUint8Array(t))}toBase64(){return zF(),this._delegate.toBase64()}toUint8Array(){return $F(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jM(n){return function sG(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class oG{enableIndexedDbPersistence(t,e){return function f3(n,t){CF(n=nn(n,ai));const e=Yi(n),i=n._freezeSettings(),r=new EM;return wF(e,r,new iF(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function p3(n){CF(n=nn(n,ai));const t=Yi(n),e=n._freezeSettings(),i=new EM;return wF(t,i,new Zj(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function m3(n){if(n._initialized&&!n._terminated)throw new ke(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!al.vt())return Promise.resolve();const r=i+"main";yield al.delete(r)}),function(i){return e.apply(this,arguments)})(mA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class qF{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof yu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&fb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function l3(n,t,e,i={}){var r;const l=(n=nn(n,$b))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==t&&fb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=Hr.MOCK_USER;else{u=(0,qt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Hr(_)}n._authCredentials=new lU(new GO(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function _3(n){return function Xj(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield aF(n),e=yield lF(n);return t.setNetworkEnabled(!0),function(i){const r=We(i);return r.fu.delete(0),jb(r)}(e)}))}(Yi(n=nn(n,ai)))}(this._delegate)}disableNetwork(){return function y3(n){return function e3(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield aF(n),e=yield lF(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const l=We(r);l.fu.add(0),yield Qg(l),l.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Yi(n=nn(n,ai)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,hF("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function g3(n){return function(t){const e=new wr;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function Fj(n,t){return aM.apply(this,arguments)}(yield MM(t),e)})),e.promise}(Yi(n=nn(n,ai)))}(this._delegate)}onSnapshotsInSync(t){return function Y3(n,t){return function r3(n,t){const e=new hD(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield r_(n),r=e,We(i).Eu.add(r),void r.next();var i,r})),()=>{e.Ia(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield r_(n),r=e,void We(i).Eu.delete(r);var i,r}))}}(Yi(n=nn(n,ai)),OM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new o_(this,_F(this._delegate,t))}catch(e){throw Vs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Aa(this,mD(this._delegate,t))}catch(e){throw Vs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Bs(this,function c3(n,t){if(n=nn(n,$b),RM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(n,null,(e=t,new bu(cn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Vs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Q3(n,t){return function s3(n,t){const e=new wr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(r=n,fD(r).then(l=>l.datastore));var r;new Qj(n.asyncQueue,i,t,e).run()})),e.promise}(Yi(n=nn(n,ai)),e=>t(new K3(n,e)))}(this._delegate,e=>t(new WF(this,e)))}batch(){return Yi(this._delegate),new ZF(new BF(this._delegate,t=>s_(this._delegate,t)))}loadBundle(t){return function v3(n,t){const e=Yi(n=nn(n,ai)),i=new d3;return function o3(n,t,e,i){const r=function(l,u){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,b){if(_ instanceof Uint8Array)return rF(_,b);if(_ instanceof ArrayBuffer)return rF(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Yj(_,u);var _}(e,Hb(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function Wj(n,t,e){const i=We(n);var r;(r=(0,ve.Z)(function*(l,u,f){try{const _=yield u.getMetadata();if(yield function(O,V){const U=We(O),ee=Er(V.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",Ee=>U._s.getBundleMetadata(Ee,V.id)).then(Ee=>!!Ee&&Ee.createTime.compareTo(ee)>=0)}(l.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(WN(_));const b=new Ij(_,l.localStore,u.M);let T=yield u.da();for(;T;){const O=yield b.ku(T);O&&f._updateProgress(O),T=yield u.da()}const A=yield b.complete();return yield wu(l,A.Fu,void 0),yield function(O,V){const U=We(O);return U.persistence.runTransaction("Save bundle","readwrite",ee=>U._s.saveBundleMetadata(ee,V))}(l.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Ou)}catch(_){return fb("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var O}),function(l,u,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield MM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function b3(n,t){return function a3(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=We(e);return r.persistence.runTransaction("Get named query","readonly",l=>r._s.getNamedQuery(l,i))}(yield AM(n),t)}))}(Yi(n=nn(n,ai)),t).then(e=>e?new ls(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Bs(this,e):null)}}class ED extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yb(new nc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Aa.forKey(e,this.firestore,null)}}class WF{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new ED(t)}get(t){const e=Ap(t);return this._delegate.get(e).then(i=>new Kb(this._firestore,new Eu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Ap(t);return i?(HM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=Ap(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=Ap(t);return this._delegate.delete(e),this}}class ZF{constructor(t){this._delegate=t}set(t,e,i){const r=Ap(t);return i?(HM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const l=Ap(t);return 2===arguments.length?this._delegate.update(l,e):this._delegate.update(l,e,i,...r),this}delete(t){const e=Ap(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class xp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Wb(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Qb(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=xp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let l=r.get(e);return l||(l=new xp(t,new ED(t),e),r.set(e,l)),l}}xp.INSTANCES=new WeakMap;class Aa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ED(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Aa(e,new Qn(e._delegate,i,new $e(t)))}static forKey(t,e,i){return new Aa(e,new Qn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new o_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new o_(this.firestore,_F(this._delegate,t))}catch(e){throw Vs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,qt.m9)(t))instanceof Qn&&yF(this._delegate,t)}set(t,e){e=HM("DocumentReference.set",e);try{return e?UF(this._delegate,t,e):UF(this._delegate,t)}catch(i){throw Vs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?HF(this._delegate,t):HF(this._delegate,t,e,...i)}catch(r){throw Vs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function W3(n){return s_(nn(n.firestore,ai),[new Tb(n._key,Wi.none())])}(this._delegate)}onSnapshot(...t){const e=YF(t),i=KF(t,r=>new Kb(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return jF(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function j3(n){n=nn(n,Qn);const t=nn(n.firestore,ai),e=Yi(t),i=new Sp(t);return function t3(n,t){const e=new wr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,l,u){try{const f=yield function(_,b){const T=We(_);return T.persistence.runTransaction("read document","readonly",A=>T.ci.Ls(A,b))}(r,l);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new ke(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=e_(f,`Failed to get document '${l} from cache`);u.reject(_)}}),function(r,l,u){return i.apply(this,arguments)})(yield AM(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Eu(t,i,n._key,r,new Ip(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function G3(n){n=nn(n,Qn);const t=nn(n.firestore,ai);return cF(Yi(t),n._key,{source:"server"}).then(e=>UM(t,n,e))}(this._delegate):function H3(n){n=nn(n,Qn);const t=nn(n.firestore,ai);return cF(Yi(t),n._key).then(e=>UM(t,n,e))}(this._delegate),e.then(i=>new Kb(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Aa(this.firestore,this._delegate.withConverter(t?xp.getInstance(this.firestore,t):null))}}function Vs(n,t,e){return n.message=n.message.replace(t,e),n}function YF(n){for(const t of n)if("object"==typeof t&&!jM(t))return t;return{}}function KF(n,t){var e,i;let r;return r=jM(n[0])?n[0]:jM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{r.next&&r.next(t(l))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Kb{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return MF(this._delegate,t._delegate)}}class Qb extends Kb{data(t){const e=this._delegate.data(t);return function oU(n,t){n||ot()}(void 0!==e),e}}class Bs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new ED(t)}where(t,e,i){try{return new Bs(this.firestore,Zd(this._delegate,function k3(n,t,e){const i=t,r=wD("where",n);return new M3(r,i,e)}(t,e,i)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Bs(this.firestore,Zd(this._delegate,function O3(n,t="asc"){const e=t,i=wD("orderBy",n);return new R3(i,e)}(t,e)))}catch(i){throw Vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Bs(this.firestore,Zd(this._delegate,function P3(n){return mF("limit",n),new RF("limit",n,"F")}(t)))}catch(e){throw Vs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Bs(this.firestore,Zd(this._delegate,function N3(n){return mF("limitToLast",n),new RF("limitToLast",n,"L")}(t)))}catch(e){throw Vs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Bs(this.firestore,Zd(this._delegate,function F3(...n){return new OF("startAt",n,!0)}(...t)))}catch(e){throw Vs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Bs(this.firestore,Zd(this._delegate,function L3(...n){return new OF("startAfter",n,!1)}(...t)))}catch(e){throw Vs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Bs(this.firestore,Zd(this._delegate,function V3(...n){return new PF("endBefore",n,!1)}(...t)))}catch(e){throw Vs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Bs(this.firestore,Zd(this._delegate,function B3(...n){return new PF("endAt",n,!0)}(...t)))}catch(e){throw Vs(e,"endAt()","Query.endAt()")}}isEqual(t){return vF(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function z3(n){n=nn(n,ls);const t=nn(n.firestore,ai),e=Yi(t),i=new Sp(t);return function n3(n,t){const e=new wr;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,l,u){try{const f=yield oD(r,l,!0),_=new KN(l,f.li),b=_.Gu(f.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(f){const _=e_(f,`Failed to execute query '${l} against cache`);u.reject(_)}}),function(r,l,u){return i.apply(this,arguments)})(yield AM(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Wd(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function q3(n){n=nn(n,ls);const t=nn(n.firestore,ai),e=Yi(t),i=new Sp(t);return uF(e,n._query,{source:"server"}).then(r=>new Wd(t,i,n,r))}(this._delegate):function $3(n){n=nn(n,ls);const t=nn(n.firestore,ai),e=Yi(t),i=new Sp(t);return kF(n._query),uF(e,n._query).then(r=>new Wd(t,i,n,r))}(this._delegate),e.then(i=>new GM(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=YF(t),i=KF(t,r=>new GM(this.firestore,new Wd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return jF(this._delegate,e,i)}withConverter(t){return new Bs(this.firestore,this._delegate.withConverter(t?xp.getInstance(this.firestore,t):null))}}class lG{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Qb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class GM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Bs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Qb(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new lG(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Qb(this._firestore,i))})}isEqual(t){return MF(this._delegate,t._delegate)}}class o_ extends Bs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Aa(this.firestore,t):null}doc(t){try{return new Aa(this.firestore,void 0===t?mD(this._delegate):mD(this._delegate,t))}catch(e){throw Vs(e,"doc()","CollectionReference.doc()")}}add(t){return function Z3(n,t){const e=nn(n.firestore,ai),i=mD(n),r=CD(n.converter,t);return s_(e,[yD(Dp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Wi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Aa(this.firestore,e))}isEqual(t){return yF(this._delegate,t._delegate)}withConverter(t){return new o_(this.firestore,this._delegate.withConverter(t?xp.getInstance(this.firestore,t):null))}}function Ap(n){return nn(n,Qn)}class $M{constructor(...t){this._delegate=new Cu(...t)}static documentId(){return new $M(Cr.keyField().canonicalString())}isEqual(t){return(t=(0,qt.m9)(t))instanceof Cu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Mp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function X3(){return new PM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Mp(t)}static delete(){const t=function J3(){return new zb("deleteField")}();return t._methodName="FieldValue.delete",new Mp(t)}static arrayUnion(...t){const e=function eG(...n){return new D3("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Mp(e)}static arrayRemove(...t){const e=function tG(...n){return new T3("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Mp(e)}static increment(t){const e=function nG(n){return new I3("increment",n)}(t);return e._methodName="FieldValue.increment",new Mp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const cG={Firestore:qF,GeoPoint:gD,Timestamp:Oi,Blob:Yb,Transaction:WF,WriteBatch:ZF,DocumentReference:Aa,DocumentSnapshot:Kb,Query:Bs,QueryDocumentSnapshot:Qb,QuerySnapshot:GM,CollectionReference:o_,FieldPath:$M,FieldValue:Mp,setLogLevel:function aG(n){!function sU(n){Fd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function dG(n){(function uG(n,t){n.INTERNAL.registerComponent(new bg.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},cG)))})(n,(t,e)=>new qF(t,e,new oG)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Vv.Z);var DD=P(5363),hG=P(6063);class fG extends lt.x{constructor(t=1/0,e=1/0,i=hG.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:u}=this;e||(i.push(t),!r&&i.push(l.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let u=0;u<l.length&&!t.closed;u+=i?1:2)t.next(l[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*t;if(t<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const u=e.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var QF=P(3099);function JF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,QF.B)({connector:()=>new fG(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function XF(n,t){return(0,Bi.m)(t)?xn(()=>n,t):xn(()=>n)}var zM=P(9468);P(5867);const tL=new Map,yG={activated:!1,tokenObservers:[]},vG={initialized:!1,enabled:!1};function Ir(n){return tL.get(n)||yG}function ll(n,t){tL.set(n,t)}function ID(){return vG}class DG{constructor(t,e,i,r,l){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=r,r>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new qt.BH,yield function TG(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new qt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Us=new qt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iL(n){if(!Ir(n).activated)throw Us.create("use-before-activation",{appName:n.name})}function YM(n,t){return KM.apply(this,arguments)}function KM(){return KM=(0,ve.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const l={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,l)}catch(A){throw Us.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw Us.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw Us.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),KM.apply(this,arguments)}function MG(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Jb="firebase-app-check-store";let AD=null;function sL(){return AD||(AD=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Us.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Jb,{keyPath:"compositeKey"})}}catch(e){t(Us.create("storage-open",{originalErrorMessage:e.message}))}}),AD)}function QM(){return QM=(0,ve.Z)(function*(n,t){const i=(yield sL()).transaction(Jb,"readwrite"),l=i.objectStore(Jb).put({compositeKey:n,value:t});return new Promise((u,f)=>{l.onsuccess=_=>{u()},i.onerror=_=>{var b;f(Us.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),QM.apply(this,arguments)}const Xb=new sl.Yd("@firebase/app-check");function cL(n,t){return(0,qt.hl)()?function PG(n,t){return function oL(n,t){return QM.apply(this,arguments)}(function lL(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Xb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function uL(){return ID().enabled}function dL(){return tk.apply(this,arguments)}function tk(){return tk=(0,ve.Z)(function*(){const n=ID();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),tk.apply(this,arguments)}const UG={error:"UNKNOWN_ERROR"};function HG(n){return qt.US.encodeString(JSON.stringify(n),!1)}function MD(n){return nk.apply(this,arguments)}function nk(){return nk=(0,ve.Z)(function*(n,t=!1){const e=n.app;iL(e);const i=Ir(e);let l,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&kD(_)&&(r=_)}if(!t&&r&&kD(r))return{token:r.token};let f,u=!1;if(uL()){i.exchangeTokenPromise||(i.exchangeTokenPromise=YM(MG(e,yield dL()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield cL(e,_),ll(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Xb.warn(_.message):Xb.error(_),l=_}return r?(f={token:r.token},ll(e,Object.assign(Object.assign({},i),{token:r})),yield cL(e,r)):f=GG(l),u&&fL(e,f),f}),nk.apply(this,arguments)}function rk(n,t){const e=Ir(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ll(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function hL(n){const{app:t}=n,e=Ir(t);let i=e.tokenRefresher;i||(i=function jG(n){const{app:t}=n;return new DG((0,ve.Z)(function*(){let i;if(i=Ir(t).token?yield MD(n,!0):yield MD(n),i.error)throw i.error}),()=>!0,()=>{const e=Ir(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ll(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fL(n,t){const e=Ir(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function kD(n){return n.expireTimeMillis-Date.now()>0}function GG(n){return{token:HG(UG),error:n}}class $G{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Ir(this.app);for(const e of t)rk(this.app,e.next);return Promise.resolve()}}const wL="app-check-internal";!function r6(){(0,Kl._registerComponent)(new bg.wA("app-check",n=>function zG(n,t){return new $G(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(wL).initialize()})),(0,Kl._registerComponent)(new bg.wA(wL,n=>function qG(n){return{getToken:t=>MD(n,t),addTokenListener:t=>function ik(n,t,e,i){const{app:r}=n,l=Ir(r),u={next:e,error:i,type:t};if(ll(r,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,u]})),l.token&&kD(l.token)){const f=l.token;Promise.resolve().then(()=>{e({token:f.token}),hL(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>hL(n))}(n,"INTERNAL",t),removeTokenListener:t=>rk(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Kl.registerVersion)("@firebase/app-check","0.5.6")}();class lk{constructor(){return(0,sr.vb)("app-check")}}"undefined"!=typeof window&&window;var c6=P(127);const EL=new a.OlP("angularfire2.auth.use-emulator"),DL=new a.OlP("angularfire2.auth.settings"),TL=new a.OlP("angularfire2.auth.tenant-id"),IL=new a.OlP("angularfire2.auth.langugage-code"),SL=new a.OlP("angularfire2.auth.use-device-language"),xL=new a.OlP("angularfire.auth.persistence"),AL=(n,t,e,i,r,l,u,f)=>(0,_o.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,l&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return f&&_.setPersistence(f),_},[e,i,r,l,u,f]);let ML=(()=>{class n{constructor(e,i,r,l,u,f,_,b,T,A,O,V){const U=new lt.x,ee=et(void 0).pipe((0,DD.Q)(u.outsideAngular),xn(()=>l.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,820)))),(0,wt.U)(()=>(0,_o.on)(e,l,i)),(0,wt.U)(Ee=>AL(Ee,l,f,b,T,A,_,O)),JF({bufferSize:1,refCount:!1}));if(_i(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{ee.pipe(co()).subscribe();const ze=ee.pipe(xn(nt=>nt.getRedirectResult().then(Lt=>Lt,()=>null)),sr.iC,JF({bufferSize:1,refCount:!1})),rt=ee.pipe(xn(nt=>new qn.y(Lt=>({unsubscribe:l.runOutsideAngular(()=>nt.onAuthStateChanged(Gt=>Lt.next(Gt),Gt=>Lt.error(Gt),()=>Lt.complete()))})))),it=ee.pipe(xn(nt=>new qn.y(Lt=>({unsubscribe:l.runOutsideAngular(()=>nt.onIdTokenChanged(Gt=>Lt.next(Gt),Gt=>Lt.error(Gt),()=>Lt.complete()))}))));this.authState=ze.pipe(XF(rt),(0,zM.R)(u.outsideAngular),(0,DD.Q)(u.insideAngular)),this.user=ze.pipe(XF(it),(0,zM.R)(u.outsideAngular),(0,DD.Q)(u.insideAngular)),this.idToken=this.user.pipe(xn(nt=>nt?(0,On.D)(nt.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(xn(nt=>nt?(0,On.D)(nt.getIdTokenResult()):et(null))),this.credential=(0,Yo.T)(ze,U,this.authState.pipe(In(nt=>!nt))).pipe((0,wt.U)(nt=>(null==nt?void 0:nt.user)?nt:null),(0,zM.R)(u.outsideAngular),(0,DD.Q)(u.insideAngular))}return(0,_o.pX)(this,ee,l,{spy:{apply:(Ee,ze,rt)=>{(Ee.startsWith("signIn")||Ee.startsWith("createUser"))&&rt.then(it=>U.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_o.Dh),a.LFG(_o.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sr.HU),a.LFG(EL,8),a.LFG(DL,8),a.LFG(TL,8),a.LFG(IL,8),a.LFG(SL,8),a.LFG(xL,8),a.LFG(lk,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function kL(n,t){return function d6(n,t=ym.z){return new qn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function uk(n,t){return kL(n,t).pipe((0,wt.U)(e=>({payload:e,type:"query"})))}function OD(n,t){return uk(n,t).pipe(Tn(void 0),Lv(),(0,wt.U)(([e,i])=>{const r=i.payload.docChanges(),l=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),l}))}function RL(n,t,e){return OD(n,e).pipe(xi((i,r)=>function f6(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function p6(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return dk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return dk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return dk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(l=>l.payload),t),[]),Ca(),(0,wt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function dk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function OL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class PL{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=OD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,wt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Tn(void 0),Lv(),In(([i,r])=>r.length>0||!i),(0,wt.U)(([i,r])=>r),sr.iC)}auditTrail(t){return this.stateChanges(t).pipe(xi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=OL(t);return RL(this.query,e,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(t={}){return uk(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),sr.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(sr.iC)}add(t){return this.ref.add(t)}doc(t){return new NL(this.ref.doc(t),this.afs)}}class NL{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:l}=VL(i,e);return new PL(r,l,this.afs)}snapshotChanges(){return function h6(n,t){return kL(n,t).pipe(Tn(void 0),Lv(),(0,wt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,On.D)(this.ref.get(t)).pipe(sr.iC)}}class m6{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?OD(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),In(e=>e.length>0),sr.iC):OD(this.query,this.afs.schedulers.outsideAngular).pipe(sr.iC)}auditTrail(t){return this.stateChanges(t).pipe(xi((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=OL(t);return RL(this.query,e,this.afs.schedulers.outsideAngular).pipe(sr.iC)}valueChanges(t={}){return uk(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),sr.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(sr.iC)}}const FL=new a.OlP("angularfire2.enableFirestorePersistence"),LL=new a.OlP("angularfire2.firestore.persistenceSettings"),g6=new a.OlP("angularfire2.firestore.settings"),_6=new a.OlP("angularfire2.firestore.use-emulator");function VL(n,t=(e=>e)){return{query:t(n),ref:n}}let hk=(()=>{class n{constructor(e,i,r,l,u,f,_,b,T,A,O,V,U,ee,Ee,ze,rt){this.schedulers=_;const it=(0,_o.on)(e,f,i),nt=T;A&&AL(it,f,O,U,ee,Ee,V,ze),[this.firestore,this.persistenceEnabled$]=(0,_o.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const Lt=f.runOutsideAngular(()=>it.firestore());if(l&&Lt.settings(l),nt&&Lt.useEmulator(...nt),r&&!_i(u)){const Gt=()=>{try{return(0,On.D)(Lt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(vn){return"undefined"!=typeof console&&console.warn(vn),et(!1)}};return[Lt,f.runOutsideAngular(Gt)]}return[Lt,et(!1)]},[l,nt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:l,query:u}=VL(r,i),f=this.schedulers.ngZone.run(()=>l);return new PL(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),l=this.firestore.collectionGroup(e);return new m6(r(l),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new NL(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_o.Dh),a.LFG(_o.xv,8),a.LFG(FL,8),a.LFG(g6,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(sr.HU),a.LFG(LL,8),a.LFG(_6,8),a.LFG(ML,8),a.LFG(EL,8),a.LFG(DL,8),a.LFG(TL,8),a.LFG(IL,8),a.LFG(SL,8),a.LFG(xL,8),a.LFG(lk,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),y6=(()=>{class n{constructor(){c6.Z.registerVersion("angularfire",sr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:FL,useValue:!0},{provide:LL,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[hk]}),n})();function v6(n,t){1&n&&a._UZ(0,"app-current-game")}let e0=(()=>{class n{constructor(e){this.cdref=e,this.selectedIndex="{}"===localStorage.getItem("playerList")?1:0,this.activate=!1}ngOnInit(){}ngAfterContentChecked(){this.cdref.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-dashboard"]],decls:10,vars:2,consts:[["role","banner",1,"toolbar"],["role","main",1,"content"],["mat-align-tabs","center","primary","",3,"selectedIndex","selectedIndexChange"],["label","Nouvelle partie"],["label","Partie en cours",3,"disabled"],["matTabContent",""],["label","Scores"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a._UZ(1,"app-toolbar"),a.qZA(),a.TgZ(2,"div",1)(3,"mat-tab-group",2),a.NdJ("selectedIndexChange",function(l){return i.selectedIndex=l}),a.TgZ(4,"mat-tab",3),a._UZ(5,"app-new-game"),a.qZA(),a.TgZ(6,"mat-tab",4),a.YNc(7,v6,1,0,"ng-template",5),a.qZA(),a.TgZ(8,"mat-tab",6),a._UZ(9,"app-scores"),a.qZA()()()),2&e&&(a.xp6(3),a.Q6J("selectedIndex",i.selectedIndex),a.xp6(3),a.Q6J("disabled",!i.activate))},styles:[".content[_ngcontent-%COMP%]{margin:82px auto 32px;padding:0 16px;max-width:1260px;flex-direction:column;align-items:center;text-align:center}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#7f1734;color:#fff;font-weight:600}"]}),n})();const b6=["*",[["mat-card-footer"]]],w6=["*","mat-card-footer"];let fk=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gi,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:w6,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(b6),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),C6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ln],ln]}),n})();function BL(...n){const t=(0,jn.jO)(n),{args:e,keys:i}=kr(n),r=new qn.y(l=>{const{length:u}=e;if(!u)return void l.complete();const f=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let A=!1;(0,Es.Xf)(e[T]).subscribe((0,En.x)(l,O=>{A||(A=!0,b--),f[T]=O},()=>_--,void 0,()=>{(!_||!A)&&(b||l.next(i?Mo(i,f):f),l.complete())}))}});return t?r.pipe(Ic(t)):r}let UL=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),kp=(()=>{class n extends UL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Ma=new a.OlP("NgValueAccessor"),D6={provide:Ma,useExisting:(0,a.Gpc)(()=>t0),multi:!0},I6=new a.OlP("CompositionEventMode");let t0=(()=>{class n extends UL{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function T6(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(I6,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[a._Bn([D6]),a.qOj]}),n})();function Kd(n){return null==n||0===n.length}function jL(n){return null!=n&&"number"==typeof n.length}const cs=new a.OlP("NgValidators"),Qd=new a.OlP("NgAsyncValidators"),S6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pk{static min(t){return function GL(n){return t=>{if(Kd(t.value)||Kd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function $L(n){return t=>{if(Kd(t.value)||Kd(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return zL(t)}static requiredTrue(t){return function qL(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function WL(n){return Kd(n.value)||S6.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function ZL(n){return t=>Kd(t.value)||!jL(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function YL(n){return t=>jL(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function KL(n){if(!n)return PD;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Kd(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return n2(t)}static composeAsync(t){return r2(t)}}function zL(n){return Kd(n.value)?{required:!0}:null}function PD(n){return null}function QL(n){return null!=n}function JL(n){const t=(0,a.QGY)(n)?(0,On.D)(n):n;return(0,a.CqO)(t),t}function XL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function e2(n,t){return t.map(e=>e(n))}function t2(n){return n.map(t=>function x6(n){return!n.validate}(t)?t:e=>t.validate(e))}function n2(n){if(!n)return null;const t=n.filter(QL);return 0==t.length?null:function(e){return XL(e2(e,t))}}function mk(n){return null!=n?n2(t2(n)):null}function r2(n){if(!n)return null;const t=n.filter(QL);return 0==t.length?null:function(e){return BL(e2(e,t).map(JL)).pipe((0,wt.U)(XL))}}function gk(n){return null!=n?r2(t2(n)):null}function s2(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function o2(n){return n._rawValidators}function a2(n){return n._rawAsyncValidators}function _k(n){return n?Array.isArray(n)?n:[n]:[]}function ND(n,t){return Array.isArray(n)?n.includes(t):n===t}function l2(n,t){const e=_k(t);return _k(n).forEach(r=>{ND(e,r)||e.push(r)}),e}function c2(n,t){return _k(t).filter(e=>!ND(n,e))}class u2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ic extends u2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hs extends u2{get formDirective(){return null}get path(){return null}}class d2{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let yk=(()=>{class n extends d2{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ic,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[a.qOj]}),n})(),h2=(()=>{class n extends d2{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hs,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[a.qOj]}),n})();function n0(n,t){wk(n,t),t.valueAccessor.writeValue(n.value),function F6(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&p2(n,t)})}(n,t),function V6(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function L6(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&p2(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function N6(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function VD(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),UD(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function BD(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wk(n,t){const e=o2(n);null!==t.validator?n.setValidators(s2(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=a2(n);null!==t.asyncValidator?n.setAsyncValidators(s2(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();BD(t._rawValidators,r),BD(t._rawAsyncValidators,r)}function UD(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=o2(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=a2(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(u=>u!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return BD(t._rawValidators,i),BD(t._rawAsyncValidators,i),e}function p2(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function m2(n,t){wk(n,t)}function Ck(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function _2(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ek(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===t0?e=l:function H6(n){return Object.getPrototypeOf(n.constructor)===kp}(l)?i=l:r=l}),r||i||e||null}function Dk(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const r0="VALID",HD="INVALID",a_="PENDING",s0="DISABLED";function Ik(n){return(jD(n)?n.validators:n)||null}function y2(n){return Array.isArray(n)?mk(n):n||null}function Sk(n,t){return(jD(t)?t.asyncValidators:n)||null}function v2(n){return Array.isArray(n)?gk(n):n||null}function jD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const b2=n=>n instanceof Mk,xk=n=>n instanceof kk;function w2(n){return b2(n)?n.value:n.getRawValue()}function C2(n,t){const e=xk(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[t])throw new a.vHH(1001,"")}function E2(n,t){xk(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new a.vHH(1002,"")})}class Ak{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=y2(this._rawValidators),this._composedAsyncValidatorFn=v2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===r0}get invalid(){return this.status===HD}get pending(){return this.status==a_}get disabled(){return this.status===s0}get enabled(){return this.status!==s0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=y2(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=v2(t)}addValidators(t){this.setValidators(l2(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(l2(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(c2(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(c2(t,this._rawAsyncValidators))}hasValidator(t){return ND(this._rawValidators,t)}hasAsyncValidator(t){return ND(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=a_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=s0,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=r0,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===r0||this.status===a_)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?s0:r0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=a_,this._hasOwnPendingAsyncValidator=!0;const e=JL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function j6(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=xk(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof $6)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?s0:this.errors?HD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(a_)?a_:this._anyControlsHaveStatus(HD)?HD:r0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jD(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mk extends Ak{constructor(t=null,e,i){super(Ik(e),Sk(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jD(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Dk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Dk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class kk extends Ak{constructor(t,e,i){super(Ik(e),Sk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){E2(this,t),Object.keys(t).forEach(i=>{C2(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=w2(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class $6 extends Ak{constructor(t,e,i){super(Ik(e),Sk(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){E2(this,t),t.forEach((i,r)=>{C2(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>w2(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const z6={provide:Hs,useExisting:(0,a.Gpc)(()=>l_)},o0=(()=>Promise.resolve(null))();let l_=(()=>{class n extends Hs{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new kk({},mk(e),gk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){o0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),n0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){o0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){o0.then(()=>{const i=this._findContainer(e.path),r=new kk({});m2(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){o0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){o0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,_2(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(cs,10),a.Y36(Qd,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([z6]),a.qOj]}),n})();const W6={provide:ic,useExisting:(0,a.Gpc)(()=>GD)},I2=(()=>Promise.resolve(null))();let GD=(()=>{class n extends ic{constructor(e,i,r,l,u){super(),this._changeDetectorRef=u,this.control=new Mk,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Ek(0,l)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ck(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){n0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){I2.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;I2.then(()=>{var l;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(e){return this._parent?function LD(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Hs,9),a.Y36(cs,10),a.Y36(Qd,10),a.Y36(Ma,10),a.Y36(a.sBO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([W6]),a.qOj,a.TTD]}),n})(),S2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),A2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Rk=new a.OlP("NgModelWithFormControlWarning"),J6={provide:ic,useExisting:(0,a.Gpc)(()=>Ok)};let Ok=(()=>{class n extends ic{constructor(e,i,r,l){super(),this._ngModelWarningConfig=l,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Ek(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&VD(i,this,!1),n0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ck(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&VD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(cs,10),a.Y36(Qd,10),a.Y36(Ma,10),a.Y36(Rk,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([J6]),a.qOj,a.TTD]}),n})();const X6={provide:Hs,useExisting:(0,a.Gpc)(()=>a0)};let a0=(()=>{class n extends Hs{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(UD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return n0(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){VD(e.control||null,e,!1),Dk(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,_2(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(VD(i||null,e),b2(r)&&(n0(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);m2(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function B6(n,t){return UD(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wk(this.form,this),this._oldForm&&UD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(cs,10),a.Y36(Qd,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([X6]),a.qOj,a.TTD]}),n})(),Rp=(()=>{class n{constructor(){this._validator=PD}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):PD,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const h$={provide:cs,useExisting:(0,a.Gpc)(()=>$D),multi:!0};let $D=(()=>{class n extends Rp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function c$(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>zL}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([h$]),a.qOj]}),n})(),z2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[A2]]}),n})(),y$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[z2]}),n})(),v$=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Rk,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[z2]}),n})();const b$=["connectionContainer"],w$=["inputContainer"],C$=["label"];function E$(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function D$(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function T$(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function I$(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function S$(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function x$(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.YNc(2,T$,4,1,"ng-container",12),a.YNc(3,I$,1,0,"ng-content",12),a.YNc(4,S$,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function A$(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function M$(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function k$(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function R$(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function O$(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,R$,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const P$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],N$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],F$=new a.OlP("MatError"),L$={transitionMessages:ru("transitionMessages",[ns("enter",si({opacity:1,transform:"translateY(0%)"})),Go("void => enter",[si({opacity:0,transform:"translateY(-5px)"}),Da("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})();const V$=new a.OlP("MatHint");let Vk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),B$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const U$=new a.OlP("MatPrefix"),q2=new a.OlP("MatSuffix");let H$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:q2,useExisting:n}])]}),n})(),W2=0;const G$=Ad(class{constructor(n){this._elementRef=n}},"primary"),$$=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bk=new a.OlP("MatFormField");let Y2=(()=>{class n extends G${constructor(e,i,r,l,u,f,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=l,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new lt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+W2++,this._labelId="mat-form-field-label-"+W2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=l&&l.appearance?l.appearance:"legacy",this._hideRequiredMarker=!(!l||null==l.hideRequiredMarker)&&l.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=zt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Tn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(bn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(bn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Yo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Tn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Tn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(bn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ul(this._label.nativeElement,"transitionend").pipe((0,Pn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",l=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const T=i.querySelectorAll(`${r}, ${l}`);for(let A=0;A<T.length;A++)T[A].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(l);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const A=this._getStartEnd(T),O=e.children,V=this._getStartEnd(O[0].getBoundingClientRect());let U=0;for(let ee=0;ee<O.length;ee++)U+=O[ee].offsetWidth;u=Math.abs(V-A)-5,f=U>0?.75*U+10:0}for(let T=0;T<_.length;T++)_[T].style.width=`${u}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ft,8),a.Y36($$,8),a.Y36(vi),a.Y36(a.R0b),a.Y36(Gi,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,zD,5),a.Suo(r,zD,7),a.Suo(r,Vk,5),a.Suo(r,Vk,7),a.Suo(r,B$,5),a.Suo(r,F$,5),a.Suo(r,V$,5),a.Suo(r,U$,5),a.Suo(r,q2,5)),2&e){let l;a.iGM(l=a.CRH())&&(i._controlNonStatic=l.first),a.iGM(l=a.CRH())&&(i._controlStatic=l.first),a.iGM(l=a.CRH())&&(i._labelChildNonStatic=l.first),a.iGM(l=a.CRH())&&(i._labelChildStatic=l.first),a.iGM(l=a.CRH())&&(i._placeholderChild=l.first),a.iGM(l=a.CRH())&&(i._errorChildren=l),a.iGM(l=a.CRH())&&(i._hintChildren=l),a.iGM(l=a.CRH())&&(i._prefixChildren=l),a.iGM(l=a.CRH())&&(i._suffixChildren=l)}},viewQuery:function(e,i){if(1&e&&(a.Gf(b$,7),a.Gf(w$,5),a.Gf(C$,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:Bk,useExisting:n}]),a.qOj],ngContentSelectors:N$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(P$),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(l){return i._control.onContainerClick&&i._control.onContainerClick(l)}),a.YNc(3,E$,9,0,"ng-container",3),a.YNc(4,D$,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,x$,5,16,"label",8),a.qZA()(),a.YNc(10,A$,2,0,"div",9),a.qZA(),a.YNc(11,M$,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,k$,2,1,"div",12),a.YNc(14,O$,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[Un,wy,Ji,Li],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[L$.transitionMessages]},changeDetection:0}),n})(),qD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tr,ln,Ed],ln]}),n})();const K2=Xc({passive:!0});let z$=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return lo.E;const i=_a(e),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new lt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>l.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,K2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",f,K2)}}),l}stopMonitoring(e){const i=_a(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(vi),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const q$=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),W$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Z$=0;const Y$=cv(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let J2=(()=>{class n extends Y${constructor(e,i,r,l,u,f,_,b,T,A){super(f,l,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=A,this._uid="mat-input-"+Z$++,this.focused=!1,this.stateChanges=new lt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>mm().has(U)),this._iOSKeyupListener=U=>{const ee=U.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,V=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===V,this._isTextarea="textarea"===V,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=zt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(pk.required))&&void 0!==l&&l}set required(e){this._required=zt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&mm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=zt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const l=this._elementRef.nativeElement;this._previousPlaceholder=r,r?l.setAttribute("placeholder",r):l.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){W$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(vi),a.Y36(ic,10),a.Y36(l_,8),a.Y36(a0,8),a.Y36(uv),a.Y36(q$,10),a.Y36(z$),a.Y36(a.R0b),a.Y36(Bk,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:zD,useExisting:n}]),a.qOj,a.TTD]}),n})(),K$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[uv],imports:[[Q2,qD,ln],Q2,qD]}),n})();const Q$=["mat-button",""],J$=["*"],ez=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],tz=Ad(Ta(Zl(class{constructor(n){this._elementRef=n}})));let Uk=(()=>{class n extends tz{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of ez)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(iu),a.Y36(Gi,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(uu,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:Q$,ngContentSelectors:J$,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[uu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),nz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[pv,ln],ln]}),n})();class X2{}class eV{}class Du{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),l=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(u):this.headers.set(l,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Du?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Du;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Du?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const l=t.value;if(l){let u=this.headers.get(e);if(!u)return;u=u.filter(f=>-1===l.indexOf(f)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class iz{encodeKey(t){return tV(t)}encodeValue(t){return tV(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const sz=/%(\d[a-f0-9])/gi,oz={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tV(n){return encodeURIComponent(n).replace(sz,(t,e)=>{var i;return null!==(i=oz[e])&&void 0!==i?i:t})}function nV(n){return`${n}`}class Jd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new iz,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rz(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[u,f]=-1==l?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,l)),t.decodeValue(r.slice(l+1))],_=e.get(u)||[];_.push(f),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Jd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(nV(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(nV(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class az{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function rV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function sV(n){return"undefined"!=typeof FormData&&n instanceof FormData}class l0{constructor(t,e,i,r){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function lz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Du),this.context||(this.context=new az),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+u}}else this.params=new Jd,this.urlWithParams=e}serializeBody(){return null===this.body?null:iV(this.body)||rV(this.body)||sV(this.body)||function cz(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Jd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sV(this.body)?null:rV(this.body)?this.body.type||null:iV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Jd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,l=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,T=t.params||this.params;const A=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((O,V)=>O.set(V,t.setHeaders[V]),b)),t.setParams&&(T=Object.keys(t.setParams).reduce((O,V)=>O.set(V,t.setParams[V]),T)),new l0(i,r,u,{params:T,headers:b,context:A,reportProgress:_,responseType:l,withCredentials:f})}}var Ki=(()=>((Ki=Ki||{})[Ki.Sent=0]="Sent",Ki[Ki.UploadProgress=1]="UploadProgress",Ki[Ki.ResponseHeader=2]="ResponseHeader",Ki[Ki.DownloadProgress=3]="DownloadProgress",Ki[Ki.Response=4]="Response",Ki[Ki.User=5]="User",Ki))();class Hk{constructor(t,e=200,i="OK"){this.headers=t.headers||new Du,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jk extends Hk{constructor(t={}){super(t),this.type=Ki.ResponseHeader}clone(t={}){return new jk({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class WD extends Hk{constructor(t={}){super(t),this.type=Ki.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new WD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class oV extends Hk{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Gk(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let $k=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let l;if(e instanceof l0)l=e;else{let _,b;_=r.headers instanceof Du?r.headers:new Du(r.headers),r.params&&(b=r.params instanceof Jd?r.params:new Jd({fromObject:r.params})),l=new l0(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=et(l).pipe(Ds(_=>this.handler.handle(_)));if(e instanceof l0||"events"===r.observe)return u;const f=u.pipe(In(_=>_ instanceof WD));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,wt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,wt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,wt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,wt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Jd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Gk(r,i))}post(e,i,r={}){return this.request("POST",e,Gk(r,i))}put(e,i,r={}){return this.request("PUT",e,Gk(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(X2))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class aV{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const lV=new a.OlP("HTTP_INTERCEPTORS");let uz=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const dz=/^\)\]\}',?\n/;let cV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((V,U)=>r.setRequestHeader(V,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const V=e.detectContentTypeHeader();null!==V&&r.setRequestHeader("Content-Type",V)}if(e.responseType){const V=e.responseType.toLowerCase();r.responseType="json"!==V?V:"text"}const l=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const V=r.statusText||"OK",U=new Du(r.getAllResponseHeaders()),ee=function hz(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new jk({headers:U,status:r.status,statusText:V,url:ee}),u},_=()=>{let{headers:V,status:U,statusText:ee,url:Ee}=f(),ze=null;204!==U&&(ze=void 0===r.response?r.responseText:r.response),0===U&&(U=ze?200:0);let rt=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof ze){const it=ze;ze=ze.replace(dz,"");try{ze=""!==ze?JSON.parse(ze):null}catch(nt){ze=it,rt&&(rt=!1,ze={error:nt,text:ze})}}rt?(i.next(new WD({body:ze,headers:V,status:U,statusText:ee,url:Ee||void 0})),i.complete()):i.error(new oV({error:ze,headers:V,status:U,statusText:ee,url:Ee||void 0}))},b=V=>{const{url:U}=f(),ee=new oV({error:V,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(ee)};let T=!1;const A=V=>{T||(i.next(f()),T=!0);let U={type:Ki.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},O=V=>{let U={type:Ki.UploadProgress,loaded:V.loaded};V.lengthComputable&&(U.total=V.total),i.next(U)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",A),null!==l&&r.upload&&r.upload.addEventListener("progress",O)),r.send(l),i.next({type:Ki.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",A),null!==l&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(gn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const zk=new a.OlP("XSRF_COOKIE_NAME"),qk=new a.OlP("XSRF_HEADER_NAME");class uV{}let fz=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Co(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Q),a.LFG(a.Lbi),a.LFG(zk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Wk=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const l=this.tokenService.getToken();return null!==l&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,l)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(uV),a.LFG(qk))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),pz=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(lV,[]);this.chain=i.reduceRight((r,l)=>new aV(r,l),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(eV),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),mz=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Wk,useClass:uz}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:zk,useValue:e.cookieName}:[],e.headerName?{provide:qk,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Wk,{provide:lV,useExisting:Wk,multi:!0},{provide:uV,useClass:fz},{provide:zk,useValue:"XSRF-TOKEN"},{provide:qk,useValue:"X-XSRF-TOKEN"}]}),n})(),gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[$k,{provide:X2,useClass:pz},cV,{provide:eV,useExisting:cV}],imports:[[mz.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const _z=["*"];let ZD;function c0(n){var t;return(null===(t=function yz(){if(void 0===ZD&&(ZD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ZD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ZD}())||void 0===t?void 0:t.createHTML(n))||n}function dV(n){return Error(`Unable to find icon with the name "${n}"`)}function hV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function fV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Op{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let YD=(()=>{class n{constructor(e,i,r,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,l){return this._addSvgIconConfig(e,i,new Op(r,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,l){const u=this._sanitizer.sanitize(a.q3G.HTML,r);if(!u)throw fV(r);const f=c0(u);return this._addSvgIconConfig(e,i,new Op("",f,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Op(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const l=this._sanitizer.sanitize(a.q3G.HTML,i);if(!l)throw fV(i);const u=c0(l);return this._addSvgIconSetConfig(e,new Op("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw hV(e);const r=this._cachedIconsByUrl.get(i);return r?et(KD(r)):this._loadSvgIconFromConfig(new Op(e,null)).pipe((0,di.b)(l=>this._cachedIconsByUrl.set(i,l)),(0,wt.U)(l=>KD(l)))}getNamedSvgIcon(e,i=""){const r=pV(i,e);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):Rr(dV(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?et(KD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,wt.U)(i=>KD(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?et(r):BL(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Pr(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),et(null)})))).pipe((0,wt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw dV(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(u,e,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,di.b)(i=>e.svgText=i),(0,wt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?et(null):this._fetchIcon(e).pipe((0,di.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const u=l.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(c0("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(c0("<svg></svg>")),r=e.attributes;for(let l=0;l<r.length;l++){const{name:u,value:f}=r[l];"id"!==u&&i.setAttribute(u,f)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:l}=e,u=null!==(i=null==l?void 0:l.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function vz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,r);if(!f)throw hV(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,wt.U)(T=>c0(T)),sh(()=>this._inProgressUrlFetches.delete(f)),(0,QF.B)());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(pV(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,e);if(l)return wz(l)?new Op(l.url,null,l.options):new Op(l,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG($k,8),a.LFG(Zr),a.LFG(Q,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KD(n){return n.cloneNode(!0)}function pV(n,t){return n+":"+t}function wz(n){return!(!n.url||!n.options)}const Cz=Ad(class{constructor(n){this._elementRef=n}}),Ez=new a.OlP("mat-icon-location",{providedIn:"root",factory:function Dz(){const n=(0,a.f3M)(Q),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),mV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Tz=mV.map(n=>`[${n}]`).join(", "),Iz=/^url\(['"]?#(.*?)['"]?\)$/;let gV=(()=>{class n extends Cz{constructor(e,i,r,l,u){super(e),this._iconRegistry=i,this._location=l,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Sn.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=zt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(u=>{l.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Tz),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)mV.forEach(u=>{const f=i[l],_=f.getAttribute(u),b=_?_.match(Iz):null;if(b){let T=r.get(f);T||(T=[],r.set(f,T)),T.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Pn.q)(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(YD),a.$8M("aria-hidden"),a.Y36(Ez),a.Y36(a.qLn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:_z,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Sz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ln],ln]}),n})();const _V=["*"];class Az{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Mz(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class Mz{constructor(t,e){this.row=t,this.col=e}}const yV=new a.OlP("MAT_GRID_LIST");let Zk=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(ts(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(ts(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(yV,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&a.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:_V,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})();const kz=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class Yk{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=vV(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Pp(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,l=(this._cols-1)/this._cols;this.setColStyles(t,i,r,l),this.setRowStyles(t,e,r,l)}setColStyles(t,e,i,r){let l=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(l,e)),t._setStyle("width",Pp(this.getTileSize(l,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Rz extends Yk{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=vV(this.fixedRowHeight),kz.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Pp(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Pp(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Oz extends Yk{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Pp(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Pp(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Pz extends Yk{setRowStyles(t,e){let l=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(l,e)),t._setStyle("height",Pp(this.getTileSize(l,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Pp(n){return`calc(${n})`}function vV(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let bV=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(ts(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Pz:e&&e.indexOf(":")>-1?new Oz(e):new Rz(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Az);const e=this._tileCoordinator,i=this._tiles.filter(l=>!l._gridList||l._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((l,u)=>{const f=e.positions[u];this._tileStyler.setStyle(l,f.row,f.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ft,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,Zk,5),2&e){let l;a.iGM(l=a.CRH())&&(i._tiles=l)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[a._Bn([{provide:yV,useExisting:n}])],ngContentSelectors:_V,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div"),a.Hsn(1),a.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})(),Fz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ag,ln],ag,ln]}),n})(),Lz=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=zt(e)}get inset(){return this._inset}set inset(e){this._inset=zt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),a.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ln],ln]}),n})();const CV=["*"],Vz=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Bz=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],$z=Ta(Zl(class{})),zz=Zl(class{}),DV=new a.OlP("MatList"),qz=new a.OlP("MatNavList");let Wz=(()=>{class n extends $z{constructor(e){super(),this._elementRef=e,this._stateChanges=new lt.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[a._Bn([{provide:DV,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:CV,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Zz=(()=>{class n extends zz{constructor(e,i,r,l){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new lt.x,this._disabled=!1,this._isInteractiveList=!!(r||l&&"action-list"===l._getListType()),this._list=r||l;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(bn(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=zt(e)}ngAfterContentInit(){!function Md(n,t,e="mat"){n.changes.pipe(Tn(n)).subscribe(({length:i})=>{Ff(t,`${e}-2-line`,!1),Ff(t,`${e}-3-line`,!1),Ff(t,`${e}-multi-line`,!1),2===i||3===i?Ff(t,`${e}-${i}-line`,!0):i>3&&Ff(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(qz,8),a.Y36(DV,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,TV,5),a.Suo(r,IV,5),a.Suo(r,Nf,5)),2&e){let l;a.iGM(l=a.CRH())&&(i._avatar=l.first),a.iGM(l=a.CRH())&&(i._icon=l.first),a.iGM(l=a.CRH())&&(i._lines=l)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&a.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[a.qOj],ngContentSelectors:Bz,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(a.F$t(Vz),a.TgZ(0,"span",0),a._UZ(1,"span",1),a.Hsn(2),a.TgZ(3,"span",2),a.Hsn(4,1),a.qZA(),a.Hsn(5,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[uu],encapsulation:2,changeDetection:0}),n})(),eq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[ag,pv,ln,Vf,tr],ag,ln,Vf,wV]}),n})();function tq(n,t){if(1&n&&(a.TgZ(0,"th",19)(1,"div"),a._uU(2),a.qZA()()),2&n){const e=a.oxw().$implicit;a.xp6(2),a.Oqu(e.header)}}function nq(n,t){if(1&n&&(a.TgZ(0,"td",20)(1,"div"),a._uU(2),a.qZA()()),2&n){const e=t.$implicit,i=a.oxw().$implicit;a.xp6(2),a.Oqu(i.cell(e))}}function iq(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.footer()," ")}}function rq(n,t){1&n&&(a.ynx(0,16),a.YNc(1,tq,3,1,"th",17),a.YNc(2,nq,3,1,"td",18),a.YNc(3,iq,2,1,"td",4),a.BQk()),2&n&&a.Q6J("matColumnDef",t.$implicit.columnDef)}function sq(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.rounds.length+1," ")}}function oq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",25),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).player1Value=""}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function aq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",21)(1,"form")(2,"mat-form-field",22)(3,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().player1Value=r}),a.qZA(),a.YNc(4,oq,3,0,"button",24),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(3),a.Q6J("ngModel",e.player1Value),a.xp6(1),a.Q6J("ngIf",e.player1Value)}}function lq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",25),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).player2Value=""}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function cq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",21)(1,"form")(2,"mat-form-field",22)(3,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().player2Value=r}),a.qZA(),a.YNc(4,lq,3,0,"button",24),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(3),a.Q6J("ngModel",e.player2Value),a.xp6(1),a.Q6J("ngIf",e.player2Value)}}function uq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",25),a.NdJ("click",function(){return a.CHM(e),a.oxw(3).player3Value=""}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function dq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",21)(1,"form")(2,"mat-form-field",22)(3,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw(2).player3Value=r}),a.qZA(),a.YNc(4,uq,3,0,"button",24),a.qZA()()()}if(2&n){const e=a.oxw(2);a.xp6(3),a.Q6J("ngModel",e.player3Value),a.xp6(1),a.Q6J("ngIf",e.player3Value)}}function hq(n,t){1&n&&(a.ynx(0,26),a.YNc(1,dq,5,2,"td",4),a.BQk())}function fq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",25),a.NdJ("click",function(){return a.CHM(e),a.oxw(3).player4Value=""}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function pq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",21)(1,"form")(2,"mat-form-field",22)(3,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw(2).player4Value=r}),a.qZA(),a.YNc(4,fq,3,0,"button",24),a.qZA()()()}if(2&n){const e=a.oxw(2);a.xp6(3),a.Q6J("ngModel",e.player4Value),a.xp6(1),a.Q6J("ngIf",e.player4Value)}}function mq(n,t){1&n&&(a.ynx(0,27),a.YNc(1,pq,5,2,"td",4),a.BQk())}function gq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",25),a.NdJ("click",function(){return a.CHM(e),a.oxw(3).player5Value=""}),a.TgZ(1,"mat-icon"),a._uU(2,"close"),a.qZA()()}}function _q(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",21)(1,"form")(2,"mat-form-field",22)(3,"input",23),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw(2).player5Value=r}),a.qZA(),a.YNc(4,gq,3,0,"button",24),a.qZA()()()}if(2&n){const e=a.oxw(2);a.xp6(3),a.Q6J("ngModel",e.player5Value),a.xp6(1),a.Q6J("ngIf",e.player5Value)}}function yq(n,t){1&n&&(a.ynx(0,28),a.YNc(1,_q,5,2,"td",4),a.BQk())}function vq(n,t){1&n&&a._UZ(0,"tr",29)}function bq(n,t){1&n&&a._UZ(0,"tr",30)}function wq(n,t){1&n&&a._UZ(0,"tr",31)}function Cq(n,t){1&n&&a._UZ(0,"tr",31)}function Eq(n,t){1&n&&a._UZ(0,"mat-divider")}function Dq(n,t){if(1&n&&(a.TgZ(0,"mat-list-item"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.data.player3.name," ")}}function Tq(n,t){1&n&&a._UZ(0,"mat-divider")}function Iq(n,t){if(1&n&&(a.TgZ(0,"mat-list-item"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.data.player4.name," ")}}function Sq(n,t){1&n&&a._UZ(0,"mat-divider")}function xq(n,t){if(1&n&&(a.TgZ(0,"mat-list-item"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.data.player5.name," ")}}function Aq(n,t){1&n&&a._UZ(0,"mat-divider")}function Mq(n,t){if(1&n&&(a.TgZ(0,"mat-list-item"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.data.player3.score," ")}}function kq(n,t){1&n&&a._UZ(0,"mat-divider")}function Rq(n,t){if(1&n&&(a.TgZ(0,"mat-list-item"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.data.player4.score," ")}}function Oq(n,t){1&n&&a._UZ(0,"mat-divider")}function Pq(n,t){if(1&n&&(a.TgZ(0,"mat-list-item"),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij(" ",e.data.player5.score," ")}}let xV=(()=>{class n{constructor(e,i,r){this.dialog=e,this.store=i,this.dashboardComponent=r,this.player1Value="",this.player2Value="",this.player3Value="",this.player4Value="",this.player5Value="",this.rounds=[];const l=JSON.parse(localStorage.getItem("playerList")||"{}");void 0===l.player1||""===l.player1?(this.dashboardComponent.selectedIndex=0,this.dashboardComponent.activate=!1):(this.dashboardComponent.selectedIndex=1,this.dashboardComponent.activate=!0),this.players=l,this.nbPlayers=l.nbPlayers,localStorage.setItem("playerList",JSON.stringify(this.players)),this.rounds=JSON.parse(localStorage.getItem("roundList")||"[]"),this.columns=this.setColumns(),this.displayedColumns=this.columns.map(u=>u.columnDef),this.displayedFormColumns=this.columns.map(u=>u.formDef)}ngOnInit(){}newGame(e){e||window.confirm("Cr\xe9er une nouvelle partie ? \nCette action supprimera la partie en cours.")&&(localStorage.clear(),this.dashboardComponent.selectedIndex=0,this.dashboardComponent.activate=!1)}getTotal(e){if(0===this.rounds.length||e>this.nbPlayers)return null;switch(e){case 1:return this.rounds.map(f=>f.player1).reduce((f,_)=>f+_,0);case 2:let i=0;return this.rounds.forEach(f=>{f.player2&&(i+=f.player2)}),i;case 3:let r=0;return this.rounds.forEach(f=>{f.player3&&(r+=f.player3)}),r;case 4:let l=0;return this.rounds.forEach(f=>{f.player4&&(l+=f.player4)}),l;case 5:let u=0;return this.rounds.forEach(f=>{f.player5&&(u+=f.player5)}),u;default:return 0}}setColumns(){const e=[];return[{columnDef:"round",formDef:"newRound",header:"Round",cell:r=>`${r.round_id}`,footer:()=>"Total"},{columnDef:"player1",formDef:"player1Form",header:this.players.player1,cell:r=>`${r.player1}`,footer:()=>this.getTotal(1)},{columnDef:"player2",formDef:"player2Form",header:this.players.player2,cell:r=>`${r.player2}`,footer:()=>this.getTotal(2)},{columnDef:"player3",formDef:"player3Form",header:this.players.player3,cell:r=>`${r.player3}`,footer:()=>this.getTotal(3)},{columnDef:"player4",formDef:"player4Form",header:this.players.player4,cell:r=>`${r.player4}`,footer:()=>this.getTotal(4)},{columnDef:"player5",formDef:"player5Form",header:this.players.player5,cell:r=>`${r.player5}`,footer:()=>this.getTotal(5)}].forEach((r,l)=>{l<this.nbPlayers+1&&e.push(r)}),e}correctInputFormat(){switch(this.nbPlayers){case 2:return this.scorePlayer1&&this.scorePlayer2;case 3:return this.scorePlayer1&&this.scorePlayer2&&this.scorePlayer3;case 4:return this.scorePlayer1&&this.scorePlayer2&&this.scorePlayer3&&this.scorePlayer4;case 5:return this.scorePlayer1&&this.scorePlayer2&&this.scorePlayer3&&this.scorePlayer4&&this.scorePlayer5;default:return!1}}addRound(){this.scorePlayer1=parseInt(this.player1Value),this.scorePlayer2=parseInt(this.player2Value),this.scorePlayer3=parseInt(this.player3Value),this.scorePlayer4=parseInt(this.player4Value),this.scorePlayer5=parseInt(this.player5Value),this.correctInputFormat()&&this.dialog.open(Nq,{width:"500px",data:{player1:this.nbPlayers>=1?{name:this.players.player1,score:this.scorePlayer1}:null,player2:this.nbPlayers>=2?{name:this.players.player2,score:this.scorePlayer2}:null,player3:this.nbPlayers>=3?{name:this.players.player3,score:this.scorePlayer3}:null,player4:this.nbPlayers>=4?{name:this.players.player4,score:this.scorePlayer4}:null,player5:this.nbPlayers>=5?{name:this.players.player5,score:this.scorePlayer5}:null}}).afterClosed().subscribe(_=>{_&&(this.rounds.push({round_id:this.rounds.length+1,player1:this.scorePlayer1,player2:this.scorePlayer2,player3:this.scorePlayer3,player4:this.scorePlayer4,player5:this.scorePlayer5}),localStorage.setItem("roundList",JSON.stringify(this.rounds)),this.columns=this.setColumns(),this.table.renderRows(),this.player1Value="",this.player2Value="",this.player3Value="",this.player4Value="",this.player5Value="")})}saveGame(){var e=this;return(0,ve.Z)(function*(){if(window.confirm("Enregistrer la partie ? \nCette action est irr\xe9versible.")){let i=[];switch(e.players.nbPlayers){case 2:i=[e.players.player1,e.players.player2];break;case 3:i=[e.players.player1,e.players.player2,e.players.player3];break;case 4:i=[e.players.player1,e.players.player2,e.players.player3,e.players.player4];break;case 5:i=[e.players.player1,e.players.player2,e.players.player3,e.players.player4,e.players.player5]}const r=e.computeTotal(),l={players:i,nbPlayers:e.players.nbPlayers,nbRounds:e.rounds.length,rounds:e.rounds,total:r,winner:e.computeWinner(r)};e.store.collection("games").add(l),e.newGame(!0)}})()}computeTotal(){let e=[];for(let i=0;i<this.nbPlayers;i++){const r=this.getTotal(i+1)||0;e.push(r)}return e}computeWinner(e){switch(e.indexOf(Math.min(...e))){case 0:return this.players.player1;case 1:return this.players.player2;case 2:return this.players.player3;case 3:return this.players.player4;case 4:return this.players.player5;default:return""}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(vg),a.Y36(hk),a.Y36(e0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-current-game"]],viewQuery:function(e,i){if(1&e&&a.Gf(Bf,5),2&e){let r;a.iGM(r=a.CRH())&&(i.table=r.first)}},decls:28,vars:10,consts:[[1,"example-container","mat-elevation-z8"],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","newRound"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","player1Form"],["matColumnDef","player2Form"],["matColumnDef","player3Form",4,"ngIf"],["matColumnDef","player4Form",4,"ngIf"],["matColumnDef","player5Form",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["cols","3","rowHeight","100px"],["mat-raised-button","",1,"newRoundButton",3,"click"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["appearance","outline",1,"formNewRound"],["matInput","","type","text","name","first",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matColumnDef","player3Form"],["matColumnDef","player4Form"],["matColumnDef","player5Form"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,i){1&e&&(a.TgZ(0,"mat-card",0)(1,"table",1),a.YNc(2,rq,4,1,"ng-container",2),a.ynx(3,3),a.YNc(4,sq,2,1,"td",4),a.BQk(),a.ynx(5,5),a.YNc(6,aq,5,2,"td",4),a.BQk(),a.ynx(7,6),a.YNc(8,cq,5,2,"td",4),a.BQk(),a.YNc(9,hq,2,0,"ng-container",7),a.YNc(10,mq,2,0,"ng-container",8),a.YNc(11,yq,2,0,"ng-container",9),a.YNc(12,vq,1,0,"tr",10),a.YNc(13,bq,1,0,"tr",11),a.YNc(14,wq,1,0,"tr",12),a.YNc(15,Cq,1,0,"tr",13),a.qZA(),a.TgZ(16,"mat-grid-list",14)(17,"mat-grid-tile")(18,"button",15),a.NdJ("click",function(){return i.addRound()}),a._uU(19,"Ajouter la manche"),a.qZA()(),a.TgZ(20,"mat-grid-tile")(21,"button",15),a.NdJ("click",function(){return i.saveGame()}),a._uU(22,"Sauvegarder"),a.qZA()(),a.TgZ(23,"mat-grid-tile")(24,"button",15),a.NdJ("click",function(){return i.newGame(!1)}),a.TgZ(25,"mat-icon"),a._uU(26,"gesture"),a.qZA(),a._uU(27," Nouvelle Partie"),a.qZA()()()()),2&e&&(a.xp6(1),a.Q6J("dataSource",i.rounds),a.xp6(1),a.Q6J("ngForOf",i.columns),a.xp6(7),a.Q6J("ngIf",i.nbPlayers>=3),a.xp6(1),a.Q6J("ngIf",i.nbPlayers>=4),a.xp6(1),a.Q6J("ngIf",i.nbPlayers>=5),a.xp6(1),a.Q6J("matHeaderRowDef",i.displayedColumns),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns),a.xp6(1),a.Q6J("matFooterRowDef",i.displayedFormColumns),a.xp6(1),a.Q6J("matFooterRowDef",i.displayedColumns)("matFooterRowDefSticky",!0))},directives:[fk,Bf,ei,ug,rl,wv,$i,dg,bv,du,S2,h2,l_,Y2,J2,t0,yk,GD,Un,Uk,H$,gV,Uf,Ev,hg,Hf,Cv,Dv,bV,Zk],styles:[".newRoundButton[_ngcontent-%COMP%]{color:#fff;background-color:#7f1734;margin-top:20px}span[_ngcontent-%COMP%]{font-size:xx-large}.example-container[_ngcontent-%COMP%]{height:570px;width:100%;overflow:auto}table[_ngcontent-%COMP%]{width:100%;border-left:1px solid;border-top:1px solid;border-bottom:1px solid}tr.mat-footer-row[_ngcontent-%COMP%]{font-weight:700}.mat-footer-cell[_ngcontent-%COMP%]{border-right:1px solid}.mat-header-cell[_ngcontent-%COMP%]{background-color:#7f1734;color:#fff;font-weight:700;font-size:large;align-items:center;text-align:center}.mat-table-sticky[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0}.mat-column-player1[_ngcontent-%COMP%], .mat-column-player2[_ngcontent-%COMP%], .mat-column-player3[_ngcontent-%COMP%], .mat-column-player4[_ngcontent-%COMP%], .mat-column-player5[_ngcontent-%COMP%]{width:18%;align-items:center;text-align:center;border-right:1px solid}.mat-column-round[_ngcontent-%COMP%]{width:10%;border-right:1px solid currentColor;text-align:center;align-items:center}.formNewRound[_ngcontent-%COMP%]{padding-top:10px;width:200px}.mat-card[_ngcontent-%COMP%]{width:auto}"]}),n})(),Nq=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(_g),a.Y36(iE))},n.\u0275cmp=a.Xpm({type:n,selectors:[["addRoundValidate"]],decls:36,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["cols","2","rowHeight","1:1"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,i){1&e&&(a.TgZ(0,"h1",0),a._uU(1,"Scores"),a.qZA(),a.TgZ(2,"div",1)(3,"mat-card")(4,"mat-grid-list",2)(5,"mat-grid-tile")(6,"mat-list")(7,"mat-list-item"),a._uU(8),a.qZA(),a._UZ(9,"mat-divider"),a.TgZ(10,"mat-list-item"),a._uU(11),a.qZA(),a.YNc(12,Eq,1,0,"mat-divider",3),a.YNc(13,Dq,2,1,"mat-list-item",3),a.YNc(14,Tq,1,0,"mat-divider",3),a.YNc(15,Iq,2,1,"mat-list-item",3),a.YNc(16,Sq,1,0,"mat-divider",3),a.YNc(17,xq,2,1,"mat-list-item",3),a.qZA()(),a.TgZ(18,"mat-grid-tile")(19,"mat-list")(20,"mat-list-item"),a._uU(21),a.qZA(),a._UZ(22,"mat-divider"),a.TgZ(23,"mat-list-item"),a._uU(24),a.qZA(),a.YNc(25,Aq,1,0,"mat-divider",3),a.YNc(26,Mq,2,1,"mat-list-item",3),a.YNc(27,kq,1,0,"mat-divider",3),a.YNc(28,Rq,2,1,"mat-list-item",3),a.YNc(29,Oq,1,0,"mat-divider",3),a.YNc(30,Pq,2,1,"mat-list-item",3),a.qZA()()()()(),a.TgZ(31,"div",4)(32,"button",5),a._uU(33,"Annuler"),a.qZA(),a.TgZ(34,"button",6),a._uU(35,"Valider"),a.qZA()()),2&e&&(a.xp6(8),a.hij(" ",i.data.player1.name," "),a.xp6(3),a.hij(" ",i.data.player2.name," "),a.xp6(1),a.Q6J("ngIf",i.data.player3),a.xp6(1),a.Q6J("ngIf",i.data.player3),a.xp6(1),a.Q6J("ngIf",i.data.player4),a.xp6(1),a.Q6J("ngIf",i.data.player4),a.xp6(1),a.Q6J("ngIf",i.data.player5),a.xp6(1),a.Q6J("ngIf",i.data.player5),a.xp6(4),a.hij(" ",i.data.player1.score," "),a.xp6(3),a.hij(" ",i.data.player2.score," "),a.xp6(1),a.Q6J("ngIf",i.data.player3),a.xp6(1),a.Q6J("ngIf",i.data.player3),a.xp6(1),a.Q6J("ngIf",i.data.player4),a.xp6(1),a.Q6J("ngIf",i.data.player4),a.xp6(1),a.Q6J("ngIf",i.data.player5),a.xp6(1),a.Q6J("ngIf",i.data.player5),a.xp6(2),a.Q6J("mat-dialog-close",!1),a.xp6(2),a.Q6J("mat-dialog-close",!0))},directives:[Nv,aE,fk,bV,Zk,Wz,Zz,Lz,Un,fx,Uk,hx],encapsulation:2}),n})();const Fq=["trigger"],Lq=["panel"];function Vq(n,t){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function Bq(n,t){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function Uq(n,t){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function Hq(n,t){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,Bq,2,1,"span",10),a.YNc(2,Uq,1,0,"ng-content",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function jq(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(r){return a.CHM(e),a.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return a.CHM(e),a.oxw()._handleKeydown(r)}),a.Hsn(3,1),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Gq=[[["mat-select-trigger"]],"*"],$q=["mat-select-trigger","*"],AV={transformPanelWrap:ru("transformPanelWrap",[Go("* => void",Um("@transformPanel",[Bm()],{optional:!0}))]),transformPanel:ru("transformPanel",[ns("void",si({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ns("showing",si({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ns("showing-multiple",si({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Go("void => *",Da("120ms cubic-bezier(0, 0, 0.2, 1)")),Go("* => void",Da("100ms 25ms linear",si({opacity:0})))])};let MV=0;const RV=new a.OlP("mat-select-scroll-strategy"),Zq=new a.OlP("MAT_SELECT_CONFIG"),Yq={provide:RV,deps:[$f],useFactory:function Wq(n){return()=>n.scrollStrategies.reposition()}};class Kq{constructor(t,e){this.source=t,this.value=e}}const Qq=Zl(sg(Ta(cv(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),Jq=new a.OlP("MatSelectTrigger");let Xq=(()=>{class n extends Qq{constructor(e,i,r,l,u,f,_,b,T,A,O,V,U,ee){var Ee,ze,rt;super(u,l,_,b,A),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=T,this._liveAnnouncer=U,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(it,nt)=>it===nt,this._uid="mat-select-"+MV++,this._triggerAriaLabelledBy=null,this._destroy=new lt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+MV++,this._panelDoneAnimatingStream=new lt.x,this._overlayPanelClass=(null===(Ee=this._defaultOptions)||void 0===Ee?void 0:Ee.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(rt=null===(ze=this._defaultOptions)||void 0===ze?void 0:ze.disableOptionCentering)&&void 0!==rt&&rt,this.ariaLabel="",this.optionSelectionChanges=rr(()=>{const it=this.options;return it?it.changes.pipe(Tn(it),xn(()=>(0,Yo.T)(...it.map(nt=>nt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Pn.q)(1),xn(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(In(it=>it),(0,wt.U)(()=>{})),this._closedStream=this.openedChange.pipe(In(it=>!it),(0,wt.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ee?void 0:ee.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=V,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,l;return null!==(l=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(pk.required))&&void 0!==l&&l}set required(e){this._required=zt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=zt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=zt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=ts(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Ms(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ca(),bn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(bn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Tn(null),bn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,l=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&l&&!po(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(e);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,l=40===r||38===r,u=i.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||po(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&l&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Pn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(l){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new JR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(bn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(bn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Yo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(bn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Yo.T)(...this.options.map(i=>i._stateChanges)).pipe(bn(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Gl),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(uv),a.Y36(a.SBq),a.Y36(ft,8),a.Y36(l_,8),a.Y36(a0,8),a.Y36(Bk,8),a.Y36(ic,10),a.$8M("tabindex"),a.Y36(RV),a.Y36(Iw),a.Y36(Zq,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(Fq,5),a.Gf(Lq,5),a.Gf(sx,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.trigger=r.first),a.iGM(r=a.CRH())&&(i.panel=r.first),a.iGM(r=a.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),e4=(()=>{class n extends Xq{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const l=this._getItemHeight();return Math.min(Math.max(0,l*e-i+l/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(bn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=yv(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function NC(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Kq(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),l=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const f=0-(e.left+u-(r?l:0)),_=e.right+u-i.width+(r?0:l);f>0?u+=f+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const l=this._getItemHeight(),u=(l-this._triggerRect.height)/2,f=Math.floor(256/l);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*l:this._scrollTop===r?(e-(this._getItemCount()-f))*l+(l-(this._getItemCount()*l-256)%l):i-l/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):f>l?this._adjustPanelDown(f,l,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const l=Math.round(e-i);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=yv(f,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(f,_,u),this._offsetY=this._calculateOverlayOffsetY(f,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Jq,5),a.Suo(r,_v,5),a.Suo(r,OC,5)),2&e){let l;a.iGM(l=a.CRH())&&(i.customTrigger=l.first),a.iGM(l=a.CRH())&&(i.options=l),a.iGM(l=a.CRH())&&(i.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(l){return i._handleKeydown(l)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:zD,useExisting:n},{provide:mv,useExisting:n}]),a.qOj],ngContentSelectors:$q,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(a.F$t(Gq),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,Vq,2,1,"span",3),a.YNc(5,Hq,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,jq,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[XC,Ji,Li,sc,sx,ps],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[AV.transformPanelWrap,AV.transformPanel]},changeDetection:0}),n})(),t4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Yq],imports:[[tr,eE,vv,ln],oy,qD,vv,ln]}),n})();function n4(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"p")(1,"mat-form-field",9)(2,"mat-label"),a._uU(3,"Joueuse 3"),a.qZA(),a.TgZ(4,"input",10),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().data.player3=r}),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(4),a.Q6J("ngModel",e.data.player3)}}function r4(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"p")(1,"mat-form-field",9)(2,"mat-label"),a._uU(3,"Joueuse 4"),a.qZA(),a.TgZ(4,"input",10),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().data.player4=r}),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(4),a.Q6J("ngModel",e.data.player4)}}function s4(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"p")(1,"mat-form-field",9)(2,"mat-label"),a._uU(3,"Joueuse 5"),a.qZA(),a.TgZ(4,"input",10),a.NdJ("ngModelChange",function(r){return a.CHM(e),a.oxw().data.player5=r}),a.qZA()()()}if(2&n){const e=a.oxw();a.xp6(4),a.Q6J("ngModel",e.data.player5)}}let Kk=(()=>{class n{constructor(e,i){this.router=e,this.dashboardComponent=i,this.nbPlayersControl=new Mk("",pk.required),this.data={player1:"",player2:"",nbPlayers:2}}ngOnInit(){null!==localStorage.getItem("playerList")&&(this.dashboardComponent.activate=!0,this.dashboardComponent.selectedIndex=1)}onClick(){this.checkData(parseInt(this.nbPlayersControl.value))&&(this.data=Object.assign(Object.assign({},this.data),{nbPlayers:parseInt(this.nbPlayersControl.value)}),this.dashboardComponent.activate=!0,this.dashboardComponent.selectedIndex=1,localStorage.setItem("playerList",JSON.stringify(this.data)))}checkData(e){switch(e){case 2:return""!==this.data.player1&&""!==this.data.player2;case 3:return""!==this.data.player1&&""!==this.data.player2&&this.data.player3;case 4:return""!==this.data.player1&&""!==this.data.player2&&this.data.player3&&this.data.player4;case 5:return""!==this.data.player1&&""!==this.data.player2&&this.data.player3&&this.data.player4&&this.data.player5;default:return!1}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(br),a.Y36(e0))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-new-game"]],decls:34,vars:6,consts:[[1,"new-game"],["mat-dialog-title",""],["appearance","outline"],["required","",3,"formControl"],["value","2"],["value","3"],["value","4"],["value","5"],["mat-dialog-content",""],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"mat-card")(2,"h1",1),a._uU(3,"Nouvelle Partie"),a.qZA(),a.TgZ(4,"div")(5,"mat-form-field",2)(6,"mat-label"),a._uU(7,"Nombre de joueuses"),a.qZA(),a.TgZ(8,"mat-select",3)(9,"mat-option",4),a._uU(10,"2"),a.qZA(),a.TgZ(11,"mat-option",5),a._uU(12,"3"),a.qZA(),a.TgZ(13,"mat-option",6),a._uU(14,"4"),a.qZA(),a.TgZ(15,"mat-option",7),a._uU(16,"5"),a.qZA()()()(),a.TgZ(17,"div",8)(18,"p")(19,"mat-form-field",9)(20,"mat-label"),a._uU(21,"Joueuse 1"),a.qZA(),a.TgZ(22,"input",10),a.NdJ("ngModelChange",function(l){return i.data.player1=l}),a.qZA()()(),a.TgZ(23,"p")(24,"mat-form-field",9)(25,"mat-label"),a._uU(26,"Joueuse 2"),a.qZA(),a.TgZ(27,"input",10),a.NdJ("ngModelChange",function(l){return i.data.player2=l}),a.qZA()()(),a.YNc(28,n4,5,1,"p",11),a.YNc(29,r4,5,1,"p",11),a.YNc(30,s4,5,1,"p",11),a.qZA(),a.TgZ(31,"div",12)(32,"button",13),a.NdJ("click",function(){return i.onClick()}),a._uU(33,"Ok"),a.qZA()()()()),2&e&&(a.xp6(8),a.Q6J("formControl",i.nbPlayersControl),a.xp6(14),a.Q6J("ngModel",i.data.player1),a.xp6(5),a.Q6J("ngModel",i.data.player2),a.xp6(1),a.Q6J("ngIf",i.nbPlayersControl.value>=3),a.xp6(1),a.Q6J("ngIf",i.nbPlayersControl.value>=4),a.xp6(1),a.Q6J("ngIf",i.nbPlayersControl.value>=5))},directives:[fk,Nv,Y2,Vk,e4,$D,yk,Ok,_v,aE,J2,t0,GD,Un,fx,Uk],styles:[".mat-card[_ngcontent-%COMP%]{align-items:center;text-align:center}.new-game[_ngcontent-%COMP%]{margin:auto}"]}),n})(),o4=0;const Qk=new a.OlP("CdkAccordion");let a4=(()=>{class n{constructor(){this._stateChanges=new lt.x,this._openCloseAllActions=new lt.x,this.id="cdk-accordion-"+o4++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=zt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[a._Bn([{provide:Qk,useExisting:n}]),a.TTD]}),n})(),l4=0,c4=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Sn.w0.EMPTY,this.closed=new a.vpe,this.opened=new a.vpe,this.destroyed=new a.vpe,this.expandedChange=new a.vpe,this.id="cdk-accordion-child-"+l4++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((l,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=zt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=zt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Qk,12),a.Y36(a.sBO),a.Y36(Q_))},n.\u0275dir=a.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[a._Bn([{provide:Qk,useValue:void 0}])]}),n})(),u4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const d4=["body"];function h4(n,t){}const f4=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],p4=["mat-expansion-panel-header","*","mat-action-row"];function m4(n,t){if(1&n&&a._UZ(0,"span",2),2&n){const e=a.oxw();a.Q6J("@indicatorRotate",e._getExpandedState())}}const g4=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],_4=["mat-panel-title","mat-panel-description","*"],Jk=new a.OlP("MAT_ACCORDION"),OV="225ms cubic-bezier(0.4,0.0,0.2,1)",PV={indicatorRotate:ru("indicatorRotate",[ns("collapsed, void",si({transform:"rotate(0deg)"})),ns("expanded",si({transform:"rotate(180deg)"})),Go("expanded <=> collapsed, void => collapsed",Da(OV))]),bodyExpansion:ru("bodyExpansion",[ns("collapsed, void",si({height:"0px",visibility:"hidden"})),ns("expanded",si({height:"*",visibility:"visible"})),Go("expanded <=> collapsed, void => collapsed",Da(OV))])};let y4=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),v4=0;const NV=new a.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let FV=(()=>{class n extends c4{constructor(e,i,r,l,u,f,_){super(e,i,r),this._viewContainerRef=l,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new a.vpe,this.afterCollapse=new a.vpe,this._inputChanges=new lt.x,this._headerId="mat-expansion-panel-header-"+v4++,this._bodyAnimationDone=new lt.x,this.accordion=e,this._document=u,this._bodyAnimationDone.pipe(Ca((b,T)=>b.fromState===T.fromState&&b.toState===T.toState)).subscribe(b=>{"void"!==b.fromState&&("expanded"===b.toState?this.afterExpand.emit():"collapsed"===b.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=zt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Tn(null),In(()=>this.expanded&&!this._portal),(0,Pn.q)(1)).subscribe(()=>{this._portal=new jf(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Jk,12),a.Y36(a.sBO),a.Y36(Q_),a.Y36(a.s_b),a.Y36(Q),a.Y36(Gi,8),a.Y36(NV,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,y4,5),2&e){let l;a.iGM(l=a.CRH())&&(i._lazyContent=l.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(d4,5),2&e){let r;a.iGM(r=a.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&a.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[a._Bn([{provide:Jk,useValue:void 0}]),a.qOj,a.TTD],ngContentSelectors:p4,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(a.F$t(f4),a.Hsn(0),a.TgZ(1,"div",0,1),a.NdJ("@bodyExpansion.done",function(l){return i._bodyAnimationDone.next(l)}),a.TgZ(3,"div",2),a.Hsn(4,1),a.YNc(5,h4,0,0,"ng-template",3),a.qZA(),a.Hsn(6,2),a.qZA()),2&e&&(a.xp6(1),a.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),a.uIk("aria-labelledby",i._headerId),a.xp6(4),a.Q6J("cdkPortalOutlet",i._portal))},directives:[hu],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[PV.bodyExpansion]},changeDetection:0}),n})();class b4{}const w4=sg(b4);let LV=(()=>{class n extends w4{constructor(e,i,r,l,u,f,_){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=l,this._animationMode=f,this._parentChangeSubscription=Sn.w0.EMPTY;const b=e.accordion?e.accordion._stateChanges.pipe(In(T=>!(!T.hideToggle&&!T.togglePosition))):lo.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,Yo.T)(e.opened,e.closed,b,e._inputChanges.pipe(In(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(In(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:po(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(FV,1),a.Y36(a.SBq),a.Y36(iu),a.Y36(a.sBO),a.Y36(NV,8),a.Y36(Gi,8),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._toggle()})("keydown",function(l){return i._keydown(l)}),2&e&&(a.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),a.Udp("height",i._getHeaderHeight()),a.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[a.qOj],ngContentSelectors:_4,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(a.F$t(g4),a.TgZ(0,"span",0),a.Hsn(1),a.Hsn(2,1),a.Hsn(3,2),a.qZA(),a.YNc(4,m4,1,1,"span",1)),2&e&&(a.xp6(4),a.Q6J("ngIf",i._showToggle()))},directives:[Un],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[PV.indicatorRotate]},changeDetection:0}),n})(),C4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),E4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),D4=(()=>{class n extends a4{constructor(){super(...arguments),this._ownHeaders=new a.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=zt(e)}ngAfterContentInit(){this._headers.changes.pipe(Tn(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new cf(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,LV,5),2&e){let l;a.iGM(l=a.CRH())&&(i._headers=l)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[a._Bn([{provide:Jk,useExisting:n}]),a.qOj]}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tr,ln,u4,Gf]]}),n})();function I4(n,t){if(1&n&&(a.TgZ(0,"div",18),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e," ")}}function S4(n,t){1&n&&(a.TgZ(0,"th",19),a._uU(1," Rounds "),a.qZA())}function x4(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.round_id," ")}}function A4(n,t){1&n&&(a.TgZ(0,"td",21),a._uU(1," Total "),a.qZA())}function M4(n,t){if(1&n&&(a.TgZ(0,"th",19),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.players[0]," ")}}function k4(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.player1," ")}}function R4(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.total[0]," ")}}function O4(n,t){if(1&n&&(a.TgZ(0,"th",19),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.players[1]," ")}}function P4(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.player2," ")}}function N4(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw().$implicit;a.xp6(1),a.hij(" ",e.total[1]," ")}}function F4(n,t){if(1&n&&(a.TgZ(0,"th",19),a._uU(1),a.qZA()),2&n){const e=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",e.players[2]," ")}}function L4(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.player3," ")}}function V4(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",e.total[2]," ")}}function B4(n,t){1&n&&(a.ynx(0,22),a.YNc(1,F4,2,1,"th",7),a.YNc(2,L4,2,1,"td",8),a.YNc(3,V4,2,1,"td",9),a.BQk())}function U4(n,t){if(1&n&&(a.TgZ(0,"th",19),a._uU(1),a.qZA()),2&n){const e=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",e.players[3]," ")}}function H4(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.player4," ")}}function j4(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",e.total[3]," ")}}function G4(n,t){1&n&&(a.ynx(0,23),a.YNc(1,U4,2,1,"th",7),a.YNc(2,H4,2,1,"td",8),a.YNc(3,j4,2,1,"td",9),a.BQk())}function $4(n,t){if(1&n&&(a.TgZ(0,"th",19),a._uU(1),a.qZA()),2&n){const e=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",e.players[4]," ")}}function z4(n,t){if(1&n&&(a.TgZ(0,"td",20),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.xp6(1),a.hij(" ",e.player5," ")}}function q4(n,t){if(1&n&&(a.TgZ(0,"td",21),a._uU(1),a.qZA()),2&n){const e=a.oxw(2).$implicit;a.xp6(1),a.hij(" ",e.total[4]," ")}}function W4(n,t){1&n&&(a.ynx(0,24),a.YNc(1,$4,2,1,"th",7),a.YNc(2,z4,2,1,"td",8),a.YNc(3,q4,2,1,"td",9),a.BQk())}function Z4(n,t){1&n&&a._UZ(0,"tr",25)}function Y4(n,t){1&n&&a._UZ(0,"tr",26)}function K4(n,t){1&n&&a._UZ(0,"tr",27)}function Q4(n,t){if(1&n&&(a.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title",1),a._uU(3),a.qZA(),a.TgZ(4,"mat-panel-description",2),a.YNc(5,I4,2,1,"div",3),a.qZA(),a.TgZ(6,"mat-panel-description",4)(7,"h4"),a._uU(8),a.qZA()()(),a.TgZ(9,"table",5),a.ynx(10,6),a.YNc(11,S4,2,0,"th",7),a.YNc(12,x4,2,1,"td",8),a.YNc(13,A4,2,0,"td",9),a.BQk(),a.ynx(14,10),a.YNc(15,M4,2,1,"th",7),a.YNc(16,k4,2,1,"td",8),a.YNc(17,R4,2,1,"td",9),a.BQk(),a.ynx(18,11),a.YNc(19,O4,2,1,"th",7),a.YNc(20,P4,2,1,"td",8),a.YNc(21,N4,2,1,"td",9),a.BQk(),a.YNc(22,B4,4,0,"ng-container",12),a.YNc(23,G4,4,0,"ng-container",13),a.YNc(24,W4,4,0,"ng-container",14),a.YNc(25,Z4,1,0,"tr",15),a.YNc(26,Y4,1,0,"tr",16),a.YNc(27,K4,1,0,"tr",17),a.qZA()()),2&n){const e=t.$implicit,i=a.oxw();a.xp6(3),a.hij(" Partie ",i.testData.indexOf(e)," "),a.xp6(2),a.Q6J("ngForOf",e.players),a.xp6(3),a.hij("Gagnante : ",e.winner,""),a.xp6(1),a.Q6J("dataSource",e.rounds),a.xp6(13),a.Q6J("ngIf",e.nbPlayers>=3),a.xp6(1),a.Q6J("ngIf",e.nbPlayers>=4),a.xp6(1),a.Q6J("ngIf",e.nbPlayers>=5),a.xp6(1),a.Q6J("matHeaderRowDef",i.displayedColumns(e.nbPlayers)),a.xp6(1),a.Q6J("matRowDefColumns",i.displayedColumns(e.nbPlayers)),a.xp6(1),a.Q6J("matFooterRowDef",i.displayedColumns(e.nbPlayers))("matFooterRowDefSticky",!0)}}let VV=(()=>{class n{constructor(e){this.store=e,this.testData=[{players:["Delphine","J\xe9r\xe9mie"],nbPlayers:2,nbRounds:4,rounds:[{round_id:1,player1:12,player2:13},{round_id:2,player1:5,player2:6},{round_id:3,player1:9,player2:6},{round_id:4,player1:14,player2:15}],total:[4,5],winner:"Delphine"},{players:["Delphine","J\xe9r\xe9mie","Thomas"],nbPlayers:3,nbRounds:4,rounds:[{round_id:1,player1:12,player2:13,player3:5},{round_id:2,player1:5,player2:6,player3:5},{round_id:3,player1:9,player2:6,player3:4},{round_id:4,player1:14,player2:15,player3:12}],total:[4,5,6],winner:"Toto"},{players:["Delphine","J\xe9r\xe9mie","Thomas","Zo\xe9"],nbPlayers:4,nbRounds:4,rounds:[{round_id:1,player1:12,player2:13,player3:5,player4:12},{round_id:2,player1:5,player2:6,player3:5,player4:14},{round_id:3,player1:9,player2:6,player3:4,player4:17},{round_id:4,player1:14,player2:15,player3:12,player4:0}],total:[4,5,6,7],winner:"tata"}]}ngOnInit(){this.store.collection("games").valueChanges().subscribe(i=>this.testData=i)}displayedColumns(e){switch(e){case 1:return["round_id","player1"];case 2:return["round_id","player1","player2"];case 3:return["round_id","player1","player2","player3"];case 4:return["round_id","player1","player2","player3","player4"];case 5:return["round_id","player1","player2","player3","player4","player5"];default:return[]}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(hk))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-scores"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"game"],[1,"players"],["class","space",4,"ngFor","ngForOf"],[1,"winner"],["mat-table","",3,"dataSource"],["matColumnDef","round_id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","player1"],["matColumnDef","player2"],["matColumnDef","player3",4,"ngIf"],["matColumnDef","player4",4,"ngIf"],["matColumnDef","player5",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],[1,"space"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["matColumnDef","player3"],["matColumnDef","player4"],["matColumnDef","player5"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,i){1&e&&(a.TgZ(0,"mat-accordion"),a.YNc(1,Q4,28,11,"mat-expansion-panel",0),a.qZA()),2&e&&(a.xp6(1),a.Q6J("ngForOf",i.testData))},directives:[D4,ei,FV,LV,E4,C4,Bf,ug,rl,wv,$i,dg,bv,du,Un,Uf,Ev,hg,Hf,Cv,Dv],styles:[".space[_ngcontent-%COMP%]{margin:10px;text-align:left}.winner[_ngcontent-%COMP%]{justify-content:right}.players[_ngcontent-%COMP%]{justify-content:left}.game[_ngcontent-%COMP%]{width:20px}"]}),n})();const J4=[{path:"play2",component:xV},{path:"play",component:e0},{path:"newGame",component:Kk},{path:"scores",component:VV},{path:"**",redirectTo:"play"}];let X4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Ph.forRoot(J4)],Ph]}),n})(),e5=(()=>{class n{constructor(){this.title="scoreboard"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},directives:[$c],encapsulation:2}),n})(),h5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tr,ln],ln]}),n})();const HV_firebase={apiKey:"AIzaSyAOEHquePu6RTTAEstnRCoVCXM7DvT3xWY",authDomain:"scoreboard-47ae9.firebaseapp.com",projectId:"scoreboard-47ae9",storageBucket:"scoreboard-47ae9.appspot.com",messagingSenderId:"995028765986",appId:"1:995028765986:web:09545451828c3ae47fe97b",measurementId:"G-Z8RSCQPCM0"};let f5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-toolbar"]],decls:10,vars:0,consts:[["role","banner",1,"toolbar"],[1,"toolbar-card"],[1,"spacer"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon"),a._uU(3,"casino"),a.qZA()(),a._UZ(4,"div",2),a.TgZ(5,"div",1)(6,"span"),a._uU(7,"Skyjo"),a.qZA()(),a._UZ(8,"div",2)(9,"div",1),a.qZA())},directives:[gV],styles:[".spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#7f1734;color:#fff;font-weight:600}.toolbar-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#7f1734;color:#fff;font-weight:600;margin:20px}.newGameButton[_ngcontent-%COMP%]{background-color:#fff;color:#7f1734}"]}),n})();function p5(n,t){1&n&&a.Hsn(0)}const jV=["*"];function m5(n,t){}const g5=function(n){return{animationDuration:n}},_5=function(n,t){return{value:n,params:t}},y5=["tabListContainer"],v5=["tabList"],b5=["tabListInner"],w5=["nextPaginator"],C5=["previousPaginator"],E5=["tabBodyWrapper"],D5=["tabHeader"];function T5(n,t){}function I5(n,t){if(1&n&&a.YNc(0,T5,0,0,"ng-template",10),2&n){const e=a.oxw().$implicit;a.Q6J("cdkPortalOutlet",e.templateLabel)}}function S5(n,t){if(1&n&&a._uU(0),2&n){const e=a.oxw().$implicit;a.Oqu(e.textLabel)}}function x5(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",6),a.NdJ("click",function(){const r=a.CHM(e),l=r.$implicit,u=r.index,f=a.oxw(),_=a.MAs(1);return f._handleClick(l,_,u)})("cdkFocusChange",function(r){const u=a.CHM(e).index;return a.oxw()._tabFocusChanged(r,u)}),a.TgZ(1,"div",7),a.YNc(2,I5,1,1,"ng-template",8),a.YNc(3,S5,1,1,"ng-template",null,9,a.W1O),a.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=a.MAs(4),l=a.oxw();a.ekj("mat-tab-label-active",l.selectedIndex===i),a.Q6J("id",l._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||l.disableRipple),a.uIk("tabIndex",l._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",l._tabs.length)("aria-controls",l._getTabContentId(i))("aria-selected",l.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),a.xp6(2),a.Q6J("ngIf",e.templateLabel)("ngIfElse",r)}}function A5(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-tab-body",11),a.NdJ("_onCentered",function(){return a.CHM(e),a.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return a.CHM(e),a.oxw()._setTabBodyWrapperHeight(r)}),a.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.ekj("mat-tab-body-active",r.selectedIndex===i),a.Q6J("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),a.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const M5=new a.OlP("MatInkBarPositioner",{providedIn:"root",factory:function k5(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let GV=(()=>{class n{constructor(e,i,r,l){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=l}alignToElement(e){this.show(),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(M5),a.Y36(Gi,8))},n.\u0275dir=a.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const $V=new a.OlP("MatTabContent");let R5=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabContent",""]],features:[a._Bn([{provide:$V,useExisting:n}])]}),n})();const O5=new a.OlP("MatTabLabel"),P5=new a.OlP("MAT_TAB"),N5=Ta(class{}),zV=new a.OlP("MAT_TAB_GROUP");let qV=(()=>{class n extends N5{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new lt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new jf(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(zV,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,O5,5),a.Suo(r,$V,7,a.Rgc)),2&e){let l;a.iGM(l=a.CRH())&&(i.templateLabel=l.first),a.iGM(l=a.CRH())&&(i._explicitContent=l.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(a.Rgc,7),2&e){let r;a.iGM(r=a.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[a._Bn([{provide:P5,useExisting:n}]),a.qOj,a.TTD],ngContentSelectors:jV,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.YNc(0,p5,1,0,"ng-template"))},encapsulation:2}),n})();const F5={translateTab:ru("translateTab",[ns("center, void, left-origin-center, right-origin-center",si({transform:"none"})),ns("left",si({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),ns("right",si({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Go("* => left, * => right, left => center, right => center",Da("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Go("void => left-origin-center",[si({transform:"translate3d(-100%, 0, 0)"}),Da("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Go("void => right-origin-center",[si({transform:"translate3d(100%, 0, 0)"}),Da("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let L5=(()=>{class n extends hu{constructor(e,i,r,l){super(e,i,l),this._host=r,this._centeringSub=Sn.w0.EMPTY,this._leavingSub=Sn.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Tn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36((0,a.Gpc)(()=>WV)),a.Y36(Q))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[a.qOj]}),n})(),V5=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Sn.w0.EMPTY,this._translateTabComplete=new lt.x,this._onCentering=new a.vpe,this._beforeCentering=new a.vpe,this._afterLeavingCenter=new a.vpe,this._onCentered=new a.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(l=>{this._computePositionAnimationState(l),r.markForCheck()})),this._translateTabComplete.pipe(Ca((l,u)=>l.fromState===u.fromState&&l.toState===u.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ft,8),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),WV=(()=>{class n extends V5{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ft,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&a.Gf(hu,5),2&e){let r;a.iGM(r=a.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[a.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0,1),a.NdJ("@translateTab.start",function(l){return i._onTranslateTabStarted(l)})("@translateTab.done",function(l){return i._translateTabComplete.next(l)}),a.YNc(2,m5,0,0,"ng-template",2),a.qZA()),2&e&&a.Q6J("@translateTab",a.WLB(3,_5,i._position,a.VKq(1,g5,i.animationDuration)))},directives:[L5],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[F5.translateTab]}}),n})();const ZV=new a.OlP("MAT_TABS_CONFIG"),B5=Ta(class{});let YV=(()=>{class n extends B5{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(a.uIk("aria-disabled",!!i.disabled),a.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[a.qOj]}),n})();const KV=Xc({passive:!0});let j5=(()=>{class n{constructor(e,i,r,l,u,f,_){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=l,this._ngZone=u,this._platform=f,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new lt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new lt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new a.vpe,this.indexFocused=new a.vpe,u.runOutsideAngular(()=>{Ul(e.nativeElement,"mouseleave").pipe(bn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=ts(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Ul(this._previousPaginator.nativeElement,"touchstart",KV).pipe(bn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ul(this._nextPaginator.nativeElement,"touchstart",KV).pipe(bn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:et("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new cf(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(r),(0,Yo.T)(e,i,this._items.changes).pipe(bn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(bn(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!po(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:u}=i.elementRef.nativeElement;let f,_;"ltr"==this._getLayoutDirection()?(f=l,_=f+u):(_=this._tabListInner.nativeElement.offsetWidth-l,f=_-u);const b=this.scrollDistance,T=this.scrollDistance+r;f<b?this.scrollDistance-=b-f+60:_>T&&(this.scrollDistance+=_-T+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),vm(650,100).pipe(bn((0,Yo.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:l}=this._scrollHeader(e);(0===l||l>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Gl),a.Y36(ft,8),a.Y36(a.R0b),a.Y36(vi),a.Y36(Gi,8))},n.\u0275dir=a.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),G5=(()=>{class n extends j5{constructor(e,i,r,l,u,f,_){super(e,i,r,l,u,f,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=zt(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Gl),a.Y36(ft,8),a.Y36(a.R0b),a.Y36(vi),a.Y36(Gi,8))},n.\u0275dir=a.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[a.qOj]}),n})(),$5=(()=>{class n extends G5{constructor(e,i,r,l,u,f,_){super(e,i,r,l,u,f,_)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Gl),a.Y36(ft,8),a.Y36(a.R0b),a.Y36(vi),a.Y36(Gi,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,YV,4),2&e){let l;a.iGM(l=a.CRH())&&(i._items=l)}},viewQuery:function(e,i){if(1&e&&(a.Gf(GV,7),a.Gf(y5,7),a.Gf(v5,7),a.Gf(b5,7),a.Gf(w5,5),a.Gf(C5,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._inkBar=r.first),a.iGM(r=a.CRH())&&(i._tabListContainer=r.first),a.iGM(r=a.CRH())&&(i._tabList=r.first),a.iGM(r=a.CRH())&&(i._tabListInner=r.first),a.iGM(r=a.CRH())&&(i._nextPaginator=r.first),a.iGM(r=a.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[a.qOj],ngContentSelectors:jV,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"button",0,1),a.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(l){return i._handlePaginatorPress("before",l)})("touchend",function(){return i._stopInterval()}),a._UZ(2,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.NdJ("keydown",function(l){return i._handleKeydown(l)}),a.TgZ(5,"div",5,6),a.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),a.TgZ(7,"div",7,8),a.Hsn(9),a.qZA(),a._UZ(10,"mat-ink-bar"),a.qZA()(),a.TgZ(11,"button",9,10),a.NdJ("mousedown",function(l){return i._handlePaginatorPress("after",l)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),a._UZ(13,"div",2),a.qZA()),2&e&&(a.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),a.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),a.xp6(5),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),a.xp6(6),a.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),a.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[uu,wy,GV],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),z5=0;class q5{}const W5=Ad(Zl(class{constructor(n){this._elementRef=n}}),"primary");let Z5=(()=>{class n extends W5{constructor(e,i,r,l){var u;super(e),this._changeDetectorRef=i,this._animationMode=l,this._tabs=new a.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Sn.w0.EMPTY,this._tabLabelSubscription=Sn.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new a.vpe,this.focusChange=new a.vpe,this.animationDone=new a.vpe,this.selectedTabChange=new a.vpe(!0),this._groupId=z5++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(u=null==r?void 0:r.contentTabIndex)&&void 0!==u?u:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=zt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=ts(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=ts(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,l)=>r.isActive=l===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let l=0;l<i.length;l++)if(i[l].isActive){this._indexToSelect=this._selectedIndex=l,this._lastFocusedTabIndex=null,r=i[l];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Tn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new q5;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Yo.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){var r;return e.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ZV,8),a.Y36(Gi,8))},n.\u0275dir=a.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[a.qOj]}),n})(),Y5=(()=>{class n extends Z5{constructor(e,i,r,l){super(e,i,r,l)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ZV,8),a.Y36(Gi,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,qV,5),2&e){let l;a.iGM(l=a.CRH())&&(i._allTabs=l)}},viewQuery:function(e,i){if(1&e&&(a.Gf(E5,5),a.Gf(D5,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._tabBodyWrapper=r.first),a.iGM(r=a.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[a._Bn([{provide:zV,useExisting:n}]),a.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(a.TgZ(0,"mat-tab-header",0,1),a.NdJ("indexFocused",function(l){return i._focusChanged(l)})("selectFocusedIndex",function(l){return i.selectedIndex=l}),a.YNc(2,x5,5,15,"div",2),a.qZA(),a.TgZ(3,"div",3,4),a.YNc(5,A5,1,10,"mat-tab-body",5),a.qZA()),2&e&&(a.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),a.xp6(2),a.Q6J("ngForOf",i._tabs),a.xp6(1),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),a.xp6(2),a.Q6J("ngForOf",i._tabs))},directives:[$5,WV,ei,YV,uu,xw,ps,Un,hu],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),K5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[tr,ln,Gf,pv,Ed,Mw],ln]}),n})(),Q5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[e5]}),n.\u0275inj=a.cJS({providers:[e0,Kk],imports:[[sa,gz,X4,RS,nz,Iv,px,qD,K$,y$,Sz,h5,C6,t4,v$,Fz,wV,eq,_o.hO.initializeApp(HV_firebase,"scoreboard-47ae9"),y6,K5,T4]]}),n})();a.B6R(e0,[f5,Y5,qV,Kk,R5,xV,VV],[]),(0,a.G48)(),gc().bootstrapModule(Q5).catch(n=>console.error(n))},5867:(at,Te,P)=>{P.d(Te,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=P(9681);(0,a.registerVersion)("firebase","9.6.11","app")},127:(at,Te,P)=>{P.d(Te,{Z:()=>a.Z});var a=P(3942);a.Z.registerVersion("firebase","9.6.11","app-compat")},820:(at,Te,P)=>{P.r(Te);var a=P(5861),K=P(3942),N=P(2090),ae=P(9681),te=P(655),me=P(1877),Q=P(4859);const Pe=function qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ve=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new me.Yd("@firebase/auth");function Ze(y,...p){Xe.logLevel<=me.in.ERROR&&Xe.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Ie(y,...p){throw je(y,...p)}function ye(y,...p){return je(y,...p)}function be(y,p,g){const w=Object.assign(Object.assign({},Ve()),{[p]:g});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ge(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ie(y,"argument-error"),be(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return fe.create(y,...p)}function ie(y,p,...g){if(!y)throw je(p,...g)}function W(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ze(p),new Error(p)}function re(y,p){y||W(p)}const ge=new Map;function se(y){re(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(re(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function It(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Xt(){return"http:"===Vn()||"https:"===Vn()}function Vn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class dn{constructor(p,g){this.shortDelay=p,this.longDelay=g,re(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function dt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(y,p){re(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class xr{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},us=new dn(3e4,6e4);function en(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Wt(y,p,g,w){return fi.apply(this,arguments)}function fi(){return(fi=(0,a.Z)(function*(y,p,g,w,S={}){return cr(y,S,(0,a.Z)(function*(){let R={},q={};w&&("GET"===p?q=w:R={body:JSON.stringify(w)});const oe=(0,N.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Ue=yield y._getAdditionalHeaders();return Ue["Content-Type"]="application/json",y.languageCode&&(Ue["X-Firebase-Locale"]=y.languageCode),xr.fetch()(Fi(y,y.config.apiHost,g,oe),Object.assign({method:p,headers:Ue,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function cr(y,p,g){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},rn),p);try{const S=new ds(y),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw hs(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const oe=R.ok?q.errorMessage:q.error.message,[Ue,Je]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ue)throw hs(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ue)throw hs(y,"email-already-in-use",q);const Ct=w[Ue]||Ue.toLowerCase().replace(/[_\s]+/g,"-");if(Je)throw be(y,Ct,Je);Ie(y,Ct)}}catch(S){if(S instanceof N.ZR)throw S;Ie(y,"network-request-failed")}})).apply(this,arguments)}function Ni(y,p,g,w){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(y,p,g,w,S={}){const R=yield Wt(y,p,g,w,S);return"mfaPendingCredential"in R&&Ie(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Fi(y,p,g,w){const S=`${p}${g}?${w}`;return y.config.emulator?hn(y.config,S):`${y.config.apiScheme}://${S}`}class ds{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),us.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hs(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=ye(y,p,w);return S.customData._tokenResponse=g,S}function Qi(){return(Qi=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function li(y,p){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ur(y,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function wn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Ra(){return(Ra=(0,a.Z)(function*(y,p=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(p),S=st(w);ie(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:S,token:w,authTime:wn(Zt(S.auth_time)),issuedAtTime:wn(Zt(S.iat)),expirationTime:wn(Zt(S.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Zt(y){return 1e3*Number(y)}function st(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return Ze("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(g);return S?JSON.parse(S):(Ze("Failed to decode base64 JWT payload"),null)}catch(S){return Ze("Caught error parsing JWT payload as JSON",S),null}}function pi(y,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&$t(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function $t({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class bo{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class wi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function mi(y){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),S=yield pi(y,ur(g,{idToken:w}));ie(null==S?void 0:S.users.length,g,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const q=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Se(R.providerUserInfo):[],oe=Ye(y.providerData,q),Ct=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==oe?void 0:oe.length)),ct={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:oe,metadata:new wi(R.createdAt,R.lastLoginAt),isAnonymous:Ct};Object.assign(y,ct)})).apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(y){const p=(0,N.m9)(y);yield mi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ye(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function Se(y){return y.map(p=>{var{providerId:g}=p,w=(0,te._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function gt(){return(gt=(0,a.Z)(function*(y,p){const g=yield cr(y,{},(0,a.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,q=Fi(y,S,"/v1/token",`key=${R}`),oe=yield y._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",xr.fetch()(q,{method:"POST",headers:oe,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ht{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ie(p.idToken,"internal-error"),ie(void 0!==p.idToken,"internal-error"),ie(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Et(y){const p=st(y);return ie(p,"internal-error"),ie(void 0!==p.exp,"internal-error"),ie(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,a.Z)(function*(){return ie(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,a.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:q}=yield function Ke(y,p){return gt.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(S,R,Number(q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:S,expirationTime:R}=g,q=new Ht;return w&&(ie("string"==typeof w,"internal-error",{appName:p}),q.refreshToken=w),S&&(ie("string"==typeof S,"internal-error",{appName:p}),q.accessToken=S),R&&(ie("number"==typeof R,"internal-error",{appName:p}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ht,this.toJSON())}_performRefresh(){return W("not implemented")}}function Vt(y,p){ie("string"==typeof y||void 0===y,"internal-error",{appName:p})}class j{constructor(p){var{uid:g,auth:w,stsTokenManager:S}=p,R=(0,te._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new wi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,a.Z)(function*(){const w=yield pi(g,g.stsTokenManager.getToken(g.auth,p));return ie(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function $s(y){return Ra.apply(this,arguments)}(this,p)}reload(){return function Ci(y){return Ut.apply(this,arguments)}(this)}_assign(p){this!==p&&(ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new j(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,a.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield mi(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,a.Z)(function*(){const g=yield p.getIdToken();return yield pi(p,function ht(y,p){return Qi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,S,R,q,oe,Ue,Je,Ct;const ct=null!==(w=g.displayName)&&void 0!==w?w:void 0,Ln=null!==(S=g.email)&&void 0!==S?S:void 0,es=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Qc=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Vl=null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,Bl=null!==(Ue=g._redirectEventId)&&void 0!==Ue?Ue:void 0,kh=null!==(Je=g.createdAt)&&void 0!==Je?Je:void 0,L_=null!==(Ct=g.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:ga,emailVerified:cd,isAnonymous:ud,providerData:Rh,stsTokenManager:dd}=g;ie(ga&&dd,p,"internal-error");const br=Ht.fromJSON(this.name,dd);ie("string"==typeof ga,p,"internal-error"),Vt(ct,p.name),Vt(Ln,p.name),ie("boolean"==typeof cd,p,"internal-error"),ie("boolean"==typeof ud,p,"internal-error"),Vt(es,p.name),Vt(Qc,p.name),Vt(Vl,p.name),Vt(Bl,p.name),Vt(kh,p.name),Vt(L_,p.name);const Oh=new j({uid:ga,auth:p,email:Ln,emailVerified:cd,displayName:ct,isAnonymous:ud,photoURL:Qc,phoneNumber:es,tenantId:Vl,stsTokenManager:br,createdAt:kh,lastLoginAt:L_});return Rh&&Array.isArray(Rh)&&(Oh.providerData=Rh.map(um=>Object.assign({},um))),Bl&&(Oh._redirectEventId=Bl),Oh}static _fromIdTokenResponse(p,g,w=!1){return(0,a.Z)(function*(){const S=new Ht;S.updateFromServerResponse(g);const R=new j({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield mi(R),R})()}}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,a.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,a.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,a.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function ue(y,p,g){return`firebase:${y}:${p}:${g}`}class J{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:S,name:R}=this.auth;this.fullUserKey=ue(this.userKey,S.apiKey,R),this.fullPersistenceKey=ue("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?j._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,a.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,a.Z)(function*(){if(!g.length)return new J(se(z),p,w);const S=(yield Promise.all(g.map(function(){var Je=(0,a.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return Je.apply(this,arguments)}}()))).filter(Je=>Je);let R=S[0]||se(z);const q=ue(w,p.config.apiKey,p.name);let oe=null;for(const Je of g)try{const Ct=yield Je._get(q);if(Ct){const ct=j._fromJSON(p,Ct);Je!==R&&(oe=ct),R=Je;break}}catch(Ct){}const Ue=S.filter(Je=>Je._shouldAllowMigration);return R._shouldAllowMigration&&Ue.length?(R=Ue[0],oe&&(yield R._set(q,oe.toJSON())),yield Promise.all(g.map(function(){var Je=(0,a.Z)(function*(Ct){if(Ct!==R)try{yield Ct._remove(q)}catch(ct){}});return function(Ct){return Je.apply(this,arguments)}}())),new J(R,p,w)):new J(R,p,w)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Yt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(bt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(pn(p))return"Webos";if(Qt(p))return"Safari";if((p.includes("chrome/")||Ei(p))&&!p.includes("edge/"))return"Chrome";if(kn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function bt(y=(0,N.z$)()){return/firefox\//i.test(y)}function Qt(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ei(y=(0,N.z$)()){return/crios\//i.test(y)}function Yt(y=(0,N.z$)()){return/iemobile/i.test(y)}function kn(y=(0,N.z$)()){return/android/i.test(y)}function Pt(y=(0,N.z$)()){return/blackberry/i.test(y)}function pn(y=(0,N.z$)()){return/webos/i.test(y)}function ui(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function fs(y=(0,N.z$)()){return ui(y)||kn(y)||pn(y)||Pt(y)||/windows phone/i.test(y)||Yt(y)}function Pa(y,p=[]){let g;switch(y){case"Browser":g=Be((0,N.z$)());break;case"Worker":g=`${Be((0,N.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${w}`}class dr{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nt(this),this.idTokenSubscription=new Nt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var S,R;if(!w._deleted&&(w.persistenceManager=yield J.create(w,p),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(q){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,a.Z)(function*(){var w;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,q=null==S?void 0:S._redirectEventId,oe=yield g.tryRedirectSignIn(p);(!R||R===q)&&(null==oe?void 0:oe.user)&&(S=oe.user)}return S?S._redirectEventId?(ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,a.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,a.Z)(function*(){try{yield mi(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function vt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&ie(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,a.Z)(function*(){if(!g._deleted)return p&&ie(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,a.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,a.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&se(p)||g._popupRedirectResolver;ie(w,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[se(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,a.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,a.Z)(function*(){if(p===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,w,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Pa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function Ne(y){return(0,N.m9)(y)}class Nt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Gn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class sn{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return W("not implemented")}_getIdTokenResponse(p){return W("not implemented")}_linkToIdToken(p,g){return W("not implemented")}_getReauthenticationResolver(p){return W("not implemented")}}function Bn(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:resetPassword",en(y,p))})).apply(this,arguments)}function kt(y,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ps(y,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",en(y,p))})).apply(this,arguments)}function ei(){return(ei=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithPassword",en(y,p))})).apply(this,arguments)}function ms(y,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:sendOobCode",en(y,p))})).apply(this,arguments)}function Un(y,p){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function ul(y,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function Ji(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function sc(y,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithEmailLink",en(y,p))})).apply(this,arguments)}function xu(){return(xu=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithEmailLink",en(y,p))})).apply(this,arguments)}class fl extends sn{constructor(p,g,w,S=null){super("password",w),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new fl(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new fl(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function Ws(y,p){return ei.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function hl(y,p){return Xi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ie(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return kt(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Su(y,p){return xu.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ie(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function $n(y,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithIdp",en(y,p))})).apply(this,arguments)}class _s extends sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new _s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=g,R=(0,te._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const q=new _s(w,S);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(p){return $n(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,$n(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$n(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Bp(y,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:sendVerificationCode",en(y,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,p))})).apply(this,arguments)}function ku(){return(ku=(0,a.Z)(function*(y,p){const g=yield Ni(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,p));if(g.temporaryProof)throw hs(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Hp={USER_NOT_FOUND:"user-not-found"};function Ru(){return(Ru=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithPhoneNumber",en(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Hp)})).apply(this,arguments)}class ea extends sn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ea({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ea({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function oc(y,p){return Ys.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Up(y,p){return ku.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function jp(y,p){return Ru.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:R}=p;return w||g||S||R?new ea({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:R}):null}}class Eo{constructor(p){var g,w,S,R,q,oe;const Ue=(0,N.zd)((0,N.pd)(p)),Je=null!==(g=Ue.apiKey)&&void 0!==g?g:null,Ct=null!==(w=Ue.oobCode)&&void 0!==w?w:null,ct=function u_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ue.mode)&&void 0!==S?S:null);ie(Je&&Ct&&ct,"argument-error"),this.apiKey=Je,this.operation=ct,this.code=Ct,this.continueUrl=null!==(R=Ue.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Ue.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(oe=Ue.tenantId)&&void 0!==oe?oe:null}static parseLink(p){const g=function pl(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||p||y}(p);try{return new Eo(g)}catch(w){return null}}}let ac=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return fl._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=Eo.parseLink(w);return ie(S,"argument-error"),fl._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ks{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class er extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ta extends er{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),_s._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ie(p.idToken||p.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ta.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ta.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:R,nonce:q,providerId:oe}=p;if(!w&&!S&&!g&&!R||!oe)return null;try{return new ta(oe)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:R})}catch(Ue){return null}}}let Do=(()=>{class y extends er{constructor(){super("facebook.com")}static credential(g){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Fa=(()=>{class y extends er{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return y.credential(w,S)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Ou=(()=>{class y extends er{constructor(){super("github.com")}static credential(g){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class tr extends sn{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return $n(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,$n(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$n(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:R}=g;return w&&S&&R&&w===S?new tr(w,R):null}static _create(p,g){return new tr(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hr extends Ks{constructor(p){ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return hr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return hr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=tr.fromJSON(p);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return tr._create(w,g)}catch(S){return null}}}let ml=(()=>{class y extends er{constructor(){super("twitter.com")}static credential(g,w){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return y.credential(w,S)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function gl(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signUp",en(y,p))})).apply(this,arguments)}class _i{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,S=!1){return(0,a.Z)(function*(){const R=yield j._fromIdTokenResponse(p,w,S),q=nh(w);return new _i({user:R,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=nh(w);return new _i({user:p,providerId:S,_tokenResponse:w,operationType:g})})()}}function nh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Pu(){return(Pu=(0,a.Z)(function*(y){var p;const g=Ne(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new _i({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield gl(g,{returnSecureToken:!0}),S=yield _i._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class yl extends N.ZR{constructor(p,g,w,S){var R;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,yl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,S){return new yl(p,g,w,S)}}function vl(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?yl._fromErrorAndOperation(y,R,p,w):R})}function ys(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function lc(){return(lc=(0,a.Z)(function*(y,p){const g=(0,N.m9)(y);yield Js(!0,g,p);const{providerUserInfo:w}=yield li(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=ys(w||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function gn(y,p){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(y,p,g=!1){const w=yield pi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return _i._forOperation(y,"link",w)})).apply(this,arguments)}function Js(y,p,g){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(y,p,g){yield mi(p);const S=!1===y?"provider-already-linked":"no-such-provider";ie(ys(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Nu(y,p){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(y,p,g=!1){const{auth:w}=y,S="reauthenticate";try{const R=yield pi(y,vl(w,S,p,y),g);ie(R.idToken,w,"internal-error");const q=st(R.idToken);ie(q,w,"internal-error");const{sub:oe}=q;return ie(y.uid===oe,w,"user-mismatch"),_i._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Ie(w,"user-mismatch"),R}})).apply(this,arguments)}function Io(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,a.Z)(function*(y,p,g=!1){const w="signIn",S=yield vl(y,w,p),R=yield _i._fromIdTokenResponse(y,w,S);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Hn(y,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(y,p){return Io(Ne(y),p)})).apply(this,arguments)}function Ar(y,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(y,p){const g=(0,N.m9)(y);return yield Js(!1,g,p.providerId),gn(g,p)})).apply(this,arguments)}function Xs(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(y,p){return Nu((0,N.m9)(y),p)})).apply(this,arguments)}function bl(y,p){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(y,p){return Ni(y,"POST","/v1/accounts:signInWithCustomToken",en(y,p))})).apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(y,p){const g=Ne(y),w=yield bl(g,{token:p,returnSecureToken:!0}),S=yield _i._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class _t{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?wl._fromServerResponse(p,g):Ie(p,"internal-error")}}class wl extends _t{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new wl(g)}}function Ba(y,p,g){var w;ie((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),ie(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function El(){return(El=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&Ba(w,S,g),yield ul(w,S)})).apply(this,arguments)}function cc(){return(cc=(0,a.Z)(function*(y,p,g){yield Bn((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(y,p){yield ps((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Bt(y,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.Z)(function*(y,p){const g=(0,N.m9)(y),w=yield Bn(g,{oobCode:p}),S=w.requestType;switch(ie(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(w.mfaInfo,g,"internal-error");default:ie(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=_t._fromServerResponse(Ne(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function ia(){return(ia=(0,a.Z)(function*(y,p){const{data:g}=yield Bt((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(y,p,g){const w=Ne(y),S=yield gl(w,{returnSecureToken:!0,email:p,password:g}),R=yield _i._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Fu(){return(Fu=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};ie(g.handleCodeInApp,w,"argument-error"),g&&Ba(w,S,g),yield Ji(w,S)})).apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y),S=ac.credentialWithLink(p,g||It());return ie(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Hn(w,S)})).apply(this,arguments)}function yi(y,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:createAuthUri",en(y,p))})).apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(y,p){const w={identifier:p,continueUri:Xt()?It():"http://localhost"},{signinMethods:S}=yield yi((0,N.m9)(y),w);return S||[]})).apply(this,arguments)}function mc(){return(mc=(0,a.Z)(function*(y,p){const g=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ba(g.auth,S,p);const{email:R}=yield Un(g.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function xl(){return(xl=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Ba(w.auth,R,g);const{email:q}=yield sc(w.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function gc(y,p){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,a.Z)(function*(y,p){return Wt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _c(){return(_c=(0,a.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,N.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield pi(w,gc(w.auth,R));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const oe=w.providerData.find(({providerId:Ue})=>"password"===Ue);oe&&(oe.displayName=w.displayName,oe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function vc(y,p,g){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(y,p,g){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const q=yield pi(y,kt(w,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class xo{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Bu extends xo{constructor(p,g,w,S){super(p,g,w),this.username=S}}class Uu extends xo{constructor(p,g){super(p,"facebook.com",g)}}class Ao extends Bu{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class ro extends xo{constructor(p,g){super(p,"google.com",g)}}class bc extends Bu{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Ii(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Vu(y){var p,g;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const q=null===(g=null===(p=st(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new xo(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Uu(R,S);case"github.com":return new Ao(R,S);case"google.com":return new ro(R,S);case"twitter.com":return new bc(R,S,y.screenName||null);case"custom":case"anonymous":return new xo(R,null);default:return new xo(R,w,S)}}(g)}class bs{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new bs("enroll",p)}static _fromMfaPendingCredential(p){return new bs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return bs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return bs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ha{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Ne(p),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(oe=>_t._fromServerResponse(w,oe));ie(S.mfaPendingCredential,w,"internal-error");const q=bs._fromMfaPendingCredential(S.mfaPendingCredential);return new Ha(q,R,function(){var oe=(0,a.Z)(function*(Ue){const Je=yield Ue._process(w,q);delete S.mfaInfo,delete S.mfaPendingCredential;const Ct=Object.assign(Object.assign({},S),{idToken:Je.idToken,refreshToken:Je.refreshToken});switch(g.operationType){case"signIn":const ct=yield _i._fromIdTokenResponse(w,g.operationType,Ct);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return ie(g.user,w,"internal-error"),_i._forOperation(g.user,g.operationType,Ct);default:Ie(w,"internal-error")}});return function(Ue){return oe.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,a.Z)(function*(){return g.signInResolver(p)})()}}function zn(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:start",en(y,p))}class ws{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>_t._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ws(p)}getSession(){var p=this;return(0,a.Z)(function*(){return bs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,a.Z)(function*(){const S=p,R=yield w.getSession(),q=yield pi(w.user,S._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(p){var g=this;return(0,a.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),R=yield pi(g.user,function $p(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",en(y,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const oa=new WeakMap,Ec="__sak";class Zr{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const jn=(()=>{class y extends Zr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const y=(0,N.z$)();return Qt(y)||ui(y)}()&&function Xn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=fs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),R=this.localCache[w];S!==R&&g(w,R,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((oe,Ue,Je)=>{this.notifyListeners(oe,Je)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(S);if(g.newValue!==oe)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const R=()=>{const oe=this.storage.getItem(S);!w&&this.localCache[S]===oe||this.notifyListeners(S,oe)},q=this.storage.getItem(S);!function Oa(){return(0,N.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,R=this;return(0,a.Z)(function*(){yield S().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,a.Z)(function*(){const R=yield w().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,S=this;return(0,a.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),lt=(()=>{class y extends Zr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let qn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,a.Z)(function*(){const S=g,{eventId:R,eventType:q,data:oe}=S.data,Ue=w.handlersMap[q];if(!(null==Ue?void 0:Ue.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const Je=Array.from(Ue).map(function(){var ct=(0,a.Z)(function*(Ln){return Ln(S.origin,oe)});return function(Ln){return ct.apply(this,arguments)}}()),Ct=yield function Si(y){return Promise.all(y.map(function(){var p=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Je);S.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:Ct})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function aa(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class $u{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var S=this;return(0,a.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,oe;return new Promise((Ue,Je)=>{const Ct=aa("",20);R.port1.start();const ct=setTimeout(()=>{Je(new Error("unsupported_event"))},w);oe={messageChannel:R,onMessage(Ln){const es=Ln;if(es.data.eventId===Ct)switch(es.data.status){case"ack":clearTimeout(ct),q=setTimeout(()=>{Je(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ue(es.data.response);break;default:clearTimeout(ct),clearTimeout(q),Je(new Error("invalid_response"))}}},S.handlers.add(oe),R.port1.addEventListener("message",oe.onMessage),S.target.postMessage({eventType:p,eventId:Ct,data:g},[R.port2])}).finally(()=>{oe&&S.removeMessageHandler(oe)})})()}}function _n(){return window}function kr(){return void 0!==_n().WorkerGlobalScope&&"function"==typeof _n().importScripts}function pr(){return(pr=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",Mo="firebaseLocalStorage",En="fbase_key";class Cs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function la(y,p){return y.transaction([Mo],p?"readwrite":"readonly").objectStore(Mo)}function oo(){const y=indexedDB.open(Tc,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Mo,{keyPath:En})}catch(S){g(S)}}),y.addEventListener("success",(0,a.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Mo)?p(w):(w.close(),yield function mr(){const y=indexedDB.deleteDatabase(Tc);return new Cs(y).toPromise()}(),p(yield oo()))}))})}function Bi(y,p,g){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(y,p,g){const w=la(y,!0).put({[En]:p,value:g});return new Cs(w).toPromise()})).apply(this,arguments)}function ao(){return(ao=(0,a.Z)(function*(y,p){const g=la(y,!1).get(p),w=yield new Cs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Yr(y,p){const g=la(y,!0).delete(p);return new Cs(g).toPromise()}const rr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield oo()),g.db})()}_withRetries(g){var w=this;return(0,a.Z)(function*(){let S=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(S++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return kr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=qn._getInstance(function zu(){return kr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function Ml(){return pr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new $u(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function wt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield oo();return yield Bi(g,Ec,"1"),yield Yr(g,Ec),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(R=>Bi(R,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,a.Z)(function*(){const S=yield w._withRetries(R=>function Sc(y,p){return ao.apply(this,arguments)}(R,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(S=>Yr(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const w=yield g._withRetries(q=>{const oe=la(q,!1).getAll();return new Cs(oe).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:q,value:oe}of w)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(oe)&&(g.notifyListeners(q,oe),S.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),S.push(q));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function lo(y,p){return Wt(y,"POST","/v2/accounts/mfaSignIn:start",en(y,p))}function Or(){return(Or=(0,a.Z)(function*(y){return(yield Wt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const R=ye("internal-error");R.customData=S,g(R)},w.type="text/javascript",w.charset="UTF-8",function Wu(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Pn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xi=1e12;class In{constructor(p){this.auth=p,this.counter=xi,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Pr(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||xi;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||xi))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,a.Z)(function*(){var w;return null===(w=g._widgets.get(p||xi))||void 0===w||w.execute(),""})()}}class Pr{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ie(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function An(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=Pn("rcb"),Zu=new dn(3e4,6e4);class qp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!_n().grecaptcha}load(p,g=""){return ie(function Wp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(_n().grecaptcha):new Promise((w,S)=>{const R=_n().setTimeout(()=>{S(ye(p,"network-request-failed"))},Zu.get());_n()[Ds]=()=>{_n().clearTimeout(R),delete _n()[Ds];const oe=_n().grecaptcha;if(!oe)return void S(ye(p,"internal-error"));const Ue=oe.render;oe.render=(Je,Ct)=>{const ct=Ue(Je,Ct);return this.counter++,ct},this.hostLanguage=g,w(oe)},xn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ds,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!_n().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zp{load(p){return(0,a.Z)(function*(){return new In(p)})()}clearedOneInstance(){}}const co="recaptcha",di={theme:"light",type:"image"};class sh{constructor(p,g=Object.assign({},di),w){this.parameters=g,this.type=co,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ne(w),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zp:new qp,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const q=oe=>{!oe||(p.tokenChangeListeners.delete(q),R(oe))};p.tokenChangeListeners.add(q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=_n()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){ie(Xt()&&!kr(),p.auth,"internal-error"),yield function uo(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function ti(y){return Or.apply(this,arguments)}(p.auth);ie(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ts{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ea._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Mn(){return(Mn=(0,a.Z)(function*(y,p,g){const w=Ne(y),S=yield Ai(w,p,(0,N.m9)(g));return new Ts(S,R=>Hn(w,R))})).apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y);yield Js(!1,w,"phone");const S=yield Ai(w.auth,p,(0,N.m9)(g));return new Ts(S,R=>Ar(w,R))})).apply(this,arguments)}function Mc(){return(Mc=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y),S=yield Ai(w.auth,p,(0,N.m9)(g));return new Ts(S,R=>Xs(w,R))})).apply(this,arguments)}function Ai(y,p,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,a.Z)(function*(y,p,g){var w;const S=yield g.verify();try{let R;if(ie("string"==typeof S,y,"argument-error"),ie(g.type===co,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const q=R.session;if("phoneNumber"in R)return ie("enroll"===q.type,y,"internal-error"),(yield zn(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ie("signin"===q.type,y,"internal-error");const oe=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return ie(oe,y,"missing-multi-factor-info"),(yield lo(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Bp(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return q}}finally{g._reset()}})).apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(y,p){yield gn((0,N.m9)(y),p)})).apply(this,arguments)}let Nr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Ne(g)}verifyPhoneNumber(g,w){return Ai(this.auth,g,(0,N.m9)(w))}static credential(g,w){return ea._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?ea._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Kr(y,p){return p?se(p):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class ja extends sn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return $n(p,this._buildIdpRequest())}_linkToIdToken(p,g){return $n(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return $n(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Rc(y){return Io(y.auth,new ja(y),y.bypassAuthState)}function Oc(y){const{auth:p,user:g}=y;return ie(g,p,"internal-error"),Nu(g,new ja(y),y.bypassAuthState)}function Ft(y){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,a.Z)(function*(y){const{auth:p,user:g}=y;return ie(g,p,"internal-error"),gn(g,new ja(y),y.bypassAuthState)})).apply(this,arguments)}class ni{constructor(p,g,w,S,R=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,a.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:R,tenantId:q,error:oe,type:Ue}=p;if(oe)return void g.reject(oe);const Je={auth:g.auth,requestUri:w,sessionId:S,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ue)(Je))}catch(Ct){g.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rc;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:Ie(this.auth,"internal-error")}}resolve(p){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nc=new dn(2e3,1e4);function Yu(){return(Yu=(0,a.Z)(function*(y,p,g){const w=Ne(y);Ge(y,p,Ks);const S=Kr(w,g);return new Jr(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Rl(){return(Rl=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ge(w.auth,p,Ks);const S=Kr(w.auth,g);return new Jr(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Ol(){return(Ol=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ge(w.auth,p,Ks);const S=Kr(w.auth,g);return new Jr(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let Jr=(()=>{class y extends ni{constructor(g,w,S,R,q){super(g,w,R,q),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const w=yield g.execute();return ie(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,a.Z)(function*(){re(1===g.filter.length,"Popup operations only handle one event");const w=aa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Nc.get())};g()}}return y.currentPopupAction=null,y})();const Xr=new Map;class ii extends ni{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,a.Z)(function*(){let w=Xr.get(g.auth._key());if(!w){try{const R=(yield function _r(y,p){return Fc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(R)}catch(S){w=()=>Promise.reject(S)}Xr.set(g.auth._key(),w)}return g.bypassAuthState||Xr.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Fc(){return(Fc=(0,a.Z)(function*(y,p){const g=I(p),w=D(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Ro(y,p){return da.apply(this,arguments)}function da(){return(da=(0,a.Z)(function*(y,p){return D(y)._set(I(p),"true")})).apply(this,arguments)}function D(y){return se(y._redirectPersistence)}function I(y){return ue("pendingRedirect",y.config.apiKey,y.name)}function Z(){return(Z=(0,a.Z)(function*(y,p,g){const w=Ne(y);Ge(y,p,Ks);const S=Kr(w,g);return yield Ro(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Me(){return(Me=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ge(w.auth,p,Ks);const S=Kr(w.auth,g);yield Ro(S,w.auth);const R=yield Oo(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Rt(){return(Rt=(0,a.Z)(function*(y,p,g){const w=(0,N.m9)(y);Ge(w.auth,p,Ks);const S=Kr(w.auth,g);yield Js(!1,w,p.providerId),yield Ro(S,w.auth);const R=yield Oo(w);return S._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(y,p){return yield Ne(y)._initializationPromise,Fn(y,p,!1)})).apply(this,arguments)}function Fn(y,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(y,p,g=!1){const w=Ne(y),S=Kr(w,p),q=yield new ii(w,S,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,p)),q})).apply(this,arguments)}function Oo(y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.Z)(function*(y){const p=aa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Fr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Lc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qu(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Qu(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(p))}saveEventToCache(p){this.cachedEventUids.add(Po(p)),this.lastProcessedEventTime=Date.now()}}function Po(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Qu({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Vc(y){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(y,p={}){return Wt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Kp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h_=/^https?/;function Ss(){return(Ss=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Vc(y);for(const g of p)try{if(Bc(g))return}catch(w){}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Bc(y){const p=It(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!h_.test(g))return!1;if(Kp.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const p_=new dn(3e4,6e4);function m_(){const y=_n().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ju=null;function g_(y){return Ju=Ju||function Qp(y){return new Promise((p,g)=>{var w,S,R;function q(){m_(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{m_(),g(ye(y,"network-request-failed"))},timeout:p_.get()})}if(null===(S=null===(w=_n().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=_n().gapi)||void 0===R?void 0:R.load)){const oe=Pn("iframefcb");return _n()[oe]=()=>{gapi.load?q():g(ye(y,"network-request-failed"))},xn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ue=>g(Ue))}q()}}).catch(p=>{throw Ju=null,p})}(y),Ju}const oh=new dn(5e3,15e3),Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $a(y){const p=y.config;ie(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?hn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=Xu.get(y.config.apiHost);S&&(w.eid=S);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function fa(){return fa=(0,a.Z)(function*(y){const p=yield g_(y),g=_n().gapi;return ie(g,y,"internal-error"),p.open({where:document.body,url:$a(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},w=>new Promise(function(){var S=(0,a.Z)(function*(R,q){yield w.restyle({setHideOnLeave:!1});const oe=ye(y,"network-request-failed"),Ue=_n().setTimeout(()=>{q(oe)},oh.get());function Je(){_n().clearTimeout(Ue),R(w)}w.ping(Je).then(Je,()=>{q(oe)})});return function(R,q){return S.apply(this,arguments)}}()))}),fa.apply(this,arguments)}const y_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nd{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function uh(y,p,g,w,S,R){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ae.SDK_VERSION,eventId:S};if(p instanceof Ks){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ue,Je]of Object.entries(R||{}))q[Ue]=Je}if(p instanceof er){const Ue=p.getScopes().filter(Je=>""!==Je);Ue.length>0&&(q.scopes=Ue.join(","))}y.tenantId&&(q.tid=y.tenantId);const oe=q;for(const Ue of Object.keys(oe))void 0===oe[Ue]&&delete oe[Ue];return`${function b_({config:y}){return y.emulator?hn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(oe).slice(1)}`}const xs="webStorageSupport";class id extends class dh{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new id(p)}_finalizeEnroll(p,g,w){return function Hu(y,p){return Wt(y,"POST","/v2/accounts/mfaEnrollment:finalize",en(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Sn(y,p){return Wt(y,"POST","/v2/accounts/mfaSignIn:finalize",en(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jp=(()=>{class y{constructor(){}static assertion(g){return id._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Xp="@firebase/auth",rd="0.19.12";class em{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fo(){return window}function qa(){return(qa=(0,a.Z)(function*(y,p,g){var w;const{BuildInfo:S}=fo();re(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Wa(p.sessionId),q={};return ui()?q.ibi=S.packageName:kn()?q.apn=S.packageName:Ie(y,"operation-not-supported-in-this-environment"),S.displayName&&(q.appDisplayName=S.displayName),q.sessionId=R,uh(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function Lr(){return(Lr=(0,a.Z)(function*(y){const{BuildInfo:p}=fo(),g={};ui()?g.iosBundleId=p.packageName:kn()?g.androidPackageName=p.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Vc(y,g)})).apply(this,arguments)}function sd(){return(sd=(0,a.Z)(function*(y,p,g){const{cordova:w}=fo();let S=()=>{};try{yield new Promise((R,q)=>{let oe=null;function Ue(){var ct;R();const Ln=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Ln&&Ln(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Je(){oe||(oe=window.setTimeout(()=>{q(ye(y,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&Je()}p.addPassiveListener(Ue),document.addEventListener("resume",Je,!1),kn()&&document.addEventListener("visibilitychange",Ct,!1),S=()=>{p.removePassiveListener(Ue),document.removeEventListener("resume",Je,!1),document.removeEventListener("visibilitychange",Ct,!1),oe&&window.clearTimeout(oe)}})}finally{S()}})).apply(this,arguments)}function Wa(y){return nm.apply(this,arguments)}function nm(){return(nm=(0,a.Z)(function*(y){const p=Fl(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Fl(y){if(re(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function C_(y){(0,ae._registerComponent)(new Q.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:R,authDomain:q}=w.options;return((oe,Ue)=>{ie(R&&!R.includes(":"),"invalid-api-key",{appName:oe.name}),ie(!(null==q?void 0:q.includes(":")),"argument-error",{appName:oe.name});const Je={apiKey:R,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pa(y)},Ct=new dr(oe,Ue,Je);return function le(y,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(se);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(Ct,g),Ct})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Q.wA("auth-internal",p=>{const g=Ne(p.getProvider("auth").getImmediate());return new em(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Xp,rd,function w_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)(Xp,rd,"esm2017")}("Browser");class mh extends Fr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function jc(y){return pa.apply(this,arguments)}function pa(){return(pa=(0,a.Z)(function*(y){const p=yield $c()._get(_h(y));return p&&(yield $c()._remove(_h(y))),p})).apply(this,arguments)}function Gc(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function $c(){return se(jn)}function _h(y){return ue("authEvent",y.config.apiKey,y.name)}function qc(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function ad(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function rm(y=(0,N.z$)()){return!("file:"!==ad()&&"ionic:"!==ad()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Mi(){try{const y=self.localStorage,p=aa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function ma(y=(0,N.z$)()){return function S_(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function x_(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return Bo()&&(0,N.hl)()}return!1}function Bo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zc(){return(function I_(){return"http:"===ad()||"https:"===ad()}()||(0,N.ru)()||rm())&&!function ld(){return(0,N.b$)()||(0,N.UG)()}()&&Mi()&&!Bo()}function Ch(){return rm()&&"undefined"!=typeof document}function Za(){return(Za=(0,a.Z)(function*(){return!!Ch()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Vr={LOCAL:"local",NONE:"none",SESSION:"session"},Ya=ie,Dh="persistence";function Ka(y){return Th.apply(this,arguments)}function Th(){return(Th=(0,a.Z)(function*(y){yield y._initializationPromise;const p=Yc(),g=ue(Dh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Yc(){var y;try{return(null===(y=function Eh(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const A_=ie;class vr{constructor(){this.browserResolver=se(class Vo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lt,this._completeRedirectFn=Fn}_openPopup(p,g,w,S){var R=this;return(0,a.Z)(function*(){var q;re(null===(q=R.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const oe=uh(p,g,w,It(),S);return function Lo(y,p,g,w=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let oe="";const Ue=Object.assign(Object.assign({},y_),{width:w.toString(),height:S.toString(),top:R,left:q}),Je=(0,N.z$)().toLowerCase();g&&(oe=Ei(Je)?"_blank":g),bt(Je)&&(p=p||"http://localhost",Ue.scrollbars="yes");const Ct=Object.entries(Ue).reduce((Ln,[es,Qc])=>`${Ln}${es}=${Qc},`,"");if(function cl(y=(0,N.z$)()){var p;return ui(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Je)&&"_self"!==oe)return function ch(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",oe),new nd(null);const ct=window.open(p||"",oe,Ct);ie(ct,y,"popup-blocked");try{ct.focus()}catch(Ln){}return new nd(ct)}(p,oe,aa())})()}_openRedirect(p,g,w,S){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(p),function rh(y){_n().location.href=y}(uh(p,g,w,It(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(re(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,a.Z)(function*(){const w=yield function __(y){return fa.apply(this,arguments)}(p),S=new Fr(p);return w.register("authEvent",R=>(ie(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(xs,{type:xs},S=>{var R;const q=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[xs];void 0!==q&&g(!!q),Ie(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function f_(y){return Ss.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return fs()||Qt()||ui()}}),this.cordovaResolver=se(class bh{constructor(){this._redirectPersistence=lt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fn}_initialize(p){var g=this;return(0,a.Z)(function*(){const w=p._key();let S=g.eventManagers.get(w);return S||(S=new mh(p),g.eventManagers.set(w,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ie(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,S){var R=this;return(0,a.Z)(function*(){!function od(y){var p,g,w,S,R,q,oe,Ue,Je,Ct;const ct=fo();ie("function"==typeof(null===(p=null==ct?void 0:ct.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(g=null==ct?void 0:ct.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(R=null===(S=null===(w=null==ct?void 0:ct.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Ue=null===(oe=null===(q=null==ct?void 0:ct.cordova)||void 0===q?void 0:q.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ue?void 0:Ue.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Ct=null===(Je=null==ct?void 0:ct.cordova)||void 0===Je?void 0:Je.InAppBrowser)||void 0===Ct?void 0:Ct.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield R._initialize(p);yield q.initialized(),q.resetRedirect(),function Pl(){Xr.clear()}(),yield R._originValidation(p);const oe=function gh(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Gc(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,w,S);yield function g0(y,p){return $c()._set(_h(y),p)}(p,oe);const Ue=yield function hh(y,p,g){return qa.apply(this,arguments)}(p,oe,g),Je=yield function Hc(y){const{cordova:p}=fo();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function wo(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ue);return function tm(y,p,g){return sd.apply(this,arguments)}(p,q,Je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function fh(y){return Lr.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:R}=fo(),q=setTimeout((0,a.Z)(function*(){yield jc(p),g.onEvent(wh())}),500),oe=function(){var Ct=(0,a.Z)(function*(ct){clearTimeout(q);const Ln=yield jc(p);let es=null;Ln&&(null==ct?void 0:ct.url)&&(es=function D_(y,p){var g,w;const S=function zc(y){const p=qc(y),g=p.link?decodeURIComponent(p.link):void 0,w=qc(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return qc(S).link||S||w||g||y}(p);if(S.includes("/__/auth/callback")){const R=qc(S),q=R.firebaseError?function yh(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,oe=null===(w=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ue=oe?ye(oe):null;return Ue?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ue,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Ln,ct.url)),g.onEvent(es||wh())});return function(Ln){return Ct.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,oe);const Ue=S,Je=`${R.packageName.toLowerCase()}://`;fo().handleOpenURL=function(){var Ct=(0,a.Z)(function*(ct){if(ct.toLowerCase().startsWith(Je)&&oe({url:ct}),"function"==typeof Ue)try{Ue(ct)}catch(Ln){console.error(Ln)}});return function(ct){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lt,this._completeRedirectFn=Fn}_initialize(p){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,S){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,w,S)})()}_openRedirect(p,g,w,S){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,w,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Ch()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return A_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Hi(){return Za.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function am(y){return y.unwrap()}function Qa(y){return lm(y)}function lm(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Nr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Fa;break;case"facebook.com":w=Do;break;case"github.com":w=Ou;break;case"twitter.com":w=ml;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:oe,nonce:Ue}=p;return R||q||S||oe?oe?g.startsWith("saml.")?tr._create(g,oe):_s._fromParams({providerId:g,signInMethod:g,pendingToken:oe,idToken:S,accessToken:R}):new ta(g).credential({idToken:S,accessToken:R,rawNonce:Ue}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function ki(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function k_(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new R_(y,function Al(y,p){var g;const w=(0,N.m9)(y),S=p;return ie(p.customData.operationType,w,"argument-error"),ie(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Ha._fromError(w,S)}(y,p));else if(w){const S=lm(p),R=p;S&&(R.credential=S,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Qa(g),additionalUserInfo:Ii(g),user:Uo.getOrCreate(S)}})}function Ih(y,p){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,a.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>ki(y,g.confirm(w))}})).apply(this,arguments)}class R_{constructor(p,g){this.resolver=g,this.auth=function M_(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ki(am(this.auth),this.resolver.resolveSignIn(p))}}class Uo{constructor(p){this._delegate=p,this.multiFactor=function ju(y){const p=(0,N.m9)(y);return oa.has(p)||oa.set(p,ws._fromUser(p)),oa.get(p)}(p)}static getOrCreate(p){return Uo.USER_MAP.has(p)||Uo.USER_MAP.set(p,new Uo(p)),Uo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,a.Z)(function*(){return ki(g.auth,Ar(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,a.Z)(function*(){return Ih(w.auth,function Ac(y,p,g){return ua.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,a.Z)(function*(){return ki(g.auth,function Qr(y,p,g){return Ol.apply(this,arguments)}(g._delegate,p,vr))})()}linkWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Ka(Ne(g.auth)),function Qe(y,p,g){return function Tt(y,p,g){return Rt.apply(this,arguments)}(y,p,g)}(g._delegate,p,vr)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,a.Z)(function*(){return ki(g.auth,Xs(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Ih(this.auth,function Yp(y,p,g){return Mc.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return ki(this.auth,function ko(y,p,g){return Rl.apply(this,arguments)}(this._delegate,p,vr))}reauthenticateWithRedirect(p){var g=this;return(0,a.Z)(function*(){return yield Ka(Ne(g.auth)),function ne(y,p,g){return function Ae(y,p,g){return Me.apply(this,arguments)}(y,p,g)}(g._delegate,p,vr)})()}sendEmailVerification(p){return function Mr(y,p){return mc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,a.Z)(function*(){return yield function La(y,p){return lc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function yc(y,p){return vc((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Lu(y,p){return vc((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function kc(y,p){return Is.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function sa(y,p){return _c.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Sl(y,p,g){return xl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Uo.USER_MAP=new WeakMap;const Kc=ie;let xh=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Kc(S,"invalid-api-key",{appName:g.name}),Kc(S,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?vr:void 0;this._delegate=w.initialize({options:{persistence:O_(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function mn(y,p,g){const w=Ne(y);ie(w._canInitEmulator,w,"emulator-config-failed"),ie(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),R=gi(p),{host:q,port:oe}=function zs(y){const p=gi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const R=S[1];return{host:R,port:Gn(w.substr(R.length+1))}}{const[R,q]=w.split(":");return{host:R,port:Gn(q)}}}(p);w.config.emulator={url:`${R}//${q}${null===oe?"":`:${oe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:oe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Wr(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function uc(y,p){return De.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Bt(this._delegate,g)}confirmPasswordReset(g,w){return function Dl(y,p,g){return cc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,a.Z)(function*(){return ki(S._delegate,function ra(y,p,g){return ir.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Il(y,p){return io.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function pc(y,p){const g=Eo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Kc(Zc(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function St(y,p){return Wn.apply(this,arguments)}(g._delegate,vr);return w?ki(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function im(y,p){Ne(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:R,error:q,complete:oe}=Ah(g,w,S);return this._delegate.onAuthStateChanged(R,q,oe)}onIdTokenChanged(g,w,S){const{next:R,error:q,complete:oe}=Ah(g,w,S);return this._delegate.onIdTokenChanged(R,q,oe)}sendSignInLinkToEmail(g,w){return function fc(y,p,g){return Fu.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Cl(y,p,g){return El.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,a.Z)(function*(){let S;switch(function sm(y,p){Ya(Object.values(Vr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Ya(p!==Vr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Ya(p===Vr.NONE,y,"unsupported-persistence-type"):Bo()?Ya(p===Vr.NONE||p===Vr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Ya(p===Vr.NONE||Mi(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Vr.SESSION:S=lt;break;case Vr.LOCAL:S=(yield se(rr)._isAvailable())?rr:jn;break;case Vr.NONE:S=z;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ki(this._delegate,function _l(y){return Pu.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ki(this._delegate,Hn(this._delegate,g))}signInWithCustomToken(g){return ki(this._delegate,function eo(y,p){return to.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return ki(this._delegate,function hc(y,p,g){return Hn((0,N.m9)(y),ac.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return ki(this._delegate,function Tl(y,p,g){return no.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Ih(this._delegate,function kl(y,p,g){return Mn.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,a.Z)(function*(){return Kc(Zc(),w._delegate,"operation-not-supported-in-this-environment"),ki(w._delegate,function ho(y,p,g){return Yu.apply(this,arguments)}(w._delegate,g,vr))})()}signInWithRedirect(g){var w=this;return(0,a.Z)(function*(){return Kc(Zc(),w._delegate,"operation-not-supported-in-this-environment"),yield Ka(w._delegate),function k(y,p,g){return function L(y,p,g){return Z.apply(this,arguments)}(y,p,g)}(w._delegate,g,vr)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Cn(y,p){return ia.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Vr,y})();function Ah(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const S=w;return{next:q=>S(q&&Uo.getOrCreate(q)),error:p,complete:g}}function O_(y,p){const g=function om(y,p){const g=Yc();if(!g)return[];const w=ue(Dh,y,p);switch(g.getItem(w)){case Vr.NONE:return[z];case Vr.LOCAL:return[rr,lt];case Vr.SESSION:return[lt];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(rr)&&g.push(rr),"undefined"!=typeof window)for(const w of[jn,lt])g.includes(w)||g.push(w);return g.includes(z)||g.push(z),g}class Mh{constructor(){this.providerId="phone",this._delegate=new Nr(am(K.Z.auth()))}static credential(p,g){return Nr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Mh.PHONE_SIGN_IN_METHOD=Nr.PHONE_SIGN_IN_METHOD,Mh.PROVIDER_ID=Nr.PROVIDER_ID;const P_=ie;class N_{constructor(p,g,w=K.Z.app()){var S;P_(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new sh(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function cm(y){y.INTERNAL.registerComponent(new Q.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new xh(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ac,FacebookAuthProvider:Do,GithubAuthProvider:Ou,GoogleAuthProvider:Fa,OAuthProvider:ta,SAMLAuthProvider:hr,PhoneAuthProvider:Mh,PhoneMultiFactorGenerator:Jp,RecaptchaVerifier:N_,TwitterAuthProvider:ml,Auth:xh,AuthCredential:sn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(K.Z)},8306:(at,Te,P)=>{P.d(Te,{y:()=>G});var a=P(930),K=P(727),N=P(8822),ae=P(4671);var Q=P(2416),he=P(576),ce=P(2806);let G=(()=>{class xe{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const fe=new xe;return fe.source=this,fe.operator=Ve,fe}subscribe(Ve,fe,we){const Xe=function qe(xe){return xe&&xe instanceof a.Lv||function X(xe){return xe&&(0,he.m)(xe.next)&&(0,he.m)(xe.error)&&(0,he.m)(xe.complete)}(xe)&&(0,K.Nn)(xe)}(Ve)?Ve:new a.Hp(Ve,fe,we);return(0,ce.x)(()=>{const{operator:Ze,source:Ie}=this;Xe.add(Ze?Ze.call(Xe,Ie):Ie?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(fe){Ve.error(fe)}}forEach(Ve,fe){return new(fe=$(fe))((we,Xe)=>{const Ze=new a.Hp({next:Ie=>{try{Ve(Ie)}catch(ye){Xe(ye),Ze.unsubscribe()}},error:Xe,complete:we});this.subscribe(Ze)})}_subscribe(Ve){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Ve)}[N.L](){return this}pipe(...Ve){return function me(xe){return 0===xe.length?ae.y:1===xe.length?xe[0]:function(Ve){return xe.reduce((fe,we)=>we(fe),Ve)}}(Ve)(this)}toPromise(Ve){return new(Ve=$(Ve))((fe,we)=>{let Xe;this.subscribe(Ze=>Xe=Ze,Ze=>we(Ze),()=>fe(Xe))})}}return xe.create=Pe=>new xe(Pe),xe})();function $(xe){var Pe;return null!==(Pe=null!=xe?xe:Q.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(at,Te,P)=>{P.d(Te,{x:()=>Q});var a=P(8306),K=P(727);const ae=(0,P(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=P(8737),me=P(2806);let Q=(()=>{class ce extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const X=new he(this,this);return X.operator=$,X}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next($)}})}error($){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:X}=this;for(;X.length;)X.shift().error($)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:X,isStopped:qe,observers:xe}=this;return X||qe?K.Lc:(this.currentObservers=null,xe.push($),new K.w0(()=>{this.currentObservers=null,(0,te.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:X,thrownError:qe,isStopped:xe}=this;X?$.error(qe):xe&&$.complete()}asObservable(){const $=new a.y;return $.source=this,$}}return ce.create=(G,$)=>new he(G,$),ce})();class he extends Q{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===X||X.call($,G)}error(G){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===X||X.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,X;return null!==(X=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==X?X:K.Lc}}},930:(at,Te,P)=>{P.d(Te,{Hp:()=>Ve,Lv:()=>X});var a=P(576),K=P(727),N=P(2416),ae=P(7849),te=P(5032);const me=ce("C",void 0,void 0);function ce(Ie,ye,be){return{kind:Ie,value:ye,error:be}}var G=P(3410),$=P(2806);class X extends K.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,K.Nn)(ye)&&ye.add(this)):this.destination=Ze}static create(ye,be,Ge){return new Ve(ye,be,Ge)}next(ye){this.isStopped?Xe(function he(Ie){return ce("N",Ie,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Xe(function Q(Ie){return ce("E",void 0,Ie)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Xe(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const qe=Function.prototype.bind;function xe(Ie,ye){return qe.call(Ie,ye)}class Pe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:be}=this;if(be.next)try{be.next(ye)}catch(Ge){fe(Ge)}}error(ye){const{partialObserver:be}=this;if(be.error)try{be.error(ye)}catch(Ge){fe(Ge)}else fe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(be){fe(be)}}}class Ve extends X{constructor(ye,be,Ge){let je;if(super(),(0,a.m)(ye)||!ye)je={next:null!=ye?ye:void 0,error:null!=be?be:void 0,complete:null!=Ge?Ge:void 0};else{let ie;this&&N.v.useDeprecatedNextContext?(ie=Object.create(ye),ie.unsubscribe=()=>this.unsubscribe(),je={next:ye.next&&xe(ye.next,ie),error:ye.error&&xe(ye.error,ie),complete:ye.complete&&xe(ye.complete,ie)}):je=ye}this.destination=new Pe(je)}}function fe(Ie){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ie):(0,ae.h)(Ie)}function Xe(Ie,ye){const{onStoppedNotification:be}=N.v;be&&G.z.setTimeout(()=>be(Ie,ye))}const Ze={closed:!0,next:te.Z,error:function we(Ie){throw Ie},complete:te.Z}},727:(at,Te,P)=>{P.d(Te,{Lc:()=>me,w0:()=>te,Nn:()=>Q});var a=P(576);const N=(0,P(3888).d)(ce=>function($){ce(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((X,qe)=>`${qe+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=P(8737);class te{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:X}=this;if((0,a.m)(X))try{X()}catch(xe){G=xe instanceof N?xe.errors:[xe]}const{_finalizers:qe}=this;if(qe){this._finalizers=null;for(const xe of qe)try{he(xe)}catch(Pe){G=null!=G?G:[],Pe instanceof N?G=[...G,...Pe.errors]:G.push(Pe)}}if(G)throw new N(G)}}add(G){var $;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof te){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,ae.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,ae.P)($,G),G instanceof te&&G._removeParent(this)}}te.EMPTY=(()=>{const ce=new te;return ce.closed=!0,ce})();const me=te.EMPTY;function Q(ce){return ce instanceof te||ce&&"closed"in ce&&(0,a.m)(ce.remove)&&(0,a.m)(ce.add)&&(0,a.m)(ce.unsubscribe)}function he(ce){(0,a.m)(ce)?ce():ce.unsubscribe()}},2416:(at,Te,P)=>{P.d(Te,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Te,P)=>{P.d(Te,{E:()=>K});const K=new(P(8306).y)(te=>te.complete())},8996:(at,Te,P)=>{P.d(Te,{D:()=>ye});var a=P(8421),K=P(5363),N=P(9468),me=P(8306),he=P(2202),ce=P(576),G=P(9672);function X(be,Ge){if(!be)throw new Error("Iterable cannot be null");return new me.y(je=>{(0,G.f)(je,Ge,()=>{const ie=be[Symbol.asyncIterator]();(0,G.f)(je,Ge,()=>{ie.next().then(W=>{W.done?je.complete():je.next(W.value)})},0,!0)})})}var qe=P(3670),xe=P(8239),Pe=P(1144),Ve=P(6495),fe=P(2206),we=P(4532),Xe=P(3260);function ye(be,Ge){return Ge?function Ie(be,Ge){if(null!=be){if((0,qe.c)(be))return function ae(be,Ge){return(0,a.Xf)(be).pipe((0,N.R)(Ge),(0,K.Q)(Ge))}(be,Ge);if((0,Pe.z)(be))return function Q(be,Ge){return new me.y(je=>{let ie=0;return Ge.schedule(function(){ie===be.length?je.complete():(je.next(be[ie++]),je.closed||this.schedule())})})}(be,Ge);if((0,xe.t)(be))return function te(be,Ge){return(0,a.Xf)(be).pipe((0,N.R)(Ge),(0,K.Q)(Ge))}(be,Ge);if((0,fe.D)(be))return X(be,Ge);if((0,Ve.T)(be))return function $(be,Ge){return new me.y(je=>{let ie;return(0,G.f)(je,Ge,()=>{ie=be[he.h](),(0,G.f)(je,Ge,()=>{let W,re;try{({value:W,done:re}=ie.next())}catch(ge){return void je.error(ge)}re?je.complete():je.next(W)},0,!0)}),()=>(0,ce.m)(null==ie?void 0:ie.return)&&ie.return()})}(be,Ge);if((0,Xe.L)(be))return function Ze(be,Ge){return X((0,Xe.Q)(be),Ge)}(be,Ge)}throw(0,we.z)(be)}(be,Ge):(0,a.Xf)(be)}},8421:(at,Te,P)=>{P.d(Te,{Xf:()=>qe});var a=P(655),K=P(1144),N=P(8239),ae=P(8306),te=P(3670),me=P(2206),Q=P(4532),he=P(6495),ce=P(3260),G=P(576),$=P(7849),X=P(8822);function qe(Ie){if(Ie instanceof ae.y)return Ie;if(null!=Ie){if((0,te.c)(Ie))return function xe(Ie){return new ae.y(ye=>{const be=Ie[X.L]();if((0,G.m)(be.subscribe))return be.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ie);if((0,K.z)(Ie))return function Pe(Ie){return new ae.y(ye=>{for(let be=0;be<Ie.length&&!ye.closed;be++)ye.next(Ie[be]);ye.complete()})}(Ie);if((0,N.t)(Ie))return function Ve(Ie){return new ae.y(ye=>{Ie.then(be=>{ye.closed||(ye.next(be),ye.complete())},be=>ye.error(be)).then(null,$.h)})}(Ie);if((0,me.D)(Ie))return we(Ie);if((0,he.T)(Ie))return function fe(Ie){return new ae.y(ye=>{for(const be of Ie)if(ye.next(be),ye.closed)return;ye.complete()})}(Ie);if((0,ce.L)(Ie))return function Xe(Ie){return we((0,ce.Q)(Ie))}(Ie)}throw(0,Q.z)(Ie)}function we(Ie){return new ae.y(ye=>{(function Ze(Ie,ye){var be,Ge,je,ie;return(0,a.mG)(this,void 0,void 0,function*(){try{for(be=(0,a.KL)(Ie);!(Ge=yield be.next()).done;)if(ye.next(Ge.value),ye.closed)return}catch(W){je={error:W}}finally{try{Ge&&!Ge.done&&(ie=be.return)&&(yield ie.call(be))}finally{if(je)throw je.error}}ye.complete()})})(Ie,ye).catch(be=>ye.error(be))})}},6451:(at,Te,P)=>{P.d(Te,{T:()=>me});var a=P(8189),K=P(8421),N=P(515),ae=P(3269),te=P(8996);function me(...Q){const he=(0,ae.yG)(Q),ce=(0,ae._6)(Q,1/0),G=Q;return G.length?1===G.length?(0,K.Xf)(G[0]):(0,a.J)(ce)((0,te.D)(G,he)):N.E}},5403:(at,Te,P)=>{P.d(Te,{x:()=>K});var a=P(930);function K(ae,te,me,Q,he){return new N(ae,te,me,Q,he)}class N extends a.Lv{constructor(te,me,Q,he,ce,G){super(te),this.onFinalize=ce,this.shouldUnsubscribe=G,this._next=me?function($){try{me($)}catch(X){te.error(X)}}:super._next,this._error=he?function($){try{he($)}catch(X){te.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch($){te.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(at,Te,P)=>{P.d(Te,{U:()=>N});var a=P(4482),K=P(5403);function N(ae,te){return(0,a.e)((me,Q)=>{let he=0;me.subscribe((0,K.x)(Q,ce=>{Q.next(ae.call(te,ce,he++))}))})}},8189:(at,Te,P)=>{P.d(Te,{J:()=>N});var a=P(5577),K=P(4671);function N(ae=1/0){return(0,a.z)(K.y,ae)}},5577:(at,Te,P)=>{P.d(Te,{z:()=>he});var a=P(4004),K=P(8421),N=P(4482),ae=P(9672),te=P(5403),Q=P(576);function he(ce,G,$=1/0){return(0,Q.m)(G)?he((X,qe)=>(0,a.U)((xe,Pe)=>G(X,xe,qe,Pe))((0,K.Xf)(ce(X,qe))),$):("number"==typeof G&&($=G),(0,N.e)((X,qe)=>function me(ce,G,$,X,qe,xe,Pe,Ve){const fe=[];let we=0,Xe=0,Ze=!1;const Ie=()=>{Ze&&!fe.length&&!we&&G.complete()},ye=Ge=>we<X?be(Ge):fe.push(Ge),be=Ge=>{xe&&G.next(Ge),we++;let je=!1;(0,K.Xf)($(Ge,Xe++)).subscribe((0,te.x)(G,ie=>{null==qe||qe(ie),xe?ye(ie):G.next(ie)},()=>{je=!0},void 0,()=>{if(je)try{for(we--;fe.length&&we<X;){const ie=fe.shift();Pe?(0,ae.f)(G,Pe,()=>be(ie)):be(ie)}Ie()}catch(ie){G.error(ie)}}))};return ce.subscribe((0,te.x)(G,ye,()=>{Ze=!0,Ie()})),()=>{null==Ve||Ve()}}(X,qe,ce,$)))}},5363:(at,Te,P)=>{P.d(Te,{Q:()=>ae});var a=P(9672),K=P(4482),N=P(5403);function ae(te,me=0){return(0,K.e)((Q,he)=>{Q.subscribe((0,N.x)(he,ce=>(0,a.f)(he,te,()=>he.next(ce),me),()=>(0,a.f)(he,te,()=>he.complete(),me),ce=>(0,a.f)(he,te,()=>he.error(ce),me)))})}},3099:(at,Te,P)=>{P.d(Te,{B:()=>me});var a=P(8996),K=P(5698),N=P(7579),ae=P(930),te=P(4482);function me(he={}){const{connector:ce=(()=>new N.x),resetOnError:G=!0,resetOnComplete:$=!0,resetOnRefCountZero:X=!0}=he;return qe=>{let xe=null,Pe=null,Ve=null,fe=0,we=!1,Xe=!1;const Ze=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Ie=()=>{Ze(),xe=Ve=null,we=Xe=!1},ye=()=>{const be=xe;Ie(),null==be||be.unsubscribe()};return(0,te.e)((be,Ge)=>{fe++,!Xe&&!we&&Ze();const je=Ve=null!=Ve?Ve:ce();Ge.add(()=>{fe--,0===fe&&!Xe&&!we&&(Pe=Q(ye,X))}),je.subscribe(Ge),xe||(xe=new ae.Hp({next:ie=>je.next(ie),error:ie=>{Xe=!0,Ze(),Pe=Q(Ie,G,ie),je.error(ie)},complete:()=>{we=!0,Ze(),Pe=Q(Ie,$),je.complete()}}),(0,a.D)(be).subscribe(xe))})(qe)}}function Q(he,ce,...G){return!0===ce?(he(),null):!1===ce?null:ce(...G).pipe((0,K.q)(1)).subscribe(()=>he())}},9468:(at,Te,P)=>{P.d(Te,{R:()=>K});var a=P(4482);function K(N,ae=0){return(0,a.e)((te,me)=>{me.add(N.schedule(()=>te.subscribe(me),ae))})}},5698:(at,Te,P)=>{P.d(Te,{q:()=>ae});var a=P(515),K=P(4482),N=P(5403);function ae(te){return te<=0?()=>a.E:(0,K.e)((me,Q)=>{let he=0;me.subscribe((0,N.x)(Q,ce=>{++he<=te&&(Q.next(ce),te<=he&&Q.complete())}))})}},8505:(at,Te,P)=>{P.d(Te,{b:()=>te});var a=P(576),K=P(4482),N=P(5403),ae=P(4671);function te(me,Q,he){const ce=(0,a.m)(me)||Q||he?{next:me,error:Q,complete:he}:me;return ce?(0,K.e)((G,$)=>{var X;null===(X=ce.subscribe)||void 0===X||X.call(ce);let qe=!0;G.subscribe((0,N.x)($,xe=>{var Pe;null===(Pe=ce.next)||void 0===Pe||Pe.call(ce,xe),$.next(xe)},()=>{var xe;qe=!1,null===(xe=ce.complete)||void 0===xe||xe.call(ce),$.complete()},xe=>{var Pe;qe=!1,null===(Pe=ce.error)||void 0===Pe||Pe.call(ce,xe),$.error(xe)},()=>{var xe,Pe;qe&&(null===(xe=ce.unsubscribe)||void 0===xe||xe.call(ce)),null===(Pe=ce.finalize)||void 0===Pe||Pe.call(ce)}))}):ae.y}},4408:(at,Te,P)=>{P.d(Te,{o:()=>te});var a=P(727);class K extends a.w0{constructor(Q,he){super()}schedule(Q,he=0){return this}}const N={setInterval(me,Q,...he){const{delegate:ce}=N;return(null==ce?void 0:ce.setInterval)?ce.setInterval(me,Q,...he):setInterval(me,Q,...he)},clearInterval(me){const{delegate:Q}=N;return((null==Q?void 0:Q.clearInterval)||clearInterval)(me)},delegate:void 0};var ae=P(8737);class te extends K{constructor(Q,he){super(Q,he),this.scheduler=Q,this.work=he,this.pending=!1}schedule(Q,he=0){if(this.closed)return this;this.state=Q;const ce=this.id,G=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(G,ce,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(G,this.id,he),this}requestAsyncId(Q,he,ce=0){return N.setInterval(Q.flush.bind(Q,this),ce)}recycleAsyncId(Q,he,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return he;N.clearInterval(he)}execute(Q,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(Q,he);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,he){let G,ce=!1;try{this.work(Q)}catch($){ce=!0,G=$||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:Q,scheduler:he}=this,{actions:ce}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=Q&&(this.id=this.recycleAsyncId(he,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Te,P)=>{P.d(Te,{v:()=>N});var a=P(6063);class K{constructor(te,me=K.now){this.schedulerActionCtor=te,this.now=me}schedule(te,me=0,Q){return new this.schedulerActionCtor(this,te).schedule(Q,me)}}K.now=a.l.now;class N extends K{constructor(te,me=K.now){super(te,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:me}=this;if(this._active)return void me.push(te);let Q;this._active=!0;do{if(Q=te.execute(te.state,te.delay))break}while(te=me.shift());if(this._active=!1,Q){for(;te=me.shift();)te.unsubscribe();throw Q}}}},4986:(at,Te,P)=>{P.d(Te,{P:()=>ae,z:()=>N});var a=P(4408);const N=new(P(7565).v)(a.o),ae=N},6063:(at,Te,P)=>{P.d(Te,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(at,Te,P)=>{P.d(Te,{z:()=>a});const a={setTimeout(K,N,...ae){const{delegate:te}=a;return(null==te?void 0:te.setTimeout)?te.setTimeout(K,N,...ae):setTimeout(K,N,...ae)},clearTimeout(K){const{delegate:N}=a;return((null==N?void 0:N.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(at,Te,P)=>{P.d(Te,{h:()=>K});const K=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Te,P)=>{P.d(Te,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,Te,P)=>{P.d(Te,{_6:()=>me,jO:()=>ae,yG:()=>te});var a=P(576),K=P(3532);function N(Q){return Q[Q.length-1]}function ae(Q){return(0,a.m)(N(Q))?Q.pop():void 0}function te(Q){return(0,K.K)(N(Q))?Q.pop():void 0}function me(Q,he){return"number"==typeof N(Q)?Q.pop():he}},8737:(at,Te,P)=>{function a(K,N){if(K){const ae=K.indexOf(N);0<=ae&&K.splice(ae,1)}}P.d(Te,{P:()=>a})},3888:(at,Te,P)=>{function a(K){const ae=K(te=>{Error.call(te),te.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(Te,{d:()=>a})},2806:(at,Te,P)=>{P.d(Te,{O:()=>ae,x:()=>N});var a=P(2416);let K=null;function N(te){if(a.v.useDeprecatedSynchronousErrorHandling){const me=!K;if(me&&(K={errorThrown:!1,error:null}),te(),me){const{errorThrown:Q,error:he}=K;if(K=null,Q)throw he}}else te()}function ae(te){a.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=te)}},9672:(at,Te,P)=>{function a(K,N,ae,te=0,me=!1){const Q=N.schedule(function(){ae(),me?K.add(this.schedule(null,te)):this.unsubscribe()},te);if(K.add(Q),!me)return Q}P.d(Te,{f:()=>a})},4671:(at,Te,P)=>{function a(K){return K}P.d(Te,{y:()=>a})},1144:(at,Te,P)=>{P.d(Te,{z:()=>a});const a=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(at,Te,P)=>{P.d(Te,{D:()=>K});var a=P(576);function K(N){return Symbol.asyncIterator&&(0,a.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(at,Te,P)=>{function a(K){return"function"==typeof K}P.d(Te,{m:()=>a})},3670:(at,Te,P)=>{P.d(Te,{c:()=>N});var a=P(8822),K=P(576);function N(ae){return(0,K.m)(ae[a.L])}},6495:(at,Te,P)=>{P.d(Te,{T:()=>N});var a=P(2202),K=P(576);function N(ae){return(0,K.m)(null==ae?void 0:ae[a.h])}},8239:(at,Te,P)=>{P.d(Te,{t:()=>K});var a=P(576);function K(N){return(0,a.m)(null==N?void 0:N.then)}},3260:(at,Te,P)=>{P.d(Te,{L:()=>ae,Q:()=>N});var a=P(655),K=P(576);function N(te){return(0,a.FC)(this,arguments,function*(){const Q=te.getReader();try{for(;;){const{value:he,done:ce}=yield(0,a.qq)(Q.read());if(ce)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(he)}}finally{Q.releaseLock()}})}function ae(te){return(0,K.m)(null==te?void 0:te.getReader)}},3532:(at,Te,P)=>{P.d(Te,{K:()=>K});var a=P(576);function K(N){return N&&(0,a.m)(N.schedule)}},4482:(at,Te,P)=>{P.d(Te,{A:()=>K,e:()=>N});var a=P(576);function K(ae){return(0,a.m)(null==ae?void 0:ae.lift)}function N(ae){return te=>{if(K(te))return te.lift(function(me){try{return ae(me,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,Te,P)=>{function a(){}P.d(Te,{Z:()=>a})},7849:(at,Te,P)=>{P.d(Te,{h:()=>N});var a=P(2416),K=P(3410);function N(ae){K.z.setTimeout(()=>{const{onUnhandledError:te}=a.v;if(!te)throw ae;te(ae)})}},4532:(at,Te,P)=>{function a(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Te,{z:()=>a})},655:(at,Te,P)=>{function ae(W,re){var ge={};for(var se in W)Object.prototype.hasOwnProperty.call(W,se)&&re.indexOf(se)<0&&(ge[se]=W[se]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(se=Object.getOwnPropertySymbols(W);Oe<se.length;Oe++)re.indexOf(se[Oe])<0&&Object.prototype.propertyIsEnumerable.call(W,se[Oe])&&(ge[se[Oe]]=W[se[Oe]])}return ge}function he(W,re,ge,se){return new(ge||(ge=Promise))(function(le,It){function Xt(vt){try{dt(se.next(vt))}catch(dn){It(dn)}}function Vn(vt){try{dt(se.throw(vt))}catch(dn){It(dn)}}function dt(vt){vt.done?le(vt.value):function Oe(le){return le instanceof ge?le:new ge(function(It){It(le)})}(vt.value).then(Xt,Vn)}dt((se=se.apply(W,re||[])).next())})}function fe(W){return this instanceof fe?(this.v=W,this):new fe(W)}function we(W,re,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,se=ge.apply(W,re||[]),le=[];return Oe={},It("next"),It("throw"),It("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function It(hn){se[hn]&&(Oe[hn]=function(xr){return new Promise(function(rn,us){le.push([hn,xr,rn,us])>1||Xt(hn,xr)})})}function Xt(hn,xr){try{!function Vn(hn){hn.value instanceof fe?Promise.resolve(hn.value.v).then(dt,vt):dn(le[0][2],hn)}(se[hn](xr))}catch(rn){dn(le[0][3],rn)}}function dt(hn){Xt("next",hn)}function vt(hn){Xt("throw",hn)}function dn(hn,xr){hn(xr),le.shift(),le.length&&Xt(le[0][0],le[0][1])}}function Ze(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,re=W[Symbol.asyncIterator];return re?re.call(W):(W=function X(W){var re="function"==typeof Symbol&&Symbol.iterator,ge=re&&W[re],se=0;if(ge)return ge.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&se>=W.length&&(W=void 0),{value:W&&W[se++],done:!W}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ge={},se("next"),se("throw"),se("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function se(le){ge[le]=W[le]&&function(It){return new Promise(function(Xt,Vn){!function Oe(le,It,Xt,Vn){Promise.resolve(Vn).then(function(dt){le({value:dt,done:Xt})},It)}(Xt,Vn,(It=W[le](It)).done,It.value)})}}}P.d(Te,{FC:()=>we,KL:()=>Ze,_T:()=>ae,mG:()=>he,qq:()=>fe})},5e3:(at,Te,P)=>{P.d(Te,{$8M:()=>Pn,$Z:()=>gw,AFp:()=>mg,AaK:()=>he,B6R:()=>j,BQk:()=>Vm,CHM:()=>dc,CRH:()=>vv,CZH:()=>Av,CqO:()=>CI,EJc:()=>ix,EiD:()=>qc,EpF:()=>_w,F$t:()=>nu,F4k:()=>wI,FYo:()=>Rf,FiY:()=>yr,G48:()=>ol,Gf:()=>yv,GfV:()=>iv,GkF:()=>Dy,Gpc:()=>$,Gre:()=>Ww,Hsn:()=>Ew,Ikx:()=>zm,JOm:()=>oe,JVY:()=>dh,L6k:()=>id,LAX:()=>Xp,LFG:()=>Qe,LSH:()=>Ll,Lbi:()=>QC,MAs:()=>rI,NdJ:()=>vw,OlP:()=>Nn,Oqu:()=>Py,PXZ:()=>dx,Q6J:()=>Cy,QGY:()=>yw,Qsj:()=>DS,R0b:()=>Ia,RDi:()=>ys,Rgc:()=>Md,SBq:()=>Sd,Sil:()=>JC,Suo:()=>NC,TTD:()=>Do,TgZ:()=>Pm,Udp:()=>Hm,VKq:()=>lv,VLi:()=>rE,W1O:()=>Bf,WFA:()=>bw,WLB:()=>NS,X6Q:()=>mx,XFs:()=>ht,Xpm:()=>Vt,Y36:()=>uf,YKP:()=>Gi,YNc:()=>iI,Yjl:()=>Ei,Yz7:()=>rn,ZZ4:()=>Tg,_Bn:()=>vC,_UZ:()=>Fm,_Vd:()=>nl,_c5:()=>_x,_uU:()=>Vw,aQg:()=>Od,c2e:()=>tx,cJS:()=>en,cg1:()=>pf,d8E:()=>Xw,dDg:()=>yg,deG:()=>qp,dqk:()=>$t,eBb:()=>Jp,eFA:()=>Nv,ekj:()=>su,f3M:()=>Rt,g9A:()=>Yl,h0i:()=>xd,hGG:()=>Wv,hij:()=>Gm,iGM:()=>_v,ifc:()=>Zt,ip1:()=>XS,kL8:()=>mf,lG2:()=>Qt,mCW:()=>qa,n5z:()=>Wu,n_E:()=>Nf,oAB:()=>J,oxw:()=>ww,pB0:()=>rd,q3G:()=>tn,q4F:()=>CC,qLn:()=>ki,qOj:()=>aw,qZA:()=>Nm,qzn:()=>Vo,sBO:()=>wg,sIi:()=>km,s_b:()=>lg,soG:()=>gg,tBr:()=>Ui,tb:()=>Rv,tp0:()=>Po,uIk:()=>uw,vHH:()=>Pe,vpe:()=>il,wAp:()=>yt,xp6:()=>cT,yhl:()=>za,ynx:()=>Lm,z2F:()=>lE,z3N:()=>xs,zSh:()=>my,zs3:()=>el});var a=P(7579),K=P(727),N=P(8306),ae=P(6451),te=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function Q(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function $(s){return s.__forward_ref__=$,s.toString=function(){return he(this())},s}function X(s){return qe(s)?s():s}function qe(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}class Pe extends Error{constructor(o,c){super(function Ve(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ye(s,o){const c=o?` in ${o}`:"";throw new Pe(-201,`No provider for ${we(s)} found${c}`)}function dt(s,o){null==s&&function vt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function en(s){return{providers:s.providers||[],imports:s.imports||[]}}function Wt(s){return fi(s,zr)||fi(s,ds)}function fi(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ni(s){return s&&(s.hasOwnProperty(Fi)||s.hasOwnProperty(hs))?s[Fi]:null}const zr=me({\u0275prov:me}),Fi=me({\u0275inj:me}),ds=me({ngInjectableDef:me}),hs=me({ngInjectorDef:me});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Qi;function Jn(s){const o=Qi;return Qi=s,o}function ur(s,o,c){const d=Wt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ht.Optional?null:void 0!==o?o:void ye(he(s),"Injector")}function wn(s){return{toString:s}.toString()}var ci=(()=>((ci=ci||{})[ci.OnPush=0]="OnPush",ci[ci.Default=1]="Default",ci))(),Zt=(()=>{return(s=Zt||(Zt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Zt;var s})();const st="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,pi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=st||"undefined"!=typeof global&&global||Et||pi,mi={},mt=[],Ci=me({\u0275cmp:me}),Ut=me({\u0275dir:me}),Ye=me({\u0275pipe:me}),Se=me({\u0275mod:me}),Ke=me({\u0275fac:me}),gt=me({__NG_ELEMENT_ID__:me});let Ht=0;function Vt(s){return wn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ci.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Zt.Emulated,id:"c",styles:s.styles||mt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=Ht++,d.inputs=bt(s.inputs,c),d.outputs=bt(s.outputs),m&&m.forEach(C=>C(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(B):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(z):null,d})}function j(s,o,c){const d=s.\u0275cmp;d.directiveDefs=()=>o.map(B),d.pipeDefs=()=>c.map(z)}function B(s){return Yt(s)||function kn(s){return s[Ut]||null}(s)}function z(s){return function Pt(s){return s[Ye]||null}(s)}const ue={};function J(s){return wn(()=>{const o={type:s.type,bootstrap:s.bootstrap||mt,declarations:s.declarations||mt,imports:s.imports||mt,exports:s.exports||mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ue[s.id]=s.type),o})}function bt(s,o){if(null==s)return mi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,o&&(o[h]=m)}return c}const Qt=Vt;function Ei(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Yt(s){return s[Ci]||null}function pn(s,o){const c=s[Se]||null;if(!c&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return c}function Ji(s){return Array.isArray(s)&&"object"==typeof s[1]}function Li(s){return Array.isArray(s)&&!0===s[1]}function sc(s){return 0!=(8&s.flags)}function Zs(s){return 2==(2&s.flags)}function hl(s){return 1==(1&s.flags)}function Xi(s){return null!==s.template}function Su(s){return 0!=(512&s[2])}function er(s,o){return s.hasOwnProperty(Ke)?s[Ke]:null}class ta{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Do(){return Fa}function Fa(s){return s.type.prototype.ngOnChanges&&(s.setInput=Gp),Ou}function Ou(){const s=Qs(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===mi)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Gp(s,o,c,d){const h=Qs(s)||function hr(s,o){return s[tr]=o}(s,{previous:mi,current:null}),m=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[c],E=v[C];m[C]=new ta(E&&E.currentValue,o,v===mi),s[d]=o}Do.ngInherit=!0;const tr="__ngSimpleChanges__";function Qs(s){return s[tr]||null}let vl;function ys(s){vl=s}function gn(s){return!!s.listen}const na={createRenderer:(s,o)=>function La(){return void 0!==vl?vl:"undefined"!=typeof document?document:void 0}()};function an(s){for(;Array.isArray(s);)s=s[0];return s}function Io(s,o){return an(o[s])}function Di(s,o){return an(o[s.index])}function Va(s,o){return s.data[o]}function Ti(s,o){const c=o[s];return Ji(c)?c:c[0]}function Xs(s){return 4==(4&s[2])}function vs(s){return 128==(128&s[2])}function nr(s,o){return null==o?null:s[o]}function eo(s){s[18]=0}function to(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const _t={lFrame:xo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Dl(){return _t.bindingsEnabled}function De(){return _t.lFrame.lView}function Bt(){return _t.lFrame.tView}function dc(s){return _t.lFrame.contextLView=s,s[8]}function Cn(){let s=ia();for(;null!==s&&64===s.type;)s=s.parent;return s}function ia(){return _t.lFrame.currentTNode}function ir(s,o){const c=_t.lFrame;c.currentTNode=s,c.isParent=o}function hc(){return _t.lFrame.isParent}function fc(){_t.lFrame.isParent=!1}function Tl(){return _t.isInCheckNoChangesMode}function no(s){_t.isInCheckNoChangesMode=s}function yi(){const s=_t.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function io(){return _t.lFrame.bindingIndex++}function Mr(s){const o=_t.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function xl(s,o){const c=_t.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ua(o)}function Ua(s){_t.lFrame.currentDirectiveIndex=s}function sa(s){const o=_t.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function _c(){return _t.lFrame.currentQueryIndex}function yc(s){_t.lFrame.currentQueryIndex=s}function Lu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function vc(s,o,c){if(c&ht.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||c&ht.Host||(h=Lu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=_t.lFrame=Vu();return d.currentTNode=o,d.lView=s,!0}function So(s){const o=Vu(),c=s[1];_t.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Vu(){const s=_t.lFrame,o=null===s?null:s.child;return null===o?xo(s):o}function xo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Bu(){const s=_t.lFrame;return _t.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Uu=Bu;function Ao(){const s=Bu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ii(){return _t.lFrame.selectedIndex}function so(s){_t.lFrame.selectedIndex=s}function Rn(){const s=_t.lFrame;return Va(s.tView,s.selectedIndex)}function bs(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:M}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),C&&((s.contentHooks||(s.contentHooks=[])).push(c,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),x&&((s.viewHooks||(s.viewHooks=[])).push(c,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,x)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(c,M)}}function Ha(s,o,c){Hu(s,o,3,c)}function Al(s,o,c,d){(3&s[2])===c&&Hu(s,o,c,d)}function zn(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Hu(s,o,c,d){const m=null!=d?d:-1,v=o.length-1;let C=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=d&&C>=d)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&($p(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function $p(s,o,c,d){const h=c[d]<0,m=c[d+1],C=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class oa{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function et(s,o,c){const d=gn(s);let h=0;for(;h<c.length;){const m=c[h];if("number"==typeof m){if(0!==m)break;h++;const v=c[h++],C=c[h++],E=c[h++];d?s.setAttribute(o,C,E,v):o.setAttributeNS(v,C,E)}else{const v=m,C=c[++h];Si(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),h++}}return h}function lt(s){return 3===s||4===s||6===s}function Si(s){return 64===s.charCodeAt(0)}function qn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||aa(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function aa(s,o,c,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function $u(s){return-1!==s}function _n(s){return 32767&s}function kr(s,o){let c=function rh(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Ml=!0;function pr(s){const o=Ml;return Ml=s,o}let Ic=0;function En(s,o){const c=la(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Cs(d.data,s),Cs(o,null),Cs(d.blueprint,null));const h=mr(s,o),m=s.injectorIndex;if($u(h)){const v=_n(h),C=kr(h,o),E=C[1].data;for(let x=0;x<8;x++)o[m+x]=C[v+x]|E[v+x]}return o[m+8]=h,m}function Cs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function la(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function mr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function oo(s,o,c){!function Mo(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(gt)&&(d=c[gt]),null==d&&(d=c[gt]=Ic++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Rr(s,o,c){if(c&ht.Optional)return s;ye(o,"NodeInjector")}function Sc(s,o,c,d){if(c&ht.Optional&&void 0===d&&(d=null),0==(c&(ht.Self|ht.Host))){const h=s[9],m=Jn(void 0);try{return h?h.get(o,d,c&ht.Optional):ur(o,d,c&ht.Optional)}finally{Jn(m)}}return Rr(d,o,c)}function ao(s,o,c,d=ht.Default,h){if(null!==s){const m=function lo(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(gt)?s[gt]:void 0;return"number"==typeof o?o>=0?255&o:xc:o}(c);if("function"==typeof m){if(!vc(o,s,d))return d&ht.Host?Rr(h,c,d):Sc(o,c,d,h);try{const v=m(d);if(null!=v||d&ht.Optional)return v;ye(c)}finally{Uu()}}else if("number"==typeof m){let v=null,C=la(s,o),E=-1,x=d&ht.Host?o[16][6]:null;for((-1===C||d&ht.SkipSelf)&&(E=-1===C?mr(s,o):o[C+8],-1!==E&&ti(d,!1)?(v=o[1],C=_n(E),o=kr(E,o)):C=-1);-1!==C;){const M=o[1];if(Sn(m,C,M.data)){const F=qu(C,o,c,v,d,x);if(F!==Yr)return F}E=o[C+8],-1!==E&&ti(d,o[1].data[C+8]===x)&&Sn(m,C,o)?(v=M,C=_n(E),o=kr(E,o)):C=-1}}}return Sc(o,c,d,h)}const Yr={};function xc(){return new Or(Cn(),De())}function qu(s,o,c,d,h,m){const v=o[1],C=v.data[s+8],M=Es(C,v,c,null==d?Zs(C)&&Ml:d!=v&&0!=(3&C.type),h&ht.Host&&m===C);return null!==M?rr(o,v,M,C):Yr}function Es(s,o,c,d,h){const m=s.providerIndexes,v=o.data,C=1048575&m,E=s.directiveStart,M=m>>20,H=h?C+M:s.directiveEnd;for(let Y=d?C:C+M;Y<H;Y++){const _e=v[Y];if(Y<E&&c===_e||Y>=E&&_e.type===c)return Y}if(h){const Y=v[E];if(Y&&Xi(Y)&&Y.type===c)return E}return null}function rr(s,o,c,d){let h=s[c];const m=o.data;if(function ju(s){return s instanceof oa}(h)){const v=h;v.resolving&&function Xe(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${s}${c}`)}(we(m[c]));const C=pr(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Jn(v.injectImpl):null;vc(s,d,ht.Default);try{h=s[c]=v.factory(void 0,m,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Cc(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=Fa(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],o)}finally{null!==E&&Jn(E),pr(C),v.resolving=!1,Uu()}}return h}function Sn(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function ti(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Or{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return ao(this._tNode,this._lView,o,d,c)}}function Wu(s){return wn(()=>{const o=s.prototype.constructor,c=o[Ke]||xn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Ke]||xn(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function xn(s){return qe(s)?()=>{const o=xn(X(s));return o&&o()}:er(s)}function Pn(s){return function Bi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(lt(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===o)return c[h+1];h+=2}}}return null}(Cn(),s)}const ca="__parameters__";function An(s,o,c){return wn(()=>{const d=function Pr(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return C.annotation=v,C;function C(E,x,M){const F=E.hasOwnProperty(ca)?E[ca]:Object.defineProperty(E,ca,{value:[]})[ca];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(v),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Nn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=rn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const qp=new Nn("AnalyzeForEntryComponents");function Ai(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Ai(d,o)):o!==s&&o.push(d)}return o}function gr(s,o){s.forEach(c=>Array.isArray(c)?gr(c,o):o(c))}function kc(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Is(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Nr(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ni(s,o,c){let d=ho(s,o);return d>=0?s[1|d]=c:(d=~d,function Rc(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Nc(s,o){const c=ho(s,o);if(c>=0)return s[1|c]}function ho(s,o){return function ko(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<c];if(o===v)return m<<c;v>o?h=m:d=m+1}return~(h<<c)}(s,o,1)}const Ro={},da="__NG_DI_FLAG__",Pl="ngTempTokenPath",I=/\n/gm,L="__source",Z=me({provide:String,useValue:me});let ne;function Ae(s){const o=ne;return ne=s,o}function Me(s,o=ht.Default){if(void 0===ne)throw new Pe(203,"");return null===ne?ur(s,void 0,o):ne.get(s,o&ht.Optional?null:void 0,o)}function Qe(s,o=ht.Default){return(function li(){return Qi}()||Me)(X(s),o)}const Rt=Qe;function St(s){const o=[];for(let c=0;c<s.length;c++){const d=X(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Pe(900,"");let h,m=ht.Default;for(let v=0;v<d.length;v++){const C=d[v],E=Fn(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(Qe(h,m))}else o.push(Qe(d))}return o}function Wn(s,o){return s[da]=o,s.prototype[da]=o,s}function Fn(s){return s[da]}const Ui=Wn(An("Inject",s=>({token:s})),-1),yr=Wn(An("Optional"),8),Po=Wn(An("SkipSelf"),4);let Fo;function $a(s){var o;return(null===(o=function Xu(){if(void 0===Fo&&(Fo=null,$t.trustedTypes))try{Fo=$t.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Fo}())||void 0===o?void 0:o.createHTML(s))||s}class Lo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ch extends Lo{getTypeName(){return"HTML"}}class v_ extends Lo{getTypeName(){return"Style"}}class Uc extends Lo{getTypeName(){return"Script"}}class uh extends Lo{getTypeName(){return"URL"}}class b_ extends Lo{getTypeName(){return"ResourceURL"}}function xs(s){return s instanceof Lo?s.changingThisBreaksApplicationSecurity:s}function Vo(s,o){const c=za(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function za(s){return s instanceof Lo&&s.getTypeName()||null}function dh(s){return new ch(s)}function id(s){return new v_(s)}function Jp(s){return new Uc(s)}function Xp(s){return new uh(s)}function rd(s){return new b_(s)}class w_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString($a(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class C_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=$a(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=$a(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const fo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,hh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qa(s){return(s=String(s)).match(fo)||s.match(hh)?s:"unsafe:"+s}function Lr(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Hc(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const tm=Lr("area,br,col,hr,img,wbr"),sd=Lr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),od=Lr("rp,rt"),ph=Hc(tm,Hc(sd,Lr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hc(od,Lr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hc(od,sd)),mh=Lr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),gh=Lr("srcset"),pa=Hc(mh,gh,Lr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Lr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),D_=Lr("script,style,template");class Gc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!ph.hasOwnProperty(c))return this.sanitizedSomething=!0,!D_.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,C=v.toLowerCase();if(!pa.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;mh[C]&&(E=qa(E)),gh[C]&&(s=E,E=(s=String(s)).split(",").map(o=>qa(o.trim())).join(", ")),this.buf.push(" ",v,'="',yh(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();ph.hasOwnProperty(c)&&!tm.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(yh(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const $c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_h=/([^\#-~ |!])/g;function yh(s){return s.replace(/&/g,"&amp;").replace($c,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(_h,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zc;function qc(s,o){let c=null;try{zc=zc||function em(s){const o=new C_(s);return function E_(){try{return!!(new window.DOMParser).parseFromString($a(""),"text/html")}catch(s){return!1}}()?new w_(o):o}(s);let d=o?String(o):"";c=zc.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=c.innerHTML,c=zc.getInertBodyElement(d)}while(d!==m);return $a((new Gc).sanitizeChildren(vh(c)||c))}finally{if(c){const d=vh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function vh(s){return"content"in s&&function bh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var tn=(()=>((tn=tn||{})[tn.NONE=0]="NONE",tn[tn.HTML=1]="HTML",tn[tn.STYLE=2]="STYLE",tn[tn.SCRIPT=3]="SCRIPT",tn[tn.URL=4]="URL",tn[tn.RESOURCE_URL=5]="RESOURCE_URL",tn))();function Ll(s){const o=function ma(){const s=De();return s&&s[12]}();return o?o.sanitize(tn.URL,s)||"":Vo(s,"URL")?xs(s):qa(fe(s))}const Ch="__ngContext__";function Hi(s,o){s[Ch]=o}function Eh(s){const o=function Za(s){return s[Ch]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Qa(s){return s.ngOriginalError}function lm(s,...o){s.error(...o)}class ki{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function k_(s){return s&&s.ngErrorLogger||lm}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Qa(o);for(;c&&Qa(c);)c=Qa(c);return c||null}}const N_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function g(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function Je(s,o){return undefined(s,o)}function Ln(s){const o=s[3];return Li(o)?o[3]:o}function Vl(s){return kh(s[13])}function Bl(s){return kh(s[4])}function kh(s){for(;null!==s&&!Li(s);)s=s[4];return s}function ga(s,o,c,d,h){if(null!=d){let m,v=!1;Li(d)?m=d:Ji(d)&&(v=!0,d=d[0]);const C=an(d);0===s&&null!==c?null==h?G_(o,c,C):As(o,c,C,h||null,!0):1===s&&null!==c?As(o,c,C,h||null,!0):2===s?function W_(s,o,c){const d=Ph(s,o);d&&function XD(s,o,c,d){gn(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,C,v):3===s&&o.destroyNode(C),null!=m&&function ts(s,o,c,d,h){const m=c[7];m!==an(c)&&ga(o,s,d,m,h);for(let C=10;C<c.length;C++){const E=c[C];fm(E[1],E,s,o,d,m)}}(o,s,m,c,h)}}function dd(s,o,c){if(gn(s))return s.createElement(o,c);{const d=null!==c?function yl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function _0(s,o){const c=s[9],d=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,to(h,-1)),c.splice(d,1)}function U_(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&_0(h,d),o>0&&(s[c-1][4]=d[4]);const m=Is(s,10+o);!function br(s,o){fm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function H_(s,o){if(!(256&o[2])){const c=o[11];gn(c)&&c.destroyNode&&fm(s,o,c,3,null,null),function V_(s){let o=s[13];if(!o)return j_(s[1],s);for(;o;){let c=null;if(Ji(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ji(o)&&j_(o[1],o),o=o[3];null===o&&(o=s),Ji(o)&&j_(o[1],o),c=o&&o[4]}o=c}}(o)}}function j_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function v0(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof oa)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=h[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function y0(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],C="function"==typeof v?v(o):an(o[v]),E=d[h=c[m+2]],x=c[m+3];"boolean"==typeof x?C.removeEventListener(c[m],E,x):x>=0?d[h=x]():d[h=-x].unsubscribe(),m+=2}else{const v=d[h=c[m+1]];c[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(s,o),1===o[1].type&&gn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&Li(o[3])){c!==o[3]&&_0(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function dm(s,o,c){return function JD(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Zt.None||h===Zt.Emulated)return null}return Di(d,c)}(s,o.parent,c)}function As(s,o,c,d,h){gn(s)?s.insertBefore(o,c,d,h):o.insertBefore(c,d,h)}function G_(s,o,c){gn(s)?s.appendChild(o,c):o.appendChild(c)}function b0(s,o,c,d,h){null!==d?As(s,o,c,d,h):G_(s,o,c)}function Ph(s,o){return gn(s)?s.parentNode(o):o.parentNode}function w0(s,o,c){return $_(s,o,c)}let $_=function C0(s,o,c){return 40&s.type?Di(s,c):null};function hm(s,o,c,d){const h=dm(s,d,o),m=o[11],C=w0(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)b0(m,h,c[E],C,!1);else b0(m,h,c,C,!1)}function fd(s,o){if(null!==o){const c=o.type;if(3&c)return Di(o,s);if(4&c)return q_(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return fd(s,d);{const h=s[o.index];return Li(h)?q_(-1,h):an(h)}}if(32&c)return Je(o,s)()||an(s[o.index]);{const d=D0(s,o);return null!==d?Array.isArray(d)?d[0]:fd(Ln(s[16]),d):fd(s,o.next)}}return null}function D0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function q_(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return fd(d,h)}return o[7]}function Z_(s,o,c,d,h,m,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===o&&(C&&Hi(an(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)Z_(s,o,c.child,d,h,m,!1),ga(o,s,h,C,m);else if(32&E){const x=Je(c,d);let M;for(;M=x();)ga(o,s,h,M,m);ga(o,s,h,C,m)}else 16&E?zt(s,o,d,c,h,m):ga(o,s,h,C,m);c=v?c.projectionNext:c.next}}function fm(s,o,c,d,h,m){Z_(c,d,s.firstChild,o,h,m,!1)}function zt(s,o,c,d,h,m){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)ga(o,s,h,E[x],m);else Z_(s,o,E,v[3],h,m,!0)}function Y_(s,o,c){gn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function ri(s,o,c){gn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function _a(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}c=h+1}}const nT="ng-template";function K_(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==_a(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function iT(s){return 4===s.type&&s.value!==nT}function T0(s,o,c){return o===(4!==s.type||c?s.value:nT)}function I0(s,o,c){let d=4;const h=s.attrs||[],m=function rT(s){for(let o=0;o<s.length;o++)if(lt(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!T0(s,E,c)||""===E&&1===o.length){if(Ms(d))return!1;v=!0}}else{const x=8&d?E:o[++C];if(8&d&&null!==s.attrs){if(!K_(s.attrs,x,c)){if(Ms(d))return!1;v=!0}continue}const F=tR(8&d?"class":E,h,iT(s),c);if(-1===F){if(Ms(d))return!1;v=!0;continue}if(""!==x){let H;H=F>m?"":h[F+1].toLowerCase();const Y=8&d?H:null;if(Y&&-1!==_a(Y,x,0)||2&d&&x!==H){if(Ms(d))return!1;v=!0}}}}else{if(!v&&!Ms(d)&&!Ms(E))return!1;if(v&&Ms(E))continue;v=!1,d=E|1&d}}return Ms(d)||v}function Ms(s){return 0==(1&s)}function tR(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function sT(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Q_(s,o,c=!1){for(let d=0;d<o.length;d++)if(I0(s,o[d],c))return!0;return!1}function bn(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function S0(s,o){return s?":not("+o.trim()+")":o}function oT(s){let o=s[0],c=1,d=2,h="",m=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const C=s[++c];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Ms(v)&&(o+=S0(m,h),h=""),d=v,m=m||!Ms(d);c++}return""!==h&&(o+=S0(m,h)),o}const ft={};function cT(s){pd(Bt(),De(),Ii()+s,Tl())}function pd(s,o,c,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&Ha(o,m,c)}else{const m=s.preOrderHooks;null!==m&&Al(o,m,0,c)}so(c)}function vi(s,o){return s<<17|o<<2}function ya(s){return s>>17&32767}function mm(s){return 2|s}function ks(s){return(131068&s)>>2}function J_(s,o){return-131069&s|o<<2}function md(s){return 1|s}function vT(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],m=c[d+1];if(-1!==m){const v=s.data[m];yc(h),v.contentQueries(2,o[m],m)}}}function bm(s,o,c,d,h,m,v,C,E,x){const M=o.blueprint.slice();return M[0]=h,M[2]=140|d,eo(M),M[3]=M[15]=s,M[8]=c,M[10]=v||s&&s[10],M[11]=C||s&&s[11],M[12]=E||s&&s[12]||null,M[9]=x||s&&s[9]||null,M[6]=m,M[16]=2==o.type?s[16]:M,M}function Vh(s,o,c,d,h){let m=s.data[o];if(null===m)m=function V0(s,o,c,d,h){const m=ia(),v=hc(),E=s.data[o]=function ET(s,o,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,c,d,h),function mc(){return _t.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const v=function ra(){const s=_t.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ir(m,!0),m}function yd(s,o,c,d){if(0===c)return-1;const h=o.length;for(let m=0;m<c;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Bh(s,o,c){So(o);try{const d=s.viewQuery;null!==d&&wd(1,d,c);const h=s.template;null!==h&&Gl(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&vT(s,o),s.staticViewQueries&&wd(2,s.viewQuery,c);const m=s.components;null!==m&&function lR(s,o){for(let c=0;c<o.length;c++)fR(s,o[c])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ao()}}function Uh(s,o,c,d){const h=o[2];if(256==(256&h))return;So(o);const m=Tl();try{eo(o),function Il(s){return _t.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Gl(s,o,c,2,d);const v=3==(3&h);if(!m)if(v){const x=s.preOrderCheckHooks;null!==x&&Ha(o,x,null)}else{const x=s.preOrderHooks;null!==x&&Al(o,x,0,null),zn(o,0)}if(function ST(s){for(let o=Vl(s);null!==o;o=Bl(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],m=h[3];0==(1024&h[2])&&to(m,1),h[2]|=1024}}}(o),function K0(s){for(let o=Vl(s);null!==o;o=Bl(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];vs(d)&&Uh(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&vT(s,o),!m)if(v){const x=s.contentCheckHooks;null!==x&&Ha(o,x)}else{const x=s.contentHooks;null!==x&&Al(o,x,1),zn(o,1)}!function L0(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)so(~h);else{const m=h,v=c[++d],C=c[++d];xl(v,m),C(2,o[m])}}}finally{so(-1)}}(s,o);const C=s.components;null!==C&&function aR(s,o){for(let c=0;c<o.length;c++)hR(s,o[c])}(o,C);const E=s.viewQuery;if(null!==E&&wd(2,E,d),!m)if(v){const x=s.viewCheckHooks;null!==x&&Ha(o,x)}else{const x=s.viewHooks;null!==x&&Al(o,x,2),zn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,to(o[3],-1))}finally{Ao()}}function bT(s,o,c,d){const h=o[10],m=!Tl(),v=Xs(o);try{m&&!v&&h.begin&&h.begin(),v&&Bh(s,o,d),Uh(s,o,c,d)}finally{m&&!v&&h.end&&h.end()}}function Gl(s,o,c,d,h){const m=Ii(),v=2&d;try{so(-1),v&&o.length>20&&pd(s,o,20,Tl()),c(d,h)}finally{so(m)}}function wT(s,o,c){if(sc(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function B0(s,o,c){!Dl()||(function ly(s,o,c,d){const h=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||En(c,o),Hi(d,o);const v=c.initialInputs;for(let C=h;C<m;C++){const E=s.data[C],x=Xi(E);x&&jh(o,c,E);const M=rr(o,s,C,c);Hi(M,o),null!==v&&uy(0,C-h,M,E,0,v),x&&(Ti(c.index,o)[8]=M)}}(s,o,c,Di(c,o)),128==(128&c.flags)&&function z0(s,o,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,C=function gc(){return _t.lFrame.currentDirectiveIndex}();try{so(v);for(let E=d;E<h;E++){const x=s.data[E],M=o[E];Ua(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&TT(x,M)}}finally{so(-1),Ua(C)}}(s,o,c))}function U0(s,o,c=Di){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?c(o,s):s[v];s[h++]=C}}}function CT(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=sy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function sy(s,o,c,d,h,m,v,C,E,x){const M=20+d,F=M+h,H=function oy(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:ft);return c}(M,F),Y="function"==typeof x?x():x;return H[1]={type:s,blueprint:H,template:c,queries:null,viewQuery:C,declTNode:o,data:H.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function j0(s,o,c,d){const h=xT(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&zh(s).push(d,h.length-1))}function Cm(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function ji(s,o,c,d,h,m,v,C){const E=Di(o,c);let M,x=o.inputs;!C&&null!=x&&(M=x[d])?(AT(s,c,M,d,h),Zs(o)&&function bd(s,o){const c=Ti(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function DT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,gn(m)?m.setProperty(E,d,h):Si(d)||(E.setProperty?E.setProperty(d,h):E[d]=h))}function Dm(s,o,c,d){let h=!1;if(Dl()){const m=function cy(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];Q_(c,v.selectors,!1)&&(h||(h=[]),oo(En(c,o),s,v.type),Xi(v)?(q0(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==m){h=!0,W0(c,s.data.length,m.length);for(let M=0;M<m.length;M++){const F=m[M];F.providersResolver&&F.providersResolver(F)}let C=!1,E=!1,x=yd(s,o,m.length,null);for(let M=0;M<m.length;M++){const F=m[M];c.mergedAttrs=qn(c.mergedAttrs,F.hostAttrs),Z0(s,c,o,x,F),Hh(x,F,v),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const H=F.type.prototype;!C&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),C=!0),!E&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),x++}!function vd(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let C=null,E=null;for(let x=o.directiveStart;x<d;x++){const M=h[x],F=M.inputs,H=null===m||iT(o)?null:dy(F,m);v.push(H),C=Cm(F,x,C),E=Cm(M.outputs,x,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=E}(s,c)}v&&function IT(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=c[o[h+1]];if(null==m)throw new Pe(-301,!1);d.push(o[h],m)}}}(c,d,v)}return c.mergedAttrs=qn(c.mergedAttrs,c.attrs),h}function Tm(s,o,c,d,h,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function $0(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,h,v)}}function TT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function q0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Hh(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Xi(o)&&(c[""]=s)}}function W0(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function Z0(s,o,c,d,h){s.data[d]=h;const m=h.factory||(h.factory=er(h.type)),v=new oa(m,Xi(h),null);s.blueprint[d]=v,c[d]=v,Tm(s,o,0,d,yd(s,c,h.hostVars,ft),h)}function jh(s,o,c){const d=Di(o,s),h=CT(c),m=s[10],v=hy(s,bm(s,h,null,c.onPush?64:16,d,o,m,m.createRenderer(d,c),null,null));s[o.index]=v}function Rs(s,o,c,d,h,m){const v=Di(s,o);!function Ho(s,o,c,d,h,m,v){if(null==m)gn(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const C=null==v?fe(m):v(m,d||"",h);gn(s)?s.setAttribute(o,h,C,c):c?o.setAttributeNS(c,h,C):o.setAttribute(h,C)}}(o[11],v,m,s.value,c,d,h)}function uy(s,o,c,d,h,m){const v=m[o];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const x=v[E++],M=v[E++],F=v[E++];null!==C?d.setInput(c,F,x,M):c[M]=F}}}function dy(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function Gh(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function hR(s,o){const c=Ti(o,s);if(vs(c)){const d=c[1];80&c[2]?Uh(d,c,d.template,c[8]):c[5]>0&&Q0(c)}}function Q0(s){for(let d=Vl(s);null!==d;d=Bl(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];Uh(v,m,v.template,m[8])}else m[5]>0&&Q0(m)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Ti(c[d],s);vs(h)&&h[5]>0&&Q0(h)}}function fR(s,o){const c=Ti(o,s),d=c[1];(function pR(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Bh(d,c,c[8])}function hy(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function J0(s){for(;s;){s[2]|=64;const o=Ln(s);if(Su(s)&&!o)return s;s=o}return null}function $h(s,o,c){const d=o[10];d.begin&&d.begin();try{Uh(s,o,s.template,c)}catch(h){throw py(o,h),h}finally{d.end&&d.end()}}function ew(s){!function X0(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=Eh(c),h=d[1];bT(h,d,h.template,c)}}(s[8])}function wd(s,o,c){yc(0),o(s,c)}const gR=(()=>Promise.resolve(null))();function xT(s){return s[7]||(s[7]=[])}function zh(s){return s.cleanup||(s.cleanup=[])}function qh(s,o,c){return(null===s||Xi(s))&&(c=function Nu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function py(s,o){const c=s[9],d=c?c.get(ki,null):null;d&&d.handleError(o)}function AT(s,o,c,d,h){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],E=o[v],x=s.data[v];null!==x.setInput?x.setInput(E,h,d,C):E[C]=h}}function Xa(s,o,c){const d=Io(o,s);!function ud(s,o,c){gn(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function Wh(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?m=C:1==m?h=ce(h,C):2==m&&(d=ce(d,C+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const tw=new Nn("INJECTOR",-1);class eu{get(o,c=Ro){if(c===Ro){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return c}}const my=new Nn("Set Injector scope."),Zh={},MT={};let nw;function kT(){return void 0===nw&&(nw=new eu),nw}function gy(s,o=null,c=null,d){const h=tu(s,o,c,d);return h._resolveInjectorDefTypes(),h}function tu(s,o=null,c=null,d){return new RT(s,c,o||kT(),d)}class RT{constructor(o,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&gr(c,C=>this.processProvider(C,o,c)),gr([o],C=>this.processInjectorType(C,[],m)),this.records.set(tw,ba(void 0,this));const v=this.records.get(my);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=Ro,d=ht.Default){this.assertNotDestroyed();const h=Ae(this),m=Jn(void 0);try{if(!(d&ht.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function ER(s){return"function"==typeof s||"object"==typeof s&&s instanceof Nn}(o)&&Wt(o);C=E&&this.injectableDefInScope(E)?ba(_y(o),Zh):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&ht.Self?kT():this.parent).get(o,c=d&ht.Optional&&c===Ro?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Pl]=v[Pl]||[]).unshift(he(o)),h)throw v;return function ha(s,o,c,d){const h=s[Pl];throw o[L]&&h.unshift(o[L]),s.message=function Oo(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):he(C)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Pl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Jn(m),Ae(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(o,c,d){if(!(o=X(o)))return!1;let h=Ni(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,C=-1!==d.indexOf(v);if(void 0!==m&&(h=Ni(m)),null==h)return!1;if(null!=h.imports&&!C){let M;d.push(v);try{gr(h.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:H,providers:Y}=M[F];gr(Y,_e=>this.processProvider(_e,H,Y||mt))}}this.injectorDefTypes.add(v);const E=er(v)||(()=>new v);this.records.set(v,ba(E,Zh));const x=h.providers;if(null!=x&&!C){const M=o;gr(x,F=>this.processProvider(F,M,x))}return void 0!==m&&void 0!==o.providers}processProvider(o,c,d){let h=Kh(o=X(o))?o:X(o&&o.provide);const m=function rw(s,o,c){return Am(s)?ba(void 0,s.useValue):ba(xm(s),Zh)}(o);if(Kh(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ba(void 0,Zh,!0),v.factory=()=>St(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,c){return c.value===Zh&&(c.value=MT,c.value=c.factory()),"object"==typeof c.value&&c.value&&function OT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=X(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function _y(s){const o=Wt(s),c=null!==o?o.factory:er(s);if(null!==c)return c;if(s instanceof Nn)throw new Pe(204,!1);if(s instanceof Function)return function iw(s){const o=s.length;if(o>0)throw Nr(o,"?"),new Pe(204,!1);const c=function cr(s){const o=s&&(s[zr]||s[ds]);if(o){const c=function Gs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Pe(204,!1)}function xm(s,o,c){let d;if(Kh(s)){const h=X(s);return er(h)||_y(h)}if(Am(s))d=()=>X(s.useValue);else if(function bR(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...St(s.deps||[]));else if(function Yh(s){return!(!s||!s.useExisting)}(s))d=()=>Qe(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function CR(s){return!!s.deps}(s))return er(h)||_y(h);d=()=>new h(...St(s.deps))}return d}function ba(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Am(s){return null!==s&&"object"==typeof s&&Z in s}function Kh(s){return"function"==typeof s}let el=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return gy({name:""},d,c,"");{const m=null!==(h=c.name)&&void 0!==h?h:"";return gy({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=Ro,s.NULL=new eu,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>Qe(tw)}),s.__NG_ELEMENT_ID__=-1,s})();function MR(s,o){bs(Eh(s)[1],Cn())}function aw(s){let o=function zT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Xi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Pe(903,"");h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=lw(s.inputs),v.declaredInputs=lw(s.declaredInputs),v.outputs=lw(s.outputs);const C=h.hostBindings;C&&PR(s,C);const E=h.viewQuery,x=h.contentQueries;if(E&&RR(s,E),x&&OR(s,x),Q(s.inputs,h.inputs),Q(s.declaredInputs,h.declaredInputs),Q(s.outputs,h.outputs),Xi(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===aw&&(c=!1)}}o=Object.getPrototypeOf(o)}!function kR(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=qn(h.hostAttrs,c=qn(c,h.hostAttrs))}}(d)}function lw(s){return s===mi?{}:s===mt?[]:s}function RR(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function OR(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,m)=>{o(d,h,m),c(d,h,m)}:o}function PR(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let yy=null;function Qh(){if(!yy){const s=$t.Symbol;if(s&&s.iterator)yy=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(yy=d)}}}return yy}function km(s){return!!cw(s)&&(Array.isArray(s)||!(s instanceof Map)&&Qh()in s)}function cw(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function tl(s,o,c){return s[o]=c}function Br(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function uw(s,o,c,d){const h=De();return Br(h,io(),o)&&(Bt(),Rs(Rn(),h,s,o,c,d)),uw}function Xh(s,o,c,d){return Br(s,io(),c)?o+fe(c)+d:ft}function iI(s,o,c,d,h,m,v,C){const E=De(),x=Bt(),M=s+20,F=x.firstCreatePass?function BR(s,o,c,d,h,m,v,C,E){const x=o.consts,M=Vh(o,s,4,v||null,nr(x,C));Dm(o,c,M,nr(x,E)),bs(o,M);const F=M.tViews=sy(2,M,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,M),F.queries=o.queries.embeddedTView(M)),M}(M,x,E,o,c,d,h,m,v):x.data[M];ir(F,!1);const H=E[11].createComment("");hm(x,E,H,F),Hi(H,E),hy(E,E[M]=Gh(H,E,H,F)),hl(F)&&B0(x,E,F),null!=v&&U0(E,F,C)}function rI(s){return function Ar(s,o){return s[o]}(function pc(){return _t.lFrame.contextLView}(),20+s)}function uf(s,o=ht.Default){const c=De();return null===c?Qe(s,o):ao(Cn(),c,X(s),o)}function gw(){throw new Error("invalid")}function Cy(s,o,c){const d=De();return Br(d,io(),o)&&ji(Bt(),Rn(),d,s,o,d[11],c,!1),Cy}function Ey(s,o,c,d,h){const v=h?"class":"style";AT(s,c,o.inputs[v],v,d)}function Pm(s,o,c,d){const h=De(),m=Bt(),v=20+s,C=h[11],E=h[v]=dd(C,o,function d_(){return _t.lFrame.currentNamespace}()),x=m.firstCreatePass?function yI(s,o,c,d,h,m,v){const C=o.consts,x=Vh(o,s,2,h,nr(C,m));return Dm(o,c,x,nr(C,v)),null!==x.attrs&&Wh(x,x.attrs,!1),null!==x.mergedAttrs&&Wh(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,m,h,0,o,c,d):m.data[v];ir(x,!0);const M=x.mergedAttrs;null!==M&&et(C,E,M);const F=x.classes;null!==F&&ri(C,E,F);const H=x.styles;return null!==H&&Y_(C,E,H),64!=(64&x.flags)&&hm(m,h,E,x),0===function Ba(){return _t.lFrame.elementDepthCount}()&&Hi(E,h),function Cl(){_t.lFrame.elementDepthCount++}(),hl(x)&&(B0(m,h,x),wT(m,x,h)),null!==d&&U0(h,x),Pm}function Nm(){let s=Cn();hc()?fc():(s=s.parent,ir(s,!1));const o=s;!function El(){_t.lFrame.elementDepthCount--}();const c=Bt();return c.firstCreatePass&&(bs(c,s),sc(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Gu(s){return 0!=(16&s.flags)}(o)&&Ey(c,o,De(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function zp(s){return 0!=(32&s.flags)}(o)&&Ey(c,o,De(),o.stylesWithoutHost,!1),Nm}function Fm(s,o,c,d){return Pm(s,o,c,d),Nm(),Fm}function Lm(s,o,c){const d=De(),h=Bt(),m=s+20,v=h.firstCreatePass?function bI(s,o,c,d,h){const m=o.consts,v=nr(m,d),C=Vh(o,s,8,"ng-container",v);return null!==v&&Wh(C,v,!0),Dm(o,c,C,nr(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,d,o,c):h.data[m];ir(v,!0);const C=d[m]=d[11].createComment("");return hm(h,d,C,v),Hi(C,d),hl(v)&&(B0(h,d,v),wT(h,v,d)),null!=c&&U0(d,v),Lm}function Vm(){let s=Cn();const o=Bt();return hc()?fc():(s=s.parent,ir(s,!1)),o.firstCreatePass&&(bs(o,s),sc(s)&&o.queries.elementEnd(s)),Vm}function Dy(s,o,c){return Lm(s,o,c),Vm(),Dy}function _w(){return De()}function yw(s){return!!s&&"function"==typeof s.then}function wI(s){return!!s&&"function"==typeof s.subscribe}const CI=wI;function vw(s,o,c,d){const h=De(),m=Bt(),v=Cn();return Ty(m,h,h[11],v,s,o,!!c,d),vw}function bw(s,o){const c=Cn(),d=De(),h=Bt();return Ty(h,d,qh(sa(h.data),c,d),c,s,o,!1),bw}function Ty(s,o,c,d,h,m,v,C){const E=hl(d),M=s.firstCreatePass&&zh(s),F=o[8],H=xT(o);let Y=!0;if(3&d.type||C){const Re=Di(d,o),He=C?C(Re):Re,Ce=H.length,pt=C?Kt=>C(an(Kt[d.index])):d.index;if(gn(c)){let Kt=null;if(!C&&E&&(Kt=function e1(s,o,c,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===d){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=m,Kt.__ngLastListenerFn__=m,Y=!1;else{m=Sy(d,o,F,m,!1);const yn=c.listen(He,h,m);H.push(m,yn),M&&M.push(h,pt,Ce,Ce+1)}}else m=Sy(d,o,F,m,!0),He.addEventListener(h,m,v),H.push(m),M&&M.push(h,pt,Ce,v)}else m=Sy(d,o,F,m,!1);const _e=d.outputs;let Fe;if(Y&&null!==_e&&(Fe=_e[h])){const Re=Fe.length;if(Re)for(let He=0;He<Re;He+=2){const os=o[Fe[He]][Fe[He+1]].subscribe(m),mu=H.length;H.push(m,os),M&&M.push(h,d.index,mu,-(mu+1))}}}function Iy(s,o,c,d){try{return!1!==c(d)}catch(h){return py(s,h),!1}}function Sy(s,o,c,d,h){return function m(v){if(v===Function)return d;const C=2&s.flags?Ti(s.index,o):o;0==(32&o[2])&&J0(C);let E=Iy(o,0,d,v),x=m.__ngNextListenerFn__;for(;x;)E=Iy(o,0,x,v)&&E,x=x.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function ww(s=1){return function ro(s){return(_t.lFrame.contextLView=function bc(s,o){for(;s>0;)o=o[15],s--;return o}(s,_t.lFrame.contextLView))[8]}(s)}function Cw(s,o){let c=null;const d=function Nh(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?Q_(s,m,!0):bn(d,m))return h}else c=h}return c}function nu(s){const o=De()[16][6];if(!o.projection){const d=o.projection=Nr(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?Cw(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function Ew(s,o=0,c){const d=De(),h=Bt(),m=Vh(h,20+s,16,null,c||null);null===m.projection&&(m.projection=o),fc(),64!=(64&m.flags)&&function ve(s,o,c){zt(o[11],0,o,c,dm(s,c,o),w0(c.parent||o[6],c,o))}(h,d,m)}function Mw(s,o,c,d,h){const m=s[c+1],v=null===o;let C=d?ya(m):ks(m),E=!1;for(;0!==C&&(!1===E||v);){const M=s[C+1];kw(s[C],o)&&(E=!0,s[C+1]=d?md(M):mm(M)),C=d?ya(M):ks(M)}E&&(s[c+1]=d?mm(m):md(m))}function kw(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ho(s,o)>=0}const Ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ea(s){return s.substring(Ri.key,Ri.keyEnd)}function ky(s,o){const c=Ri.textEnd;return c===o?-1:(o=Ri.keyEnd=function Go(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Ri.key=o,c),hf(s,o,c))}function hf(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Hm(s,o,c){return mo(s,o,c,!1),Hm}function su(s,o){return mo(s,o,null,!0),su}function Os(s,o){for(let c=function Da(s){return function ns(s){Ri.key=0,Ri.keyEnd=0,Ri.value=0,Ri.valueEnd=0,Ri.textEnd=s.length}(s),ky(s,hf(s,0,Ri.textEnd))}(o);c>=0;c=ky(o,c))ni(s,Ea(o),!0)}function mo(s,o,c,d){const h=De(),m=Bt(),v=Mr(2);m.firstUpdatePass&&Pw(m,s,v,d),o!==ft&&Br(h,v,o)&&Nw(m,m.data[Ii()],h,h[11],s,h[v+1]=function RI(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(xs(s)))),s}(o,c),d,v)}function Ow(s,o){return o>=s.expandoStartIndex}function Pw(s,o,c,d){const h=s.data;if(null===h[c+1]){const m=h[Ii()],v=Ow(s,c);Lw(m,d)&&null===o&&!v&&(o=!1),o=function TI(s,o,c,d){const h=sa(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=ff(c=Oy(null,s,o,c,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Oy(h,s,o,c,d),null===m){let E=function II(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==ks(d))return s[ya(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Oy(null,s,o,E[1],d),E=ff(E,o.attrs,d),function SI(s,o,c,d){s[ya(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function xI(s,o,c){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=ff(d,s[m].hostAttrs,c);return ff(d,o.attrs,c)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),c}(h,m,o,d),function My(s,o,c,d,h,m){let v=m?o.classBindings:o.styleBindings,C=ya(v),E=ks(v);s[d]=c;let M,x=!1;if(Array.isArray(c)){const F=c;M=F[1],(null===M||ho(F,M)>0)&&(x=!0)}else M=c;if(h)if(0!==E){const H=ya(s[C+1]);s[d+1]=vi(H,C),0!==H&&(s[H+1]=J_(s[H+1],d)),s[C+1]=function x0(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=vi(C,0),0!==C&&(s[C+1]=J_(s[C+1],d)),C=d;else s[d+1]=vi(E,0),0===C?C=d:s[E+1]=J_(s[E+1],d),E=d;x&&(s[d+1]=mm(s[d+1])),Mw(s,M,d,!0),Mw(s,M,d,!1),function Aw(s,o,c,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&ho(m,o)>=0&&(c[d+1]=md(c[d+1]))}(o,M,s,d,m),v=vi(C,E),m?o.classBindings=v:o.styleBindings=v}(h,m,o,c,v,d)}}function Oy(s,o,c,d,h){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=o[C],d=ff(d,m.hostAttrs,h),m!==s);)C++;return null!==s&&(c.directiveStylingLast=C),d}function ff(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ni(s,v,!!c||o[++m]))}return void 0===s?null:s}function Nw(s,o,c,d,h,m,v,C){if(!(3&o.type))return;const E=s.data,x=E[C+1];jm(function Xc(s){return 1==(1&s)}(x)?Fw(E,o,c,h,ks(x),v):void 0)||(jm(m)||function Jc(s){return 2==(2&s)}(x)&&(m=Fw(E,null,c,h,C,v)),function tT(s,o,c,d,h){const m=gn(s);if(o)h?m?s.addClass(c,d):c.classList.add(d):m?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:oe.DashCase;if(null==h)m?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=oe.Important),m?s.setStyle(c,d,h,v):c.style.setProperty(d,h,C?"important":"")}}}(d,v,Io(Ii(),c),h,m))}function Fw(s,o,c,d,h,m){const v=null===o;let C;for(;h>0;){const E=s[h],x=Array.isArray(E),M=x?E[1]:E,F=null===M;let H=c[h+1];H===ft&&(H=F?mt:void 0);let Y=F?Nc(H,d):M===d?H:void 0;if(x&&!jm(Y)&&(Y=Nc(E,d)),jm(Y)&&(C=Y,v))return C;const _e=s[h+1];h=v?ya(_e):ks(_e)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=Nc(E,d))}return C}function jm(s){return void 0!==s}function Lw(s,o){return 0!=(s.flags&(o?16:32))}function Vw(s,o=""){const c=De(),d=Bt(),h=s+20,m=d.firstCreatePass?Vh(d,h,1,o,null):d.data[h],v=c[h]=function cd(s,o){return gn(s)?s.createText(o):s.createTextNode(o)}(c[11],o);hm(d,c,v,m),ir(m,!1)}function Py(s){return Gm("",s,""),Py}function Gm(s,o,c){const d=De(),h=Xh(d,s,o,c);return h!==ft&&Xa(d,Ii(),h),Gm}function Ww(s,o,c){!function zo(s,o,c,d){const h=Bt(),m=Mr(2);h.firstUpdatePass&&Pw(h,null,m,d);const v=De();if(c!==ft&&Br(v,m,c)){const C=h.data[Ii()];if(Lw(C,d)&&!Ow(h,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=ce(E,c||"")),Ey(h,C,v,c,d)}else!function kI(s,o,c,d,h,m,v,C){h===ft&&(h=mt);let E=0,x=0,M=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==M||null!==F;){const H=E<h.length?h[E+1]:void 0,Y=x<m.length?m[x+1]:void 0;let Fe,_e=null;M===F?(E+=2,x+=2,H!==Y&&(_e=F,Fe=Y)):null===F||null!==M&&M<F?(E+=2,_e=M):(x+=2,_e=F,Fe=Y),null!==_e&&Nw(s,o,c,d,_e,Fe,v,C),M=E<h.length?h[E]:null,F=x<m.length?m[x]:null}}(h,C,v,v[11],v[m+1],v[m+1]=function AI(s,o,c){if(null==c||""===c)return mt;const d=[],h=xs(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,m)}}(ni,Os,Xh(De(),s,o,c),!0)}function zm(s,o,c){const d=De();return Br(d,io(),o)&&ji(Bt(),Rn(),d,s,o,d[11],c,!0),zm}function Xw(s,o,c){const d=De();if(Br(d,io(),o)){const m=Bt(),v=Rn();ji(m,v,d,s,o,qh(sa(m.data),v,d),c,!0)}return Xw}const ql=void 0;var UI=["en",[["a","p"],["AM","PM"],ql],[["AM","PM"],ql,ql],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ql,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ql,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ql,"{1} 'at' {0}",ql],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $y(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ou={};function pf(s){const o=function au(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=gf(o);if(c)return c;const d=o.split("-")[0];if(c=gf(d),c)return c;if("en"===d)return UI;throw new Error(`Missing locale data for the locale "${s}".`)}function mf(s){return pf(s)[yt.PluralCase]}function gf(s){return s in ou||(ou[s]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[s]),ou[s]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const Wm="en-US";let Wo=Wm;function is(s,o,c,d,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)is(s[m],o,c,d,h);else{const m=Bt(),v=De();let C=Kh(s)?s:X(s.provide),E=xm(s);const x=Cn(),M=1048575&x.providerIndexes,F=x.directiveStart,H=x.providerIndexes>>20;if(Kh(s)||!s.multi){const Y=new oa(E,h,uf),_e=Mf(C,o,h?M:M+H,F);-1===_e?(oo(En(x,v),m,C),Af(m,s,o.length),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(Y),v.push(Y)):(c[_e]=Y,v[_e]=Y)}else{const Y=Mf(C,o,M+H,F),_e=Mf(C,o,M,M+H),Fe=Y>=0&&c[Y],Re=_e>=0&&c[_e];if(h&&!Re||!h&&!Fe){oo(En(x,v),m,C);const He=function vS(s,o,c,d,h){const m=new oa(s,c,uf);return m.multi=[],m.index=o,m.componentProviders=0,Td(m,h,d&&!c),m}(h?yS:_S,c.length,h,d,E);!h&&Re&&(c[_e].providerFactory=He),Af(m,s,o.length,0),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(He),v.push(He)}else Af(m,s,Y>-1?Y:_e,Td(c[h?_e:Y],E,!h&&d));!h&&d&&Re&&c[_e].componentProviders++}}}function Af(s,o,c,d){const h=Kh(o),m=function wR(s){return!!s.useClass}(o);if(h||m){const E=(m?X(o.useClass):o).prototype.ngOnDestroy;if(E){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=x.indexOf(c);-1===M?x.push(c,[d,E]):x[M+1].push(d,E)}else x.push(c,E)}}}function Td(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Mf(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function _S(s,o,c,d){return kf(this.multi,[])}function yS(s,o,c,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=rr(c,c[1],this.providerFactory.index,d);m=C.slice(0,v),kf(h,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],kf(h,m);return m}function kf(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function vC(s,o=[]){return c=>{c.providersResolver=(d,h)=>function gS(s,o,c){const d=Bt();if(d.firstCreatePass){const h=Xi(s);is(c,d.data,d.blueprint,h,!0),is(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class bC{}class go{resolveComponentFactory(o){throw function wC(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let nl=(()=>{class s{}return s.NULL=new go,s})();function wS(){return Id(Cn(),De())}function Id(s,o){return new Sd(Di(s,o))}let Sd=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=wS,s})();function CS(s){return s instanceof Sd?s.nativeElement:s}class Rf{}let DS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function nv(){const s=De(),c=Ti(Cn().index,s);return function TS(s){return s[11]}(Ji(c)?c:s)}(),s})(),IS=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class iv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const CC=new iv("13.3.3"),rv={};function rg(s,o,c,d,h=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&d.push(an(m)),Li(m))for(let C=10;C<m.length;C++){const E=m[C],x=E[1].firstChild;null!==x&&rg(E[1],E,x,d)}const v=c.type;if(8&v)rg(s,o,c.child,d);else if(32&v){const C=Je(c,o);let E;for(;E=C();)d.push(E)}else if(16&v){const C=D0(o,c);if(Array.isArray(C))d.push(...C);else{const E=Ln(o[16]);rg(E[1],E,C,d,!0)}}c=h?c.projectionNext:c.next}return d}class Of{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return rg(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Li(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(U_(o,d),Is(c,d))}this._attachedToViewContainer=!1}H_(this._lView[1],this._lView)}onDestroy(o){j0(this._lView[1],this._lView,null,o)}markForCheck(){J0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$h(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Im(s,o,c){no(!0);try{$h(s,o,c)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function um(s,o){fm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=o}}class EC extends Of{constructor(o){super(o),this._view=o}detectChanges(){ew(this._view)}checkNoChanges(){!function Sm(s){no(!0);try{ew(s)}finally{no(!1)}}(this._view)}get context(){return null}}class Pf extends nl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Yt(o);return new ov(c,this.ngModule)}}function sv(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class ov extends bC{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function aT(s){return s.map(oT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return sv(this.componentDef.inputs)}get outputs(){return sv(this.componentDef.outputs)}create(o,c,d,h){const m=(h=h||this.ngModule)?function DC(s,o){return{get:(c,d,h)=>{const m=s.get(c,rv,h);return m!==rv||d===rv?m:o.get(c,d,h)}}}(o,h.injector):o,v=m.get(Rf,na),C=m.get(IS,null),E=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",M=d?function H0(s,o,c){if(gn(s))return s.selectRootElement(o,c===Zt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(E,d,this.componentDef.encapsulation):dd(v.createRenderer(null,this.componentDef),x,function SS(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),F=this.componentDef.onPush?576:528,H=function $T(s,o){return{components:[],scheduler:s||N_,clean:gR,playerHandler:o||null,flags:0}}(),Y=sy(0,null,null,1,0,null,null,null,null,null),_e=bm(null,Y,H,F,null,null,v,E,C,m);let Fe,Re;So(_e);try{const He=function jT(s,o,c,d,h,m){const v=c[1];c[20]=s;const E=Vh(v,20,2,"#host",null),x=E.mergedAttrs=o.hostAttrs;null!==x&&(Wh(E,x,!0),null!==s&&(et(h,s,x),null!==E.classes&&ri(h,s,E.classes),null!==E.styles&&Y_(h,s,E.styles)));const M=d.createRenderer(s,o),F=bm(c,CT(o),null,o.onPush?64:16,c[20],E,d,M,m||null,null);return v.firstCreatePass&&(oo(En(E,c),v,o.type),q0(v,E),W0(E,c.length,1)),hy(c,F),c[20]=F}(M,this.componentDef,_e,v,E);if(M)if(d)et(E,M,["ng-version",CC.full]);else{const{attrs:Ce,classes:pt}=function lT(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&c.push(m);else{if(!Ms(h))break;h=m}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Ce&&et(E,M,Ce),pt&&pt.length>0&&ri(E,M,pt.join(" "))}if(Re=Va(Y,20),void 0!==c){const Ce=Re.projection=[];for(let pt=0;pt<this.ngContentSelectors.length;pt++){const Kt=c[pt];Ce.push(null!=Kt?Array.from(Kt):null)}}Fe=function GT(s,o,c,d,h){const m=c[1],v=function ay(s,o,c){const d=Cn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Z0(s,d,o,yd(s,o,1,null),c));const h=rr(o,s,d.directiveStart,d);Hi(h,o);const m=Di(d,o);return m&&Hi(m,o),h}(m,c,o);if(d.components.push(v),s[8]=v,h&&h.forEach(E=>E(v,o)),o.contentQueries){const E=Cn();o.contentQueries(1,v,E.directiveStart)}const C=Cn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(so(C.index),Tm(c[1],C,0,C.directiveStart,C.directiveEnd,o),TT(o,v)),v}(He,this.componentDef,_e,H,[MR]),Bh(Y,_e,null)}finally{Ao()}return new AS(this.componentType,Fe,Id(Re,_e),_e,Re)}}class AS extends class ig{}{constructor(o,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new EC(h),this.componentType=o}get injector(){return new Or(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class xd{}class Gi{}const cu=new Map;class IC extends xd{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pf(this);const d=pn(o);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=tu(o,c,[{provide:xd,useValue:this},{provide:nl,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=el.THROW_IF_NOT_FOUND,d=ht.Default){return o===el||o===xd||o===tw?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class av extends Gi{constructor(o){super(),this.moduleType=o,null!==pn(o)&&function RS(s){const o=new Set;!function c(d){const h=pn(d,!0),m=h.id;null!==m&&(function TC(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(m,cu.get(m),d),cu.set(m,d));const v=g(h.imports);for(const C of v)o.has(C)||(o.add(C),c(C))}(s)}(o)}create(o){return new IC(this.moduleType,o)}}function lv(s,o,c,d){return function Ad(s,o,c,d,h,m){const v=o+c;return Br(s,v,h)?tl(s,v+1,m?d.call(m,h):d(h)):Ta(s,v+1)}(De(),yi(),s,o,c,d)}function NS(s,o,c,d,h){return function Zl(s,o,c,d,h,m,v){const C=o+c;return function Cd(s,o,c,d){const h=Br(s,o,c);return Br(s,o+1,d)||h}(s,C,h,m)?tl(s,C+2,v?d.call(v,h,m):d(h,m)):Ta(s,C+2)}(De(),yi(),s,o,c,d,h)}function Ta(s,o){const c=s[o];return c===ft?void 0:c}function SC(s){return o=>{setTimeout(s,void 0,o)}}const il=class b1 extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,m,v;let C=o,E=c||(()=>null),x=d;if(o&&"object"==typeof o){const F=o;C=null===(h=F.next)||void 0===h?void 0:h.bind(F),E=null===(m=F.error)||void 0===m?void 0:m.bind(F),x=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(E=SC(E),C&&(C=SC(C)),x&&(x=SC(x)));const M=super.subscribe({next:C,error:E,complete:x});return o instanceof K.w0&&o.add(M),M}};function uv(){return this._results[Qh()]()}class Nf{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Qh(),d=Nf.prototype;d[c]||(d[c]=uv)}get changes(){return this._changes||(this._changes=new il)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=Ai(o);(this._changesDetected=!function Mc(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Md=(()=>{class s{}return s.__NG_ELEMENT_ID__=US,s})();const Ff=Md,ag=class extends Ff{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=bm(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),Bh(c,d,o),new Of(d)}};function US(){return Lf(Cn(),De())}function Lf(s,o){return 4&s.type?new ag(o,s,Id(s,o)):null}let lg=(()=>{class s{}return s.__NG_ELEMENT_ID__=dv,s})();function dv(){return MC(Cn(),De())}const xC=lg,hv=class extends xC{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return Id(this._hostTNode,this._hostLView)}get injector(){return new Or(this._hostTNode,this._hostLView)}get parentInjector(){const o=mr(this._hostTNode,this._hostLView);if($u(o)){const c=kr(o,this._hostLView),d=_n(o);return new Or(c[1].data[d+8],c)}return new Or(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=AC(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const h=o.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(o,c,d,h,m){const v=o&&!function ua(s){return"function"==typeof s}(o);let C;if(v)C=c;else{const F=c||{};C=F.index,d=F.injector,h=F.projectableNodes,m=F.ngModuleRef}const E=v?o:new ov(Yt(o)),x=d||this.parentInjector;if(!m&&null==E.ngModule){const H=(v?x:this.parentInjector).get(xd,null);H&&(m=H)}const M=E.create(x,h,void 0,m);return this.insert(M.hostView,C),M}insert(o,c){const d=o._lView,h=d[1];if(function bl(s){return Li(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const F=d[3],H=new hv(F,F[6],F[3]);H.detach(H.indexOf(o))}}const m=this._adjustIndex(c),v=this._lContainer;!function B_(s,o,c,d){const h=10+d,m=c.length;d>0&&(c[h-1][4]=o),d<m-10?(o[4]=c[h],kc(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function hd(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,d,v,m);const C=q_(m,v),E=d[11],x=Ph(E,v[7]);return null!==x&&function Oh(s,o,c,d,h,m){d[0]=h,d[6]=o,fm(s,d,c,1,h,m)}(h,v[6],E,d,x,C),o.attachToViewContainerRef(),kc(fv(v),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=AC(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=U_(this._lContainer,c);d&&(Is(fv(this._lContainer),c),H_(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=U_(this._lContainer,c);return d&&null!=Is(fv(this._lContainer),c)?new Of(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function AC(s){return s[8]}function fv(s){return s[8]||(s[8]=[])}function MC(s,o){let c;const d=o[s.index];if(Li(d))c=d;else{let h;if(8&s.type)h=an(d);else{const m=o[11];h=m.createComment("");const v=Di(s,o);As(m,Ph(m,v),h,function eT(s,o){return gn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=c=Gh(d,o,h,s),hy(o,c)}return new hv(c,s,o)}class cg{constructor(o){this.queryList=o,this.matches=null}clone(){return new cg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new Vf(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==VC(o,c).matches&&this.queries[c].setDirty()}}class mv{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class kC{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new kC(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class RC{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new RC(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,c,w1(c,m)),this.matchTNodeWithReadOption(o,c,Es(c,o,m,!1,!1))}else d===Md?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Es(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Sd||h===lg||h===Md&&4&c.type)this.addMatch(c.index,-2);else{const m=Es(c,o,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function w1(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function C1(s,o,c,d){return-1===c?function OC(s,o){return 11&s.type?Id(s,o):4&s.type?Lf(s,o):null}(o,s):-2===c?function jS(s,o,c){return c===Sd?Id(o,s):c===Md?Lf(o,s):c===lg?MC(o,s):void 0}(s,o,d):rr(s,s[1],c,o)}function PC(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const x=v[E];C.push(x<0?null:C1(o,m[x],v[E+1],c.metadata.read))}h.matches=C}return h.matches}function gv(s,o,c,d){const h=s.queries.getByIndex(c),m=h.matches;if(null!==m){const v=PC(s,o,h,c);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const x=m[C+1],M=o[-E];for(let F=10;F<M.length;F++){const H=M[F];H[17]===H[3]&&gv(H[1],H,x,d)}if(null!==M[9]){const F=M[9];for(let H=0;H<F.length;H++){const Y=F[H];gv(Y[1],Y,x,d)}}}}}return d}function _v(s){const o=De(),c=Bt(),d=_c();yc(d+1);const h=VC(c,d);if(s.dirty&&Xs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?gv(c,o,d,[]):PC(c,o,h,d);s.reset(m,CS),s.notifyOnChanges()}return!0}return!1}function yv(s,o,c){const d=Bt();d.firstCreatePass&&(LC(d,new mv(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),FC(d,De(),o)}function NC(s,o,c,d){const h=Bt();if(h.firstCreatePass){const m=Cn();LC(h,new mv(o,c,d),m.index),function $S(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}FC(h,De(),c)}function vv(){return function GS(s,o){return s[19].queries[o].queryList}(De(),_c())}function FC(s,o,c){const d=new Nf(4==(4&c));j0(s,o,d,d.destroy),null===o[19]&&(o[19]=new Vf),o[19].queries.push(new cg(d))}function LC(s,o,c){null===s.queries&&(s.queries=new kC),s.queries.track(new RC(o,c))}function VC(s,o){return s.queries.getByIndex(o)}function Bf(s,o){return Lf(s,o)}function pg(...s){}const XS=new Nn("Application Initializer");let Av=(()=>{class s{constructor(c){this.appInits=c,this.resolve=pg,this.reject=pg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(yw(m))c.push(m);else if(CI(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Qe(XS,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const mg=new Nn("AppId",{providedIn:"root",factory:function Mv(){return`${kv()}${kv()}${kv()}`}});function kv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yl=new Nn("Platform Initializer"),QC=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rv=new Nn("appBootstrapListener");let tx=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const gg=new Nn("LocaleId",{providedIn:"root",factory:()=>Rt(gg,ht.Optional|ht.SkipSelf)||function nx(){return"undefined"!=typeof $localize&&$localize.locale||Wm}()}),ix=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class rx{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let JC=(()=>{class s{compileModuleSync(c){return new av(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=g(pn(c).declarations).reduce((v,C)=>{const E=Yt(C);return E&&v.push(new ov(E)),v},[]);return new rx(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const ox=(()=>Promise.resolve(0))();function Ov(s){"undefined"==typeof Zone?ox.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ia{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function eE(){let s=$t.requestAnimationFrame,o=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function N1(s){const o=()=>{!function lx(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call($t,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Pv(s),s.isCheckStableRunning=!0,zf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Pv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,v,C)=>{try{return tE(s),c.invokeTask(h,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),nE(s)}},onInvoke:(c,d,h,m,v,C,E)=>{try{return tE(s),c.invoke(h,m,v,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),nE(s)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Pv(s),zf(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ia.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ia.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,ax,pg,pg);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const ax={};function zf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Pv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function tE(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function nE(s){s._nesting--,zf(s)}class _g{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}let yg=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ia.assertNotInAngularZone(),Ov(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ov(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Qe(Ia))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),iE=(()=>{class s{constructor(){this._applications=new Map,sE.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return sE.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class cx{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function rE(s){sE=s}let Ko,sE=new cx;const oE=new Nn("AllowMultipleToken");class dx{constructor(o,c){this.name=o,this.token=c}}function Nv(s,o,c=[]){const d=`Platform: ${o}`,h=new Nn(d);return(m=[])=>{let v=Fv();if(!v||v.injector.get(oE,!1))if(s)s(c.concat(m).concat({provide:h,useValue:!0}));else{const C=c.concat(m).concat({provide:h,useValue:!0},{provide:my,useValue:"platform"});!function hx(s){if(Ko&&!Ko.destroyed&&!Ko.injector.get(oE,!1))throw new Pe(400,"");Ko=s.get(px);const o=s.get(Yl,null);o&&o.forEach(c=>c())}(el.create({providers:C,name:d}))}return function aE(s){const o=Fv();if(!o)throw new Pe(401,"");return o}()}}function Fv(){return Ko&&!Ko.destroyed?Ko:null}let px=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function sr(s,o){let c;return c="noop"===s?new _g:("zone.js"===s?void 0:s)||new Ia({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Ia,useValue:C}];return C.run(()=>{const x=el.create({providers:E,parent:this.injector,name:c.moduleType.name}),M=c.create(x),F=M.injector.get(ki,null);if(!F)throw new Pe(402,"");return C.runOutsideAngular(()=>{const H=C.onError.subscribe({next:Y=>{F.handleError(Y)}});M.onDestroy(()=>{Vv(this._modules,M),H.unsubscribe()})}),function Lv(s,o,c){try{const d=c();return yw(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(F,C,()=>{const H=M.injector.get(Av);return H.runInitializers(),H.donePromise.then(()=>(function lu(s){dt(s,"Expected localeId to be defined"),"string"==typeof s&&(Wo=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(gg,Wm)||Wm),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,d=[]){const h=_o({},d);return function ux(s,o,c){const d=new av(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(lE);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Pe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Qe(el))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function _o(s,o){return Array.isArray(o)?o.reduce(_o,s):Object.assign(Object.assign({},s),o)}let lE=(()=>{class s{constructor(c,d,h,m){this._zone=c,this._injector=d,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new N.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Ia.assertNotInAngularZone(),Ov(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Ia.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(v,C.pipe((0,te.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Pe(405,"");let h;h=c instanceof bC?c:this._injector.get(nl).resolveComponentFactory(c),this.componentTypes.push(h.componentType);const m=function vg(s){return s.isBoundToModule}(h)?void 0:this._injector.get(xd),C=h.create(el.NULL,[],d||h.selector,m),E=C.location.nativeElement,x=C.injector.get(yg,null),M=x&&C.injector.get(iE);return x&&M&&M.registerApplication(E,x),C.onDestroy(()=>{this.detachView(C.hostView),Vv(this.components,C),M&&M.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Vv(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Rv,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(Qe(Ia),Qe(el),Qe(ki),Qe(Av))},s.\u0275prov=rn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Vv(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let sl=!0,qt=!1;function mx(){return qt=!0,sl}function ol(){if(qt)throw new Error("Cannot enable prod mode after platform setup.");sl=!1}let wg=(()=>{class s{}return s.__NG_ELEMENT_ID__=Bv,s})();function Bv(s){return function qf(s,o,c){if(Zs(s)&&!c){const d=Ti(s.index,o);return new Of(d,d)}return 47&s.type?new Of(o[16],o):null}(Cn(),De(),16==(16&s))}class jv{constructor(){}supports(o){return km(o)}create(o){return new pE(o)}}const Gv=(s,o)=>o;class pE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Gv}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<_E(d,h,m)?c:d,C=_E(v,h,m),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const x=C-h,M=E-h;if(x!=M){for(let H=0;H<x;H++){const Y=H<m.length?m[H]:m[H]=0,_e=Y+H;M<=_e&&_e<x&&(m[H]=Y+1)}m[v.previousIndex]=M-x}}C!==E&&o(v,C,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!km(o))throw new Pe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),d=!0),c=c._next}else h=0,function VR(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Qh()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,h)):o=this._addAfter(new mE(c,d),m,h),o}_verifyReinsertion(o,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Eg),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Eg),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class mE{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Eg{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new gE,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _E(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class yE{constructor(){}supports(o){return o instanceof Map||cw(o)}create(){return new Rd}}class Rd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||cw(o)))throw new Pe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new vE(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class vE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dg(){return new Tg([new jv])}let Tg=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Dg()),deps:[[s,new Po,new yr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Pe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:Dg}),s})();function $v(){return new Od([new yE])}let Od=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||$v()),deps:[[s,new Po,new yr]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Pe(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:$v}),s})();const _x=Nv(null,"core",[]);let Wv=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Qe(lE))},s.\u0275mod=J({type:s}),s.\u0275inj=en({}),s})()},3942:(at,Te,P)=>{P.d(Te,{Z:()=>Pe});var a=P(2090),K=P(4859),N=P(9681),ae=P(1877);class te{constructor(fe,we){this._delegate=fe,this.firebase=we,(0,N._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,we=N._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(fe);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Xe=Ze.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:we})}_removeServiceInstance(fe,we=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(we)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ce(){const Ve=function he(Ve){const fe={},we={__esModule:!0,initializeApp:function Ie(je,ie={}){const W=N.initializeApp(je,ie);if((0,a.r3)(fe,W.name))return fe[W.name];const re=new Ve(W,we);return fe[W.name]=re,re},app:Ze,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function be(je){const ie=je.name,W=ie.replace("-compat","");if(N._registerComponent(je)&&"PUBLIC"===je.type){const re=(ge=Ze())=>{if("function"!=typeof ge[W])throw Q.create("invalid-app-argument",{appName:ie});return ge[W]()};void 0!==je.serviceProps&&(0,a.ZB)(re,je.serviceProps),we[W]=re,Ve.prototype[W]=function(...ge){return this._getService.bind(this,ie).apply(this,je.multipleInstances?ge:[])}}return"PUBLIC"===je.type?we[W]:null},removeApp:function Xe(je){delete fe[je]},useAsService:function Ge(je,ie){return"serverAuth"===ie?null:ie},modularAPIs:N}};function Ze(je){if(!(0,a.r3)(fe,je=je||N._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:je});return fe[je]}return we.default=we,Object.defineProperty(we,"apps",{get:function ye(){return Object.keys(fe).map(je=>fe[je])}}),Ze.App=Ve,we}(te);return Ve.INTERNAL=Object.assign(Object.assign({},Ve.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function fe(we){(0,a.ZB)(Ve,we)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Ve}(),$=new ae.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ve=self.firebase.SDK_VERSION;Ve&&Ve.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=G;!function xe(Ve){(0,N.registerVersion)("@firebase/app-compat","0.1.22",Ve)}()},9681:(at,Te,P)=>{P.r(Te),P.d(Te,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Ni,_DEFAULT_ENTRY_NAME:()=>Vn,_addComponent:()=>hn,_addOrOverwriteComponent:()=>xr,_apps:()=>vt,_clearComponents:()=>Wt,_components:()=>dn,_getProvider:()=>us,_registerComponent:()=>rn,_removeServiceInstance:()=>en,deleteApp:()=>hs,getApp:()=>Fi,getApps:()=>ds,initializeApp:()=>zr,onLog:()=>li,registerVersion:()=>Qi,setLogLevel:()=>Jn});var a=P(5861),K=P(4859),N=P(1877),ae=P(2090);class te{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(Ke=>{if(function me(Ye){const Se=Ye.getComponent();return"VERSION"===(null==Se?void 0:Se.type)}(Ke)){const gt=Ke.getImmediate();return`${gt.library}/${gt.version}`}return null}).filter(Ke=>Ke).join(" ")}}const Q="@firebase/app",ce=new N.Yd("@firebase/app"),Vn="[DEFAULT]",dt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},vt=new Map,dn=new Map;function hn(Ye,Se){try{Ye.container.addComponent(Se)}catch(Ke){ce.debug(`Component ${Se.name} failed to register with FirebaseApp ${Ye.name}`,Ke)}}function xr(Ye,Se){Ye.container.addOrOverwriteComponent(Se)}function rn(Ye){const Se=Ye.name;if(dn.has(Se))return ce.debug(`There were multiple attempts to register component ${Se}.`),!1;dn.set(Se,Ye);for(const Ke of vt.values())hn(Ke,Ye);return!0}function us(Ye,Se){const Ke=Ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Ke&&Ke.triggerHeartbeat(),Ye.container.getProvider(Se)}function en(Ye,Se,Ke=Vn){us(Ye,Se).clearInstance(Ke)}function Wt(){dn.clear()}const cr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Gs{constructor(Se,Ke,gt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},Ke),this._name=Ke.name,this._automaticDataCollectionEnabled=Ke.automaticDataCollectionEnabled,this._container=gt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Ni="9.6.11";function zr(Ye,Se={}){"object"!=typeof Se&&(Se={name:Se});const Ke=Object.assign({name:Vn,automaticDataCollectionEnabled:!1},Se),gt=Ke.name;if("string"!=typeof gt||!gt)throw cr.create("bad-app-name",{appName:String(gt)});const Ht=vt.get(gt);if(Ht){if((0,ae.vZ)(Ye,Ht.options)&&(0,ae.vZ)(Ke,Ht.config))return Ht;throw cr.create("duplicate-app",{appName:gt})}const Vt=new K.H0(gt);for(const B of dn.values())Vt.addComponent(B);const j=new Gs(Ye,Ke,Vt);return vt.set(gt,j),j}function Fi(Ye=Vn){const Se=vt.get(Ye);if(!Se)throw cr.create("no-app",{appName:Ye});return Se}function ds(){return Array.from(vt.values())}function hs(Ye){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(Ye){const Se=Ye.name;vt.has(Se)&&(vt.delete(Se),yield Promise.all(Ye.container.getProviders().map(Ke=>Ke.delete())),Ye.isDeleted=!0)})).apply(this,arguments)}function Qi(Ye,Se,Ke){var gt;let Ht=null!==(gt=dt[Ye])&&void 0!==gt?gt:Ye;Ke&&(Ht+=`-${Ke}`);const Vt=Ht.match(/\s|\//),j=Se.match(/\s|\//);if(Vt||j){const B=[`Unable to register library "${Ht}" with version "${Se}":`];return Vt&&B.push(`library name "${Ht}" contains illegal characters (whitespace or "/")`),Vt&&j&&B.push("and"),j&&B.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void ce.warn(B.join(" "))}rn(new K.wA(`${Ht}-version`,()=>({library:Ht,version:Se}),"VERSION"))}function li(Ye,Se){if(null!==Ye&&"function"!=typeof Ye)throw cr.create("invalid-log-argument");(0,N.Am)(Ye,Se)}function Jn(Ye){(0,N.Ub)(Ye)}const wn="firebase-heartbeat-store";let ci=null;function $s(){return ci||(ci=(0,ae.X3)("firebase-heartbeat-database",1,(Ye,Se)=>{0===Se&&Ye.createObjectStore(wn)}).catch(Ye=>{throw cr.create("storage-open",{originalErrorMessage:Ye.message})})),ci}function Zt(){return(Zt=(0,a.Z)(function*(Ye){try{return(yield $s()).transaction(wn).objectStore(wn).get(pi(Ye))}catch(Se){throw cr.create("storage-get",{originalErrorMessage:Se.message})}})).apply(this,arguments)}function st(Ye,Se){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(Ye,Se){try{const gt=(yield $s()).transaction(wn,"readwrite");return yield gt.objectStore(wn).put(Se,pi(Ye)),gt.complete}catch(Ke){throw cr.create("storage-set",{originalErrorMessage:Ke.message})}})).apply(this,arguments)}function pi(Ye){return`${Ye.name}!${Ye.options.appId}`}class bo{constructor(Se){this.container=Se,this._heartbeatsCache=null;const Ke=this.container.getProvider("app").getImmediate();this._storage=new mt(Ke),this._heartbeatsCachePromise=this._storage.read().then(gt=>(this._heartbeatsCache=gt,gt))}triggerHeartbeat(){var Se=this;return(0,a.Z)(function*(){const gt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ht=wi();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Ht&&!Se._heartbeatsCache.heartbeats.some(Vt=>Vt.date===Ht))return Se._heartbeatsCache.heartbeats.push({date:Ht,agent:gt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Vt=>{const j=new Date(Vt.date).valueOf();return Date.now()-j<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,a.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const Ke=wi(),{heartbeatsToSend:gt,unsentEntries:Ht}=function mi(Ye,Se=1024){const Ke=[];let gt=Ye.slice();for(const Ht of Ye){const Vt=Ke.find(j=>j.agent===Ht.agent);if(Vt){if(Vt.dates.push(Ht.date),Ci(Ke)>Se){Vt.dates.pop();break}}else if(Ke.push({agent:Ht.agent,dates:[Ht.date]}),Ci(Ke)>Se){Ke.pop();break}gt=gt.slice(1)}return{heartbeatsToSend:Ke,unsentEntries:gt}}(Se._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:gt}));return Se._heartbeatsCache.lastSentHeartbeatDate=Ke,Ht.length>0?(Se._heartbeatsCache.heartbeats=Ht,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Vt})()}}function wi(){return(new Date).toISOString().substring(0,10)}class mt{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,a.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Ra(Ye){return Zt.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var Ke=this;return(0,a.Z)(function*(){var gt;if(yield Ke._canUseIndexedDBPromise){const Vt=yield Ke.read();return st(Ke.app,{lastSentHeartbeatDate:null!==(gt=Se.lastSentHeartbeatDate)&&void 0!==gt?gt:Vt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var Ke=this;return(0,a.Z)(function*(){var gt;if(yield Ke._canUseIndexedDBPromise){const Vt=yield Ke.read();return st(Ke.app,{lastSentHeartbeatDate:null!==(gt=Se.lastSentHeartbeatDate)&&void 0!==gt?gt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Se.heartbeats]})}})()}}function Ci(Ye){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ye})).length}!function Ut(Ye){rn(new K.wA("platform-logger",Se=>new te(Se),"PRIVATE")),rn(new K.wA("heartbeat",Se=>new bo(Se),"PRIVATE")),Qi(Q,"0.7.21",Ye),Qi(Q,"0.7.21","esm2017"),Qi("fire-js","")}("")},4859:(at,Te,P)=>{P.d(Te,{H0:()=>he,wA:()=>N});var a=P(5861),K=P(2090);class N{constructor(G,$,X){this.name=G,this.instanceFactory=$,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class te{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const X=new K.BH;if(this.instancesDeferred.set($,X),this.isInitialized($)||this.shouldAutoInitialize())try{const qe=this.getOrInitializeService({instanceIdentifier:$});qe&&X.resolve(qe)}catch(qe){}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),qe=null!==($=null==G?void 0:G.optional)&&void 0!==$&&$;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(xe){if(qe)return null;throw xe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function Q(ce){return"EAGER"===ce.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch($){}for(const[$,X]of this.instancesDeferred.entries()){const qe=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:qe});X.resolve(xe)}catch(xe){}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,a.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...$.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const qe=this.getOrInitializeService({instanceIdentifier:X,options:$});for(const[xe,Pe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(xe)&&Pe.resolve(qe);return qe}onInit(G,$){var X;const qe=this.normalizeInstanceIdentifier($),xe=null!==(X=this.onInitCallbacks.get(qe))&&void 0!==X?X:new Set;xe.add(G),this.onInitCallbacks.set(qe,xe);const Pe=this.instances.get(qe);return Pe&&G(Pe,qe),()=>{xe.delete(G)}}invokeOnInitCallbacks(G,$){const X=this.onInitCallbacks.get($);if(X)for(const qe of X)try{qe(G,$)}catch(xe){}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=G,ce===ae?void 0:ce),options:$}),this.instances.set(G,X),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(qe){}var ce;return X||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new te(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Te,P)=>{P.d(Te,{Am:()=>ce,Ub:()=>he,Yd:()=>Q,in:()=>K});const a=[];var K=(()=>{return(G=K||(K={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",K;var G})();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,te={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},me=(G,$,...X)=>{if($<G.logLevel)return;const qe=(new Date).toISOString(),xe=te[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${qe}]  ${G.name}:`,...X)};class Q{constructor($){this.name=$,this._logLevel=ae,this._logHandler=me,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in K))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...$),this._logHandler(this,K.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...$),this._logHandler(this,K.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,K.INFO,...$),this._logHandler(this,K.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,K.WARN,...$),this._logHandler(this,K.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...$),this._logHandler(this,K.ERROR,...$)}}function he(G){a.forEach($=>{$.setLogLevel(G)})}function ce(G,$){for(const X of a){let qe=null;$&&$.level&&(qe=N[$.level]),X.userLogHandler=null===G?null:(xe,Pe,...Ve)=>{const fe=Ve.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Xe){return null}}).filter(we=>we).join(" ");Pe>=(null!=qe?qe:xe.logLevel)&&G({level:K[Pe].toLowerCase(),message:fe,args:Ve,type:xe.name})}}}},5861:(at,Te,P)=>{function a(N,ae,te,me,Q,he,ce){try{var G=N[he](ce),$=G.value}catch(X){return void te(X)}G.done?ae($):Promise.resolve($).then(me,Q)}function K(N){return function(){var ae=this,te=arguments;return new Promise(function(me,Q){var he=N.apply(ae,te);function ce($){a(he,me,Q,ce,G,"next",$)}function G($){a(he,me,Q,ce,G,"throw",$)}ce(void 0)})}}P.d(Te,{Z:()=>K})}},at=>{at(at.s=8913)}]);