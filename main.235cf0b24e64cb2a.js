"use strict";(self.webpackChunkscoreboard=self.webpackChunkscoreboard||[]).push([[179],{2011:(at,De,P)=>{P.d(De,{Dh:()=>he,GT:()=>me,cc:()=>xe,hO:()=>ze,on:()=>G,pX:()=>te,xv:()=>ce});var l=P(5e3),K=P(127),N=P(5813);at=P.hmd(at);const ae=["ngOnDestroy"],te=(we,Je,We,Te={})=>new Proxy(we,{get:(ye,be)=>We.runOutsideAngular(()=>{var He;if(we[be])return(null===(He=null==Te?void 0:Te.spy)||void 0===He?void 0:He.get)&&Te.spy.get(be,we[be]),we[be];if(ae.indexOf(be)>-1)return()=>{};const Ue=Je.toPromise().then(ie=>{const W=ie&&ie[be];return"function"==typeof W?W.bind(ie):W&&W.then?W.then(re=>We.run(()=>re)):We.run(()=>W)});return new Proxy(()=>{},{get:(ie,W)=>Ue[W],apply:(ie,W,re)=>Ue.then(ge=>{var se;const Re=ge&&ge(...re);return(null===(se=null==Te?void 0:Te.spy)||void 0===se?void 0:se.apply)&&Te.spy.apply(be,re,Re),Re})})})}),me=(we,Je)=>{Je.forEach(We=>{Object.getOwnPropertyNames(We.prototype||We).forEach(Te=>{Object.defineProperty(we.prototype,Te,Object.getOwnPropertyDescriptor(We.prototype||We,Te))})})};class Q{constructor(Je){return Je}}const he=new l.OlP("angularfire2.app.options"),ce=new l.OlP("angularfire2.app.name");function G(we,Je,We){const ye="object"==typeof We&&We||{};ye.name=ye.name||"string"==typeof We&&We||"[DEFAULT]";const He=K.Z.apps.filter(Ue=>Ue&&Ue.name===ye.name)[0]||Je.runOutsideAngular(()=>K.Z.initializeApp(we,ye));try{JSON.stringify(we)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new Q(He)}const $=(we,...Je)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[we](...Je)},X={provide:Q,useFactory:G,deps:[he,l.R0b,[new l.FiY,ce]]};let ze=(()=>{class we{constructor(We){K.Z.registerVersion("angularfire",N.q4.full,"core"),K.Z.registerVersion("angularfire",N.q4.full,"app-compat"),K.Z.registerVersion("angular",l.q4F.full,We.toString())}static initializeApp(We,Te){return{ngModule:we,providers:[{provide:he,useValue:We},{provide:ce,useValue:Te}]}}}return we.\u0275fac=function(We){return new(We||we)(l.LFG(l.Lbi))},we.\u0275mod=l.oAB({type:we}),we.\u0275inj=l.cJS({providers:[X]}),we})();function xe(we,Je,We,Te,ye){const[,be,He]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===we)||[];if(be)return function Oe(we,Je){try{return we.toString()===Je.toString()}catch(We){return we===Je}}(ye,He)||(fe("error",`${Je} was already initialized on the ${We} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),fe("warn",{is:ye,was:He})),be;{const Ue=Te();return globalThis.\u0275AngularfireInstanceCache.push([we,Ue,ye]),Ue}}const Le=!!at.hot,fe=(we,...Je)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[we](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,De,P)=>{P.d(De,{q4:()=>kc,iC:()=>Fc,HU:()=>Nl,vb:()=>Ku,JM:()=>fo});var l=P(5e3),K=P(5867),N=P(5861),ae=P(9681),te=P(2090),me=P(4859),Q=P(1877);const he="@firebase/installations",$="w:0.5.8",X="FIS_v2",we=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(D){return D instanceof te.ZR&&D.code.includes("request-failed")}function We({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Te(D){return{token:D.token,requestStatus:2,expiresIn:re(D.expiresIn),creationTime:Date.now()}}function ye(D,I){return be.apply(this,arguments)}function be(){return(be=(0,N.Z)(function*(D,I){const L=(yield I.json()).error;return we.create("request-failed",{requestName:D,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function He({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function Ue(D,{refreshToken:I}){const k=He(D);return k.append("Authorization",function ge(D){return`${X} ${D}`}(I)),k}function ie(D){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(D){const I=yield D();return I.status>=500&&I.status<600?D():I})).apply(this,arguments)}function re(D){return Number(D.replace("s","000"))}function se(D,I){return Re.apply(this,arguments)}function Re(){return(Re=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},{fid:k}){const L=We(D),Z=He(D),ne=I.getImmediate({optional:!0});if(ne){const Dt=yield ne.getHeartbeatsHeader();Dt&&Z.append("x-firebase-client",Dt)}const Me={method:"POST",headers:Z,body:JSON.stringify({fid:k,authVersion:X,appId:D.appId,sdkVersion:$})},Ke=yield ie(()=>fetch(L,Me));if(Ke.ok){const Dt=yield Ke.json();return{fid:Dt.fid||k,registrationStatus:2,refreshToken:Dt.refreshToken,authToken:Te(Dt.authToken)}}throw yield ye("Create Installation",Ke)})).apply(this,arguments)}function le(D){return new Promise(I=>{setTimeout(I,D)})}const en=/^[cdef][\w-]{21}$/;function dt(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const k=function _t(D){return function It(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return en.test(k)?k:""}catch(D){return""}}function fn(D){return`${D.appName}!${D.appId}`}const pn=new Map;function Sr(D,I){const k=fn(D);tn(k,I),function qt(D,I){const k=function ar(){return!di&&"BroadcastChannel"in self&&(di=new BroadcastChannel("[Firebase] FID Change"),di.onmessage=D=>{tn(D.data.key,D.data.fid)}),di}();k&&k.postMessage({key:D,fid:I}),function $s(){0===pn.size&&di&&(di.close(),di=null)}()}(k,I)}function tn(D,I){const k=pn.get(D);if(k)for(const L of k)L(I)}let di=null;const Ni="firebase-installations-store";let ds=null;function hs(){return ds||(ds=(0,te.X3)("firebase-installations-database",1,(D,I)=>{0===I&&D.createObjectStore(Ni)})),ds}function ht(D,I){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,N.Z)(function*(D,I){const k=fn(D),Z=(yield hs()).transaction(Ni,"readwrite"),ne=Z.objectStore(Ni),Ae=yield ne.get(k);return yield ne.put(I,k),yield Z.complete,(!Ae||Ae.fid!==I.fid)&&Sr(D,I.fid),I})).apply(this,arguments)}function ri(D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,N.Z)(function*(D){const I=fn(D),L=(yield hs()).transaction(Ni,"readwrite");yield L.objectStore(Ni).delete(I),yield L.complete})).apply(this,arguments)}function lr(D,I){return vo.apply(this,arguments)}function vo(){return(vo=(0,N.Z)(function*(D,I){const k=fn(D),Z=(yield hs()).transaction(Ni,"readwrite"),ne=Z.objectStore(Ni),Ae=yield ne.get(k),Me=I(Ae);return void 0===Me?yield ne.delete(k):yield ne.put(Me,k),yield Z.complete,Me&&(!Ae||Ae.fid!==Me.fid)&&Sr(D,Me.fid),Me})).apply(this,arguments)}function wn(D){return si.apply(this,arguments)}function si(){return(si=(0,N.Z)(function*(D){let I;const k=yield lr(D.appConfig,L=>{const Z=zs(L),ne=Oa(D,Z);return I=ne.registrationPromise,ne.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function zs(D){return zt(D||{fid:dt(),registrationStatus:0})}function Oa(D,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(we.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function Wt(D,I){return st.apply(this,arguments)}(D,k);return{installationEntry:k,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Ct(D)}:{installationEntry:I}}function st(){return(st=(0,N.Z)(function*(D,I){try{const k=yield se(D,I);return ht(D.appConfig,k)}catch(k){throw Je(k)&&409===k.customData.serverCode?yield ri(D.appConfig):yield ht(D.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Ct(D){return hi.apply(this,arguments)}function hi(){return(hi=(0,N.Z)(function*(D){let I=yield Yr(D.appConfig);for(;1===I.registrationStatus;)yield le(100),I=yield Yr(D.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield wn(D);return L||k}return I})).apply(this,arguments)}function Yr(D){return lr(D,I=>{if(!I)throw we.create("installation-not-found");return zt(I)})}function zt(D){return function bo(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function bi(D,I){return fi.apply(this,arguments)}function fi(){return(fi=(0,N.Z)(function*({appConfig:D,heartbeatServiceProvider:I},k){const L=ft(D,k),Z=Ue(D,k),ne=I.getImmediate({optional:!0});if(ne){const Dt=yield ne.getHeartbeatsHeader();Dt&&Z.append("x-firebase-client",Dt)}const Me={method:"POST",headers:Z,body:JSON.stringify({installation:{sdkVersion:$,appId:D.appId}})},Ke=yield ie(()=>fetch(L,Me));if(Ke.ok)return Te(yield Ke.json());throw yield ye("Generate Auth Token",Ke)})).apply(this,arguments)}function ft(D,{fid:I}){return`${We(D)}/${I}/authTokens:generate`}function wi(D){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,N.Z)(function*(D,I=!1){let k;const L=yield lr(D.appConfig,ne=>{if(!Vt(ne))throw we.create("not-registered");const Ae=ne.authToken;if(!I&&H(Ae))return ne;if(1===Ae.requestStatus)return k=Ze(D,I),ne;{if(!navigator.onLine)throw we.create("app-offline");const Me=z(ne);return k=pt(D,Me),Me}});return k?yield k:L.authToken})).apply(this,arguments)}function Ze(D,I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,N.Z)(function*(D,I){let k=yield Ye(D.appConfig);for(;1===k.authToken.requestStatus;)yield le(100),k=yield Ye(D.appConfig);const L=k.authToken;return 0===L.requestStatus?wi(D,I):L})).apply(this,arguments)}function Ye(D){return lr(D,I=>{if(!Vt(I))throw we.create("not-registered");return function ue(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function pt(D,I){return jt.apply(this,arguments)}function jt(){return(jt=(0,N.Z)(function*(D,I){try{const k=yield bi(D,I),L=Object.assign(Object.assign({},I),{authToken:k});return yield ht(D.appConfig,L),k}catch(k){if(!Je(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield ht(D.appConfig,L)}else yield ri(D.appConfig);throw k}})).apply(this,arguments)}function Vt(D){return void 0!==D&&2===D.registrationStatus}function H(D){return 2===D.requestStatus&&!function V(D){const I=Date.now();return I<D.creationTime||D.creationTime+D.expiresIn<I+36e5}(D)}function z(D){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:I})}function Be(){return(Be=(0,N.Z)(function*(D){const I=D,{installationEntry:k,registrationPromise:L}=yield wn(I);return L?L.catch(console.error):wi(I).catch(console.error),k.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,N.Z)(function*(D,I=!1){const k=D;return yield Ci(k),(yield wi(k,I)).token})).apply(this,arguments)}function Ci(D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(D){const{registrationPromise:I}=yield wn(D);I&&(yield I)})).apply(this,arguments)}function Jn(D){return we.create("missing-app-config-values",{valueName:D})}const Na="installations",Pe=D=>{const I=D.getProvider("app").getImmediate(),k=function fs(D){if(!D||!D.options)throw Jn("App Configuration");if(!D.name)throw Jn("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!D.options[k])throw Jn(k);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,ae._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Nt=D=>{const I=D.getProvider("app").getImmediate(),k=(0,ae._getProvider)(I,Na).getImmediate();return{getId:()=>function J(D){return Be.apply(this,arguments)}(k),getToken:Z=>function yt(D){return Kt.apply(this,arguments)}(k,Z)}};(function _n(){(0,ae._registerComponent)(new me.wA(Na,Pe,"PUBLIC")),(0,ae._registerComponent)(new me.wA("installations-internal",Nt,"PRIVATE"))})(),(0,ae.registerVersion)(he,"0.5.8"),(0,ae.registerVersion)(he,"0.5.8","esm2017");const pi="@firebase/remote-config",Vn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class xu{constructor(I,k,L,Z){this.client=I,this.storage=k,this.storageCache=L,this.logger=Z}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,Z=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Z}.`),Z}fetch(I){var k=this;return(0,N.Z)(function*(){const[L,Z]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Z&&k.isCachedDataFresh(I.cacheMaxAgeMillis,L))return Z;I.eTag=Z&&Z.eTag;const ne=yield k.client.fetch(I),Ae=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&Ae.push(k.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(Ae),ne})()}}function Au(D=navigator){return D.languages&&D.languages[0]||D.language}class ml{constructor(I,k,L,Z,ne,Ae){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=L,this.projectId=Z,this.apiKey=ne,this.appId=Ae}fetch(I){var k=this;return(0,N.Z)(function*(){const[L,Z]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ae=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Me={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ke={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:Z,app_id:k.appId,language_code:Au()},Dt={method:"POST",headers:Me,body:JSON.stringify(Ke)},Rt=fetch(Ae,Dt),St=new Promise((gr,Nr)=>{I.signal.addEventListener(()=>{const Po=new Error("The operation was aborted.");Po.name="AbortError",Nr(Po)})});let Wn;try{yield Promise.race([Rt,St]),Wn=yield Rt}catch(gr){let Nr="fetch-client-network";throw"AbortError"===gr.name&&(Nr="fetch-timeout"),Vn.create(Nr,{originalErrorMessage:gr.message})}let Fn=Wn.status;const da=Wn.headers.get("ETag")||void 0;let Oo,Vi;if(200===Wn.status){let gr;try{gr=yield Wn.json()}catch(Nr){throw Vn.create("fetch-client-parse",{originalErrorMessage:Nr.message})}Oo=gr.entries,Vi=gr.state}if("INSTANCE_STATE_UNSPECIFIED"===Vi?Fn=500:"NO_CHANGE"===Vi?Fn=304:("NO_TEMPLATE"===Vi||"EMPTY_CONFIG"===Vi)&&(Oo={}),304!==Fn&&200!==Fn)throw Vn.create("fetch-status",{httpStatus:Fn});return{status:Fn,eTag:da,config:Oo}})()}}class Ap{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,N.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:L}){var Z=this;return(0,N.Z)(function*(){yield function $n(D,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),ne=setTimeout(k,Z);D.addEventListener(()=>{clearTimeout(ne),L(Vn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ne=yield Z.client.fetch(I);return yield Z.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function Mu(D){if(!(D instanceof te.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ne))throw ne;const Ae={throttleEndTimeMillis:Date.now()+(0,te.$s)(L),backoffCount:L+1};return yield Z.storage.setThrottleMetadata(Ae),Z.attemptFetch(I,Ae)}})()}}class ku{constructor(I,k,L,Z,ne){this.app=I,this._client=k,this._storageCache=L,this._storage=Z,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oc(D,I){const k=D.target.error||void 0;return Vn.create(I,{originalErrorMessage:k&&k.message})}const Ks="app_namespace_store";class Op{constructor(I,k,L,Z=function Rp(){return new Promise((D,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{I(oc(L,"storage-open"))},k.onsuccess=L=>{D(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ks,{keyPath:"compositeKey"})}}catch(k){I(Vn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=L,this.openDbPromise=Z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,N.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,ne)=>{const Me=L.transaction([Ks],"readonly").objectStore(Ks),Ke=k.createCompositeKey(I);try{const Dt=Me.get(Ke);Dt.onerror=Rt=>{ne(oc(Rt,"storage-get"))},Dt.onsuccess=Rt=>{const St=Rt.target.result;Z(St?St.value:void 0)}}catch(Dt){ne(Vn.create("storage-get",{originalErrorMessage:Dt&&Dt.message}))}})})()}set(I,k){var L=this;return(0,N.Z)(function*(){const Z=yield L.openDbPromise;return new Promise((ne,Ae)=>{const Ke=Z.transaction([Ks],"readwrite").objectStore(Ks),Dt=L.createCompositeKey(I);try{const Rt=Ke.put({compositeKey:Dt,value:k});Rt.onerror=St=>{Ae(oc(St,"storage-set"))},Rt.onsuccess=()=>{ne()}}catch(Rt){Ae(Vn.create("storage-set",{originalErrorMessage:Rt&&Rt.message}))}})})()}delete(I){var k=this;return(0,N.Z)(function*(){const L=yield k.openDbPromise;return new Promise((Z,ne)=>{const Me=L.transaction([Ks],"readwrite").objectStore(Ks),Ke=k.createCompositeKey(I);try{const Dt=Me.delete(Ke);Dt.onerror=Rt=>{ne(oc(Rt,"storage-delete"))},Dt.onsuccess=()=>{Z()}}catch(Dt){ne(Vn.create("storage-delete",{originalErrorMessage:Dt&&Dt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Ou{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const k=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),Z=I.storage.getActiveConfig(),ne=yield k;ne&&(I.lastFetchStatus=ne);const Ae=yield L;Ae&&(I.lastSuccessfulFetchTimestampMillis=Ae);const Me=yield Z;Me&&(I.activeConfig=Me)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Eo(){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,N.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Xo(){(0,ae._registerComponent)(new me.wA("remote-config",function D(I,{instanceIdentifier:k}){const L=I.getProvider("app").getImmediate(),Z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,te.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:ne,apiKey:Ae,appId:Me}=L.options;if(!ne)throw Vn.create("registration-project-id");if(!Ae)throw Vn.create("registration-api-key");if(!Me)throw Vn.create("registration-app-id");const Ke=new Op(Me,L.name,k=k||"firebase"),Dt=new Ou(Ke),Rt=new Q.Yd(pi);Rt.logLevel=Q.in.ERROR;const St=new ml(Z,ae.SDK_VERSION,k,ne,Ae,Me),Wn=new Ap(St,Ke),Fn=new xu(Wn,Ke,Dt,Rt),da=new ku(L,Fn,Dt,Ke,Rt);return function ai(D){const I=(0,te.m9)(D);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(da),da},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(pi,"0.3.7"),(0,ae.registerVersion)(pi,"0.3.7","esm2017")}();const ac="/firebase-messaging-sw.js",Qs="/firebase-cloud-messaging-push-scope",Ji="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",La="google.c.a.c_l",Pu="google.c.a.ts",Pp="google.c.a.e";var Js=(()=>{return(D=Js||(Js={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Js;var D})();function ur(D){const I=new Uint8Array(D);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function _l(D){const k=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),Z=new Uint8Array(L.length);for(let ne=0;ne<L.length;++ne)Z[ne]=L.charCodeAt(ne);return Z}const yl="fcm_token_details_db",mi="fcm_token_object_Store";function Eh(D){return vl.apply(this,arguments)}function vl(){return vl=(0,N.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(yl))return null;let I=null;return(yield(0,te.X3)(yl,5,function(){var L=(0,N.Z)(function*(Z,ne,Ae,Me){var Ke;if(ne<2||!Z.objectStoreNames.contains(mi))return;const Dt=Me.objectStore(mi),Rt=yield Dt.index("fcmSenderId").get(D);if(yield Dt.clear(),Rt)if(2===ne){const St=Rt;if(!St.auth||!St.p256dh||!St.endpoint)return;I={token:St.fcmToken,createTime:null!==(Ke=St.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:ur(St.vapidKey)}}}else if(3===ne){const St=Rt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ur(St.auth),p256dh:ur(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ur(St.vapidKey)}}}else if(4===ne){const St=Rt;I={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ur(St.auth),p256dh:ur(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ur(St.vapidKey)}}}});return function(Z,ne,Ae,Me){return L.apply(this,arguments)}}())).close(),yield(0,te.Lj)(yl),yield(0,te.Lj)("fcm_vapid_details_db"),yield(0,te.Lj)("undefined"),Nu(I)?I:null}),vl.apply(this,arguments)}function Nu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:I}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ys="firebase-messaging-store";let Ba=null;function lc(){return Ba||(Ba=(0,te.X3)("firebase-messaging-database",1,(D,I)=>{0===I&&D.createObjectStore(ys)})),Ba}function yn(D){return ta.apply(this,arguments)}function ta(){return(ta=(0,N.Z)(function*(D){const I=Io(D),L=yield(yield lc()).transaction(ys).objectStore(ys).get(I);if(L)return L;{const Z=yield Eh(D.appConfig.senderId);if(Z)return yield Xs(D,Z),Z}})).apply(this,arguments)}function Xs(D,I){return ln.apply(this,arguments)}function ln(){return(ln=(0,N.Z)(function*(D,I){const k=Io(D),Z=(yield lc()).transaction(ys,"readwrite");return yield Z.objectStore(ys).put(I,k),yield Z.complete,I})).apply(this,arguments)}function Fu(D){return To.apply(this,arguments)}function To(){return(To=(0,N.Z)(function*(D){const I=Io(D),L=(yield lc()).transaction(ys,"readwrite");yield L.objectStore(ys).delete(I),yield L.complete})).apply(this,arguments)}function Io({appConfig:D}){return D.appId}const Hn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Va(D,I){return xr.apply(this,arguments)}function xr(){return(xr=(0,N.Z)(function*(D,I){const k=yield to(D),L=mt(I),Z={method:"POST",headers:k,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(er(D.appConfig),Z)).json()}catch(Ae){throw Hn.create("token-subscribe-failed",{errorInfo:Ae})}if(ne.error)throw Hn.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Hn.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Di(D,I){return eo.apply(this,arguments)}function eo(){return(eo=(0,N.Z)(function*(D,I){const k=yield to(D),L=mt(I.subscriptionOptions),Z={method:"PATCH",headers:k,body:JSON.stringify(L)};let ne;try{ne=yield(yield fetch(`${er(D.appConfig)}/${I.token}`,Z)).json()}catch(Ae){throw Hn.create("token-update-failed",{errorInfo:Ae})}if(ne.error)throw Hn.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Hn.create("token-update-no-token");return ne.token})).apply(this,arguments)}function vs(D,I){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,N.Z)(function*(D,I){const L={method:"DELETE",headers:yield to(D)};try{const ne=yield(yield fetch(`${er(D.appConfig)}/${I}`,L)).json();if(ne.error)throw Hn.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Z){throw Hn.create("token-unsubscribe-failed",{errorInfo:Z})}})).apply(this,arguments)}function er({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function to(D){return no.apply(this,arguments)}function no(){return(no=(0,N.Z)(function*({appConfig:D,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function mt({p256dh:D,auth:I,endpoint:k,vapidKey:L}){const Z={web:{endpoint:k,auth:I,p256dh:D}};return L!==Ji&&(Z.web.applicationPubKey=L),Z}const El=6048e5;function Ua(D){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,N.Z)(function*(D){const I=yield dc(D.swRegistration,D.vapidKey),k={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:I.endpoint,auth:ur(I.getKey("auth")),p256dh:ur(I.getKey("p256dh"))},L=yield yn(D.firebaseDependencies);if(L){if(na(L.subscriptionOptions,k))return Date.now()>=L.createTime+El?cc(D,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield vs(D.firebaseDependencies,L.token)}catch(Z){console.warn(Z)}return Ee(D.firebaseDependencies,k)}return Ee(D.firebaseDependencies,k)})).apply(this,arguments)}function Tl(D){return Il.apply(this,arguments)}function Il(){return(Il=(0,N.Z)(function*(D){const I=yield yn(D.firebaseDependencies);I&&(yield vs(D.firebaseDependencies,I.token),yield Fu(D.firebaseDependencies));const k=yield D.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function cc(D,I){return uc.apply(this,arguments)}function uc(){return(uc=(0,N.Z)(function*(D,I){try{const k=yield Di(D.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield Xs(D.firebaseDependencies,L),k}catch(k){throw yield Tl(D),k}})).apply(this,arguments)}function Ee(D,I){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,N.Z)(function*(D,I){const L={token:yield Va(D,I),createTime:Date.now(),subscriptionOptions:I};return yield Xs(D,L),L.token})).apply(this,arguments)}function dc(D,I){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,N.Z)(function*(D,I){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:_l(I)})})).apply(this,arguments)}function na(D,I){return I.vapidKey===D.vapidKey&&I.endpoint===D.endpoint&&I.auth===D.auth&&I.p256dh===D.p256dh}function ia(D){const I={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function tr(D,I){if(!I.notification)return;D.notification={};const k=I.notification.title;k&&(D.notification.title=k);const L=I.notification.body;L&&(D.notification.body=L);const Z=I.notification.image;Z&&(D.notification.image=Z)}(I,D),function hc(D,I){!I.data||(D.data=I.data)}(I,D),function fc(D,I){if(!I.fcmOptions)return;D.fcmOptions={};const k=I.fcmOptions.link;k&&(D.fcmOptions.link=k);const L=I.fcmOptions.analytics_label;L&&(D.fcmOptions.analyticsLabel=L)}(I,D),I}function Lu(D){return"object"==typeof D&&!!D&&Do in D}function pc(D,I){const k=[];for(let L=0;L<D.length;L++)k.push(D.charAt(L)),L<I.length&&k.push(I.charAt(L));return k.join("")}function io(D){return Hn.create("missing-app-config-values",{valueName:D})}pc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class gi{constructor(I,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Z=function Sl(D){if(!D||!D.options)throw io("App Configuration Object");if(!D.name)throw io("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=D;for(const L of I)if(!k[L])throw io(L);return{appName:D.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Z,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function dr(D){return xl.apply(this,arguments)}function xl(){return(xl=(0,N.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ac,{scope:Qs}),D.swRegistration.update().catch(()=>{})}catch(I){throw Hn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ro(D,I){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,N.Z)(function*(D,I){if(!I&&!D.swRegistration&&(yield dr(D)),I||!D.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Hn.create("invalid-sw-registration");D.swRegistration=I}})).apply(this,arguments)}function mc(D,I){return Al.apply(this,arguments)}function Al(){return(Al=(0,N.Z)(function*(D,I){I?D.vapidKey=I:D.vapidKey||(D.vapidKey=Ji)})).apply(this,arguments)}function gc(){return(gc=(0,N.Z)(function*(D,I){if(!navigator)throw Hn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hn.create("permission-blocked");return yield mc(D,null==I?void 0:I.vapidKey),yield ro(D,null==I?void 0:I.serviceWorkerRegistration),Ua(D)})).apply(this,arguments)}function Ha(D,I,k){return ra.apply(this,arguments)}function ra(){return(ra=(0,N.Z)(function*(D,I,k){const L=_c(I);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Do],message_name:k[La],message_time:k[Pu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _c(D){switch(D){case Js.NOTIFICATION_CLICKED:return"notification_open";case Js.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Bu(){return(Bu=(0,N.Z)(function*(D,I){const k=I.data;if(!k.isFirebaseMessaging)return;D.onMessageHandler&&k.messageType===Js.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(ia(k)):D.onMessageHandler.next(ia(k)));const L=k.data;Lu(L)&&"1"===L[Pp]&&(yield Ha(D,k.messageType,L))})).apply(this,arguments)}const vc="@firebase/messaging",Vu=D=>{const I=new gi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function yc(D,I){return Bu.apply(this,arguments)}(I,k)),I},xo=D=>{const I=D.getProvider("messaging").getImmediate();return{getToken:L=>function Ml(D,I){return gc.apply(this,arguments)}(I,L)}};function Hu(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,N.Z)(function*(){try{yield(0,te.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uu(){(0,ae._registerComponent)(new me.wA("messaging",Vu,"PUBLIC")),(0,ae._registerComponent)(new me.wA("messaging-internal",xo,"PRIVATE")),(0,ae.registerVersion)(vc,"0.9.12"),(0,ae.registerVersion)(vc,"0.9.12","esm2017")}();const wc="analytics",o_="firebase_id",ja="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kl="https://www.googletagmanager.com/gtag/js",zn=new Q.Yd("@firebase/analytics");function ju(D){return Promise.all(D.map(I=>I.catch(k=>k)))}function Np(D,I){const k=document.createElement("script");k.src=`${kl}?l=${D}&id=${I}`,k.async=!0,document.head.appendChild(k)}function sa(D,I,k,L,Z,ne){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,N.Z)(function*(D,I,k,L,Z,ne){const Ae=L[Z];try{if(Ae)yield I[Ae];else{const Ke=(yield ju(k)).find(Dt=>Dt.measurementId===Z);Ke&&(yield I[Ke.appId])}}catch(Me){zn.error(Me)}D("config",Z,ne)})).apply(this,arguments)}function Ec(D,I,k,L,Z){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,N.Z)(function*(D,I,k,L,Z){try{let ne=[];if(Z&&Z.send_to){let Ae=Z.send_to;Array.isArray(Ae)||(Ae=[Ae]);const Me=yield ju(k);for(const Ke of Ae){const Dt=Me.find(St=>St.measurementId===Ke),Rt=Dt&&I[Dt.appId];if(!Rt){ne=[];break}ne.push(Rt)}}0===ne.length&&(ne=Object.values(I)),yield Promise.all(ne),D("event",L,Z||{})}catch(ne){zn.error(ne)}})).apply(this,arguments)}function Fp(){const D=window.document.getElementsByTagName("script");for(const I of Object.values(D))if(I.src&&I.src.includes(kl))return I;return null}const jn=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qn=new class Ii{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function oa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function zu(D){return vn.apply(this,arguments)}function vn(){return(vn=(0,N.Z)(function*(D){var I;const{appId:k,apiKey:L}=D,Z={method:"GET",headers:oa(L)},ne=ja.replace("{app-id}",k),Ae=yield fetch(ne,Z);if(200!==Ae.status&&304!==Ae.status){let Me="";try{const Ke=yield Ae.json();(null===(I=Ke.error)||void 0===I?void 0:I.message)&&(Me=Ke.error.message)}catch(Ke){}throw jn.create("config-fetch-failed",{httpStatus:Ae.status,responseMessage:Me})}return Ae.json()})).apply(this,arguments)}function Th(D){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,N.Z)(function*(D,I=qn,k){const{appId:L,apiKey:Z,measurementId:ne}=D.options;if(!L)throw jn.create("no-app-id");if(!Z){if(ne)return{measurementId:ne,appId:L};throw jn.create("no-api-key")}const Ae=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new Tc;return setTimeout((0,N.Z)(function*(){Me.abort()}),void 0!==k?k:6e4),Rl({appId:L,apiKey:Z,measurementId:ne},Ae,Me,I)})).apply(this,arguments)}function Rl(D,I,k){return hr.apply(this,arguments)}function hr(){return(hr=(0,N.Z)(function*(D,{throttleEndTimeMillis:I,backoffCount:k},L,Z=qn){const{appId:ne,measurementId:Ae}=D;try{yield vt(L,I)}catch(Me){if(Ae)return zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ne,measurementId:Ae};throw Me}try{const Me=yield zu(D);return Z.deleteThrottleMetadata(ne),Me}catch(Me){if(!qu(Me)){if(Z.deleteThrottleMetadata(ne),Ae)return zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ae} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ne,measurementId:Ae};throw Me}const Ke=503===Number(Me.customData.httpStatus)?(0,te.$s)(k,Z.intervalMillis,30):(0,te.$s)(k,Z.intervalMillis),Dt={throttleEndTimeMillis:Date.now()+Ke,backoffCount:k+1};return Z.setThrottleMetadata(ne,Dt),zn.debug(`Calling attemptFetch again in ${Ke} millis`),Rl(D,Dt,L,Z)}})).apply(this,arguments)}function vt(D,I){return new Promise((k,L)=>{const Z=Math.max(I-Date.now(),0),ne=setTimeout(k,Z);D.addEventListener(()=>{clearTimeout(ne),L(jn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function qu(D){if(!(D instanceof te.ZR&&D.customData))return!1;const I=Number(D.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Tc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Ic(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,N.Z)(function*(){if(!(0,te.hl)())return zn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(D){return zn.warn(jn.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Cs(){return(Cs=(0,N.Z)(function*(D,I,k,L,Z,ne,Ae){var Me;const Ke=Th(D);Ke.then(Fn=>{k[Fn.measurementId]=Fn.appId,D.options.measurementId&&Fn.measurementId!==D.options.measurementId&&zn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Fn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Fn=>zn.error(Fn)),I.push(Ke);const Dt=Ic().then(Fn=>{if(Fn)return L.getId()}),[Rt,St]=yield Promise.all([Ke,Dt]);Fp()||Np(ne,Rt.measurementId),Z("js",new Date);const Wn=null!==(Me=null==Ae?void 0:Ae.config)&&void 0!==Me?Me:{};return Wn.origin="firebase",Wn.update=!0,null!=St&&(Wn[o_]=St),Z("config",Rt.measurementId,Wn),Rt.measurementId})).apply(this,arguments)}class aa{constructor(I){this.app=I}_delete(){return delete fr[this.app.options.appId],Promise.resolve()}}let fr={},ao=[];const Bi={};let lo,Jr,kr="dataLayer",xc=!1;function nr(D,I,k){!function Es(){const D=[];if((0,te.ru)()&&D.push("This is a browser extension environment."),(0,te.zI)()||D.push("Cookies are not available."),D.length>0){const I=D.map((L,Z)=>`(${Z+1}) ${L}`).join(" "),k=jn.create("invalid-analytics-context",{errorInfo:I});zn.warn(k.message)}}();const L=D.options.appId;if(!L)throw jn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw jn.create("no-api-key");zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=fr[L])throw jn.create("already-exists",{id:L});if(!xc){!function ws(D){let I=[];Array.isArray(window[D])?I=window[D]:window[D]=I}(kr);const{wrappedGtag:ne,gtagCore:Ae}=function $u(D,I,k,L,Z){let ne=function(...Ae){window[L].push(arguments)};return window[Z]&&"function"==typeof window[Z]&&(ne=window[Z]),window[Z]=function Dc(D,I,k,L){function ne(){return(ne=(0,N.Z)(function*(Ae,Me,Ke){try{"event"===Ae?yield Ec(D,I,k,Me,Ke):"config"===Ae?yield sa(D,I,k,L,Me,Ke):D("set",Me)}catch(Dt){zn.error(Dt)}})).apply(this,arguments)}return function Z(Ae,Me,Ke){return ne.apply(this,arguments)}}(ne,D,I,k),{gtagCore:ne,wrappedGtag:window[Z]}}(fr,ao,Bi,kr,"gtag");Jr=ne,lo=Ae,xc=!0}return fr[L]=function En(D,I,k,L,Z,ne,Ae){return Cs.apply(this,arguments)}(D,ao,Bi,I,lo,kr,k),new aa(D)}function Sn(){return(Sn=(0,N.Z)(function*(D,I,k,L,Z){if(Z&&Z.global)D("event",k,L);else{const ne=yield I;D("event",k,Object.assign(Object.assign({},L),{send_to:ne}))}})).apply(this,arguments)}function An(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,N.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(D){return!1}})).apply(this,arguments)}const uo="@firebase/analytics";!function Ih(){(0,ae._registerComponent)(new me.wA(wc,(I,{options:k})=>nr(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ae._registerComponent)(new me.wA("analytics-internal",function D(I){try{const k=I.getProvider(wc).getImmediate();return{logEvent:(L,Z,ne)=>function Vp(D,I,k,L){D=(0,te.m9)(D),function co(D,I,k,L,Z){return Sn.apply(this,arguments)}(Jr,fr[D.app.options.appId],I,k,L).catch(Z=>zn.error(Z))}(k,L,Z,ne)}}catch(k){throw jn.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ae.registerVersion)(uo,"0.7.8"),(0,ae.registerVersion)(uo,"0.7.8","esm2017")}();var ho=P(4408),Ol=P(7565);const Ac=new class Mn extends Ol.v{}(class Ts extends ho.o{constructor(I,k){super(I,k),this.scheduler=I,this.work=k}schedule(I,k=0){return k>0?super.schedule(I,k):(this.delay=k,this.state=I,this.scheduler.flush(this),this)}execute(I,k){return k>0||this.closed?super.execute(I,k):this._execute(I,k)}requestAsyncId(I,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(I,k,L):I.flush(this)}});var Up=P(4986),Mc=P(8505),xi=P(9468),pr=P(5363);const kc=new l.GfV("7.3.0"),Is="__angularfire_symbol__analyticsIsSupportedValue",Pr="__angularfire_symbol__analyticsIsSupported",Xr="__angularfire_symbol__remoteConfigIsSupportedValue",Ga="__angularfire_symbol__remoteConfigIsSupported",Rc="__angularfire_symbol__messagingIsSupportedValue",Oc="__angularfire_symbol__messagingIsSupported";function fo(D,I,k){if(I){if(1===I.length)return I[0];const ne=I.filter(Ae=>Ae.app===k);if(1===ne.length)return ne[0]}return k.container.getProvider(D).getImmediate({optional:!0})}globalThis[Pr]||(globalThis[Pr]=An().then(D=>globalThis[Is]=D).catch(()=>globalThis[Is]=!1)),globalThis[Oc]||(globalThis[Oc]=Hu().then(D=>globalThis[Rc]=D).catch(()=>globalThis[Rc]=!1)),globalThis[Ga]||(globalThis[Ga]=Eo().then(D=>globalThis[Xr]=D).catch(()=>globalThis[Xr]=!1));const Ku=(D,I)=>{const k=I?[I]:(0,K.C6)(),L=[];return k.forEach(Z=>{Z.container.getProvider(D).instances.forEach(Ae=>{L.includes(Ae)||L.push(Ae)})}),L};function ko(){}class Pl{constructor(I,k=Ac){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,L){const Z=this.zone;return this.delegate.schedule(function(Ae){Z.runGuarded(()=>{I.apply(this,[Ae])})},k,L)}}class es{constructor(I){this.zone=I,this.task=null}call(I,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ko,{},ko,ko)),k.pipe((0,Mc.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Nl=(()=>{class D{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Pl(Zone.current)),this.insideAngular=k.run(()=>new Pl(Zone.current,Up.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(k){return new(k||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function ts(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Fc(D){return ts(),function Ro(D){return function(k){return(k=k.lift(new es(D.ngZone))).pipe((0,xi.R)(D.outsideAngular),(0,pr.Q)(D.insideAngular))}}(ts())(D)}},2090:(at,De,P)=>{P.d(De,{$s:()=>bo,BH:()=>xe,G6:()=>ie,L:()=>ce,LL:()=>It,Lj:()=>jt,Mn:()=>He,Sg:()=>Oe,UG:()=>we,US:()=>Q,X3:()=>pt,ZB:()=>X,ZR:()=>le,b$:()=>Te,d:()=>ye,eu:()=>re,hl:()=>W,jU:()=>Je,m9:()=>ft,ne:()=>ht,pd:()=>ds,r3:()=>tn,ru:()=>We,tV:()=>G,uI:()=>fe,vZ:()=>$s,w1:()=>be,xO:()=>Zr,xb:()=>di,z$:()=>Le,zI:()=>ge,zd:()=>Ni});var l=P(5861);const te=function(H){const V=[];let z=0;for(let ue=0;ue<H.length;ue++){let J=H.charCodeAt(ue);J<128?V[z++]=J:J<2048?(V[z++]=J>>6|192,V[z++]=63&J|128):55296==(64512&J)&&ue+1<H.length&&56320==(64512&H.charCodeAt(ue+1))?(J=65536+((1023&J)<<10)+(1023&H.charCodeAt(++ue)),V[z++]=J>>18|240,V[z++]=J>>12&63|128,V[z++]=J>>6&63|128,V[z++]=63&J|128):(V[z++]=J>>12|224,V[z++]=J>>6&63|128,V[z++]=63&J|128)}return V},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,V){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=V?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let J=0;J<H.length;J+=3){const Be=H[J],yt=J+1<H.length,Kt=yt?H[J+1]:0,Ci=J+2<H.length,Zt=Ci?H[J+2]:0;let gn=(15&Kt)<<2|Zt>>6,oi=63&Zt;Ci||(oi=64,yt||(gn=64)),ue.push(z[Be>>2],z[(3&Be)<<4|Kt>>4],z[gn],z[oi])}return ue.join("")},encodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?btoa(H):this.encodeByteArray(te(H),V)},decodeString(H,V){return this.HAS_NATIVE_SUPPORT&&!V?atob(H):function(H){const V=[];let z=0,ue=0;for(;z<H.length;){const J=H[z++];if(J<128)V[ue++]=String.fromCharCode(J);else if(J>191&&J<224){const Be=H[z++];V[ue++]=String.fromCharCode((31&J)<<6|63&Be)}else if(J>239&&J<365){const Ci=((7&J)<<18|(63&H[z++])<<12|(63&H[z++])<<6|63&H[z++])-65536;V[ue++]=String.fromCharCode(55296+(Ci>>10)),V[ue++]=String.fromCharCode(56320+(1023&Ci))}else{const Be=H[z++],yt=H[z++];V[ue++]=String.fromCharCode((15&J)<<12|(63&Be)<<6|63&yt)}}return V.join("")}(this.decodeStringToByteArray(H,V))},decodeStringToByteArray(H,V){this.init_();const z=V?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let J=0;J<H.length;){const Be=z[H.charAt(J++)],Kt=J<H.length?z[H.charAt(J)]:0;++J;const Zt=J<H.length?z[H.charAt(J)]:64;++J;const Pt=J<H.length?z[H.charAt(J)]:64;if(++J,null==Be||null==Kt||null==Zt||null==Pt)throw Error();ue.push(Be<<2|Kt>>4),64!==Zt&&(ue.push(Kt<<4&240|Zt>>2),64!==Pt&&ue.push(Zt<<6&192|Pt))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ce=function(H){return function(H){const V=te(H);return Q.encodeByteArray(V,!0)}(H).replace(/\./g,"")},G=function(H){try{return Q.decodeString(H,!0)}catch(V){console.error("base64Decode failed: ",V)}return null};function X(H,V){if(!(V instanceof Object))return V;switch(V.constructor){case Date:return new Date(V.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return V}for(const z in V)!V.hasOwnProperty(z)||!ze(z)||(H[z]=X(H[z],V[z]));return H}function ze(H){return"__proto__"!==H}class xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((V,z)=>{this.resolve=V,this.reject=z})}wrapCallback(V){return(z,ue)=>{z?this.reject(z):this.resolve(ue),"function"==typeof V&&(this.promise.catch(()=>{}),1===V.length?V(z):V(z,ue))}}}function Oe(H,V){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=V||"demo-project",J=H.iat||0,Be=H.sub||H.user_id;if(!Be)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:J,exp:J+3600,auth_time:J,sub:Be,user_id:Be,firebase:{sign_in_provider:"custom",identities:{}}},H);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(yt)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Je(){return"object"==typeof self&&self.self===self}function We(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return Le().indexOf("Electron/")>=0}function be(){const H=Le();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function He(){return Le().indexOf("MSAppHost/")>=0}function ie(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W(){return"object"==typeof indexedDB}function re(){return new Promise((H,V)=>{try{let z=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ue);J.onsuccess=()=>{J.result.close(),z||self.indexedDB.deleteDatabase(ue),H(!0)},J.onupgradeneeded=()=>{z=!1},J.onerror=()=>{var Be;V((null===(Be=J.error)||void 0===Be?void 0:Be.message)||"")}}catch(z){V(z)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(V,z,ue){super(z),this.code=V,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(V,z,ue){this.service=V,this.serviceName=z,this.errors=ue}create(V,...z){const ue=z[0]||{},J=`${this.service}/${V}`,Be=this.errors[V],yt=Be?function en(H,V){return H.replace(Bn,(z,ue)=>{const J=V[ue];return null!=J?String(J):`<${ue}?>`})}(Be,ue):"Error";return new le(J,`${this.serviceName}: ${yt} (${J}).`,ue)}}const Bn=/\{\$([^}]+)}/g;function tn(H,V){return Object.prototype.hasOwnProperty.call(H,V)}function di(H){for(const V in H)if(Object.prototype.hasOwnProperty.call(H,V))return!1;return!0}function $s(H,V){if(H===V)return!0;const z=Object.keys(H),ue=Object.keys(V);for(const J of z){if(!ue.includes(J))return!1;const Be=H[J],yt=V[J];if(Pi(Be)&&Pi(yt)){if(!$s(Be,yt))return!1}else if(Be!==yt)return!1}for(const J of ue)if(!z.includes(J))return!1;return!0}function Pi(H){return null!==H&&"object"==typeof H}function Zr(H){const V=[];for(const[z,ue]of Object.entries(H))Array.isArray(ue)?ue.forEach(J=>{V.push(encodeURIComponent(z)+"="+encodeURIComponent(J))}):V.push(encodeURIComponent(z)+"="+encodeURIComponent(ue));return V.length?"&"+V.join("&"):""}function Ni(H){const V={};return H.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[J,Be]=ue.split("=");V[decodeURIComponent(J)]=decodeURIComponent(Be)}}),V}function ds(H){const V=H.indexOf("?");if(!V)return"";const z=H.indexOf("#",V);return H.substring(V,z>0?z:void 0)}function ht(H,V){const z=new Yi(H,V);return z.subscribe.bind(z)}class Yi{constructor(V,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{V(this)}).catch(ue=>{this.error(ue)})}next(V){this.forEachObserver(z=>{z.next(V)})}error(V){this.forEachObserver(z=>{z.error(V)}),this.close(V)}complete(){this.forEachObserver(V=>{V.complete()}),this.close()}subscribe(V,z,ue){let J;if(void 0===V&&void 0===z&&void 0===ue)throw new Error("Missing Observer.");J=function Qn(H,V){if("object"!=typeof H||null===H)return!1;for(const z of V)if(z in H&&"function"==typeof H[z])return!0;return!1}(V,["next","error","complete"])?V:{next:V,error:z,complete:ue},void 0===J.next&&(J.next=lr),void 0===J.error&&(J.error=lr),void 0===J.complete&&(J.complete=lr);const Be=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch(yt){}}),this.observers.push(J),Be}unsubscribeOne(V){void 0===this.observers||void 0===this.observers[V]||(delete this.observers[V],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(V){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,V)}sendOne(V,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[V])try{z(this.observers[V])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(V){this.finalized||(this.finalized=!0,void 0!==V&&(this.finalError=V),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lr(){}function bo(H,V=1e3,z=2){const ue=V*Math.pow(z,H),J=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+J)}function ft(H){return H&&H._delegate?H._delegate:H}function wi(H,V){return new Promise((z,ue)=>{H.onsuccess=J=>{z(J.target.result)},H.onerror=J=>{var Be;ue(`${V}: ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}})}class Ht{constructor(V){this._db=V,this.objectStoreNames=this._db.objectStoreNames}transaction(V,z="readonly"){return new Ze(this._db.transaction.call(this._db,V,z))}createObjectStore(V,z){return new Ie(this._db.createObjectStore(V,z))}close(){this._db.close()}}class Ze{constructor(V){this._transaction=V,this.complete=new Promise((z,ue)=>{this._transaction.oncomplete=function(){z()},this._transaction.onerror=()=>{ue(this._transaction.error)},this._transaction.onabort=()=>{ue(this._transaction.error)}})}objectStore(V){return new Ie(this._transaction.objectStore(V))}}class Ie{constructor(V){this._store=V}index(V){return new Ye(this._store.index(V))}createIndex(V,z,ue){return new Ye(this._store.createIndex(V,z,ue))}get(V){return wi(this._store.get(V),"Error reading from IndexedDB")}put(V,z){return wi(this._store.put(V,z),"Error writing to IndexedDB")}delete(V){return wi(this._store.delete(V),"Error deleting from IndexedDB")}clear(){return wi(this._store.clear(),"Error clearing IndexedDB object store")}}class Ye{constructor(V){this._index=V}get(V){return wi(this._index.get(V),"Error reading from IndexedDB")}}function pt(H,V,z){return new Promise((ue,J)=>{try{const Be=indexedDB.open(H,V);Be.onsuccess=yt=>{ue(new Ht(yt.target.result))},Be.onerror=yt=>{var Kt;J(`Error opening indexedDB: ${null===(Kt=yt.target.error)||void 0===Kt?void 0:Kt.message}`)},Be.onupgradeneeded=yt=>{z(new Ht(Be.result),yt.oldVersion,yt.newVersion,new Ze(Be.transaction))}}catch(Be){J(`Error opening indexedDB: ${Be.message}`)}})}function jt(H){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(H){return new Promise((V,z)=>{try{const ue=indexedDB.deleteDatabase(H);ue.onsuccess=()=>{V()},ue.onerror=J=>{var Be;z(`Error deleting indexedDB database "${H}": ${null===(Be=J.target.error)||void 0===Be?void 0:Be.message}`)}}catch(ue){z(`Error deleting indexedDB database "${H}": ${ue.message}`)}})})).apply(this,arguments)}},8913:(at,De,P)=>{var l=P(5e3);let K=null;function N(){return K}const Q=new l.OlP("DocumentToken");let he=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ce(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const G=new l.OlP("Location Initialized");let $=(()=>{class n extends he{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=N().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){X()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){X()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ze(){return new $((0,l.LFG)(Q))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function xe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Oe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let fe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function we(n){const t=(0,l.LFG)(Q).location;return new We((0,l.LFG)(he),t&&t.origin||"")}()},providedIn:"root"}),n})();const Je=new l.OlP("appBaseHref");let We=(()=>{class n extends fe{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return xe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Le(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const u=this.prepareExternalUrl(r+Le(a));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){const u=this.prepareExternalUrl(r+Le(a));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(he),l.LFG(Je,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends fe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=xe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let u=this.prepareExternalUrl(r+Le(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){let u=this.prepareExternalUrl(r+Le(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(he),l.LFG(Je,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n{constructor(e,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Oe(Ue(r)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Le(i))}normalize(e){return n.stripTrailingSlash(function He(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Le(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Le,n.joinWithSlash=xe,n.stripTrailingSlash=Oe,n.\u0275fac=function(e){return new(e||n)(l.LFG(fe),l.LFG(he))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return new ye((0,l.LFG)(fe),(0,l.LFG)(he))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}function Co(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}let ps=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Zs{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Un=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Zs(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),ms(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ms(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ms(n,t){n.context.$implicit=t.item}let ai=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new an,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){hl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){hl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class an{constructor(){this.$implicit=null,this.ngIf=null}}function hl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class fl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ki=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Fi=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new fl(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ki,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),sc=(()=>{class n{constructor(e,i,r){r._addDefault(new fl(e,i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ki,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Js="browser";function mi(n){return"server"===n}let bl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new wl((0,l.LFG)(Q),window)}),n})();class wl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Ba(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ys(this.window.history)||ys(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ys(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class yn{}class Xs extends class ta extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){K||(K=n)}(new Xs)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Fu(){return ln=ln||document.querySelector("base"),ln?ln.getAttribute("href"):null}();return null==e?null:function Io(n){To=To||document.createElement("a"),To.setAttribute("href",n);const t=To.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ln=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Co(document.cookie,t)}}let To,ln=null;const Ei=new l.OlP("TRANSITION_ID"),Va=[{provide:l.ip1,useFactory:function Hn(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=N(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Ei,Q,l.zs3],multi:!0}];class xr{static init(){(0,l.VLi)(new xr)}addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?N().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Di=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const eo=new l.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(eo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Cl{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=N().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let er=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),to=(()=>{class n extends er{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(no),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(no))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function no(n){N().remove(n)}const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},El=/%COMP%/g;function Ee(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ee(n,r,e):(r=r.replace(El,n),e.push(r))}return e}function Ut(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Cn=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new na(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new hc(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case l.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ee(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs),l.LFG(to),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class na{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(mt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=mt[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=mt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ut(i)):this.eventManager.addEventListener(t,e,Ut(i))}}class hc extends na{constructor(t,e,i,r){super(t),this.component=i;const a=Ee(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function cc(n){return"_ngcontent-%COMP%".replace(El,n)}(r+"-"+i.id),this.hostAttr=function uc(n){return"_nghost-%COMP%".replace(El,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class fc extends na{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ee(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Lu=(()=>{class n extends Cl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pc=["alt","control","meta","shift"],io={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gi={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},dr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xl=(()=>{class n extends Cl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(pc.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(e){let i="",r=function ro(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&gi.hasOwnProperty(t)&&(t=gi[t]))}return io[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pc.forEach(a=>{a!=r&&dr[a](e)&&(i+=a+".")}),i+=r,i}static eventCallback(e,i,r){return a=>{n.getEventFullKey(a)===e&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Js},{provide:l.g9A,useValue:function Ar(){Xs.makeCurrent(),xr.init()},multi:!0},{provide:Q,useFactory:function Al(){return(0,l.RDi)(document),document},deps:[]}]),Ha=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function mc(){return new l.qLn},deps:[]},{provide:eo,useClass:Lu,multi:!0,deps:[Q,l.R0b,l.Lbi]},{provide:eo,useClass:xl,multi:!0,deps:[Q]},{provide:Cn,useClass:Cn,deps:[vs,to,l.AFp]},{provide:l.FYo,useExisting:Cn},{provide:er,useExisting:to},{provide:to,useClass:to,deps:[Q]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:vs,useClass:vs,deps:[eo,l.R0b]},{provide:yn,useClass:Di,deps:[]}];let ra=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Ei,useExisting:l.AFp},Va]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Ha,imports:[Xi,l.hGG]}),n})();"undefined"!=typeof window&&window;let Qr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG($u),i},providedIn:"root"}),n})(),$u=(()=>{class n extends Qr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Dc(n){return new $u(n.get(Q))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var On=P(8996),jn=P(3269);function Xe(...n){const t=(0,jn.yG)(n);return(0,On.D)(n,t)}var lt=P(7579);class Ii extends lt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var qn=P(8306);const{isArray:oa}=Array,{getPrototypeOf:zu,prototype:vn,keys:Th}=Object;function Mr(n){if(1===n.length){const t=n[0];if(oa(t))return{args:t,keys:null};if(function Rl(n){return n&&"object"==typeof n&&zu(n)===vn}(t)){const e=Th(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var hr=P(4671),vt=P(4004);const{isArray:qu}=Array;function Ic(n){return(0,vt.U)(t=>function Tc(n,t){return qu(t)?n(...t):n(t)}(n,t))}function Mo(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var En=P(5403),Cs=P(9672);function ao(n,t,e){n?(0,Cs.f)(e,n,t):t()}var Bi=P(576);function kr(n,t){const e=(0,Bi.m)(n)?n:()=>n,i=r=>r.error(e());return new qn.y(t?r=>t.schedule(i,0,r):i)}const lo=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Jr=P(8189);function Wu(...n){return function xc(){return(0,Jr.J)(1)}()((0,On.D)(n,(0,jn.yG)(n)))}var Es=P(8421);function nr(n){return new qn.y(t=>{(0,Es.Xf)(n()).subscribe(t)})}var co=P(515),Sn=P(727),Xn=P(4482);function Rr(){return(0,Xn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,En.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Zu extends qn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Xn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Sn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,En.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Sn.w0.EMPTY)}return t}refCount(){return Rr()(this)}}function xn(n,t){return(0,Xn.e)((e,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();e.subscribe((0,En.x)(i,_=>{null==r||r.unsubscribe();let b=0;const T=a++;(0,Es.Xf)(n(_,T)).subscribe(r=(0,En.x)(i,A=>i.next(t?t(_,A,T,b++):A),()=>{r=null,f()}))},()=>{u=!0,f()}))})}var Pn=P(5698);function Tn(...n){const t=(0,jn.yG)(n);return(0,Xn.e)((e,i)=>{(t?Wu(n,e,t):Wu(n,e)).subscribe(i)})}function la(n,t,e,i,r){return(a,u)=>{let f=e,_=t,b=0;a.subscribe((0,En.x)(u,T=>{const A=b++;_=f?n(_,T,A):(f=!0,T),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function Si(n,t){return(0,Xn.e)(la(n,t,arguments.length>=2,!0))}function In(n,t){return(0,Xn.e)((e,i)=>{let r=0;e.subscribe((0,En.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}function Or(n){return(0,Xn.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,En.x)(e,void 0,void 0,u=>{a=(0,Es.Xf)(n(u,Or(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}var An=P(5577);function Ds(n,t){return(0,Bi.m)(t)?(0,An.z)(n,t,1):(0,An.z)(n,1)}function Yu(n){return n<=0?()=>co.E:(0,Xn.e)((t,e)=>{let i=[];t.subscribe((0,En.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Nn(n=Lp){return(0,Xn.e)((t,e)=>{let i=!1;t.subscribe((0,En.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Lp(){return new lo}function Bp(n){return(0,Xn.e)((t,e)=>{let i=!1;t.subscribe((0,En.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function uo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?In((r,a)=>n(r,a,i)):hr.y,(0,Pn.q)(1),e?Bp(t):Nn(()=>new lo))}var li=P(8505);function Ih(n){return(0,Xn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ho{constructor(t,e){this.id=t,this.url=e}}class Ts extends ho{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ol extends ho{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mn extends ho{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ac extends ho{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ca extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Up extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mc extends ho{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xi extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pr extends ho{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kc{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Is{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ga{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rc{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oc{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ft="primary";class Pc{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ei(n){return new Pc(n)}const Nc="ngNavigationCancelingError";function fo(n){const t=Error("NavigationCancelingError: "+n);return t[Nc]=!0,t}function ko(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function es(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!Nl(n[r],t[r]))return!1;return!0}function Nl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function ts(n){return Array.prototype.concat.apply([],n)}function Qu(n){return n.length>0?n[n.length-1]:null}function ti(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function mr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,On.D)(Promise.resolve(n)):Xe(n)}const Ro={exact:function I(n,t,e){if(!Rt(n.segments,t.segments)||!ne(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!I(n.children[i],t.children[i],e))return!1;return!0},subset:L},ua={exact:function D(n,t){return es(n,t)},subset:function k(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Nl(n[e],t[e]))},ignored:()=>!0};function Fl(n,t,e){return Ro[e.paths](n.root,t.root,e.matrixParams)&&ua[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function L(n,t,e){return Z(n,t,t.segments,e)}function Z(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Rt(r,e)||t.hasChildren()||!ne(r,e,i))}if(n.segments.length===e.length){if(!Rt(n.segments,e)||!ne(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!L(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Rt(n.segments,r)&&ne(n.segments,r,i)&&n.children[Ft])&&Z(n.children[Ft],t,a,i)}}function ne(n,t,e){return t.every((i,r)=>ua[e](n[r].parameters,i.parameters))}class Ae{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ei(this.queryParams)),this._queryParamMap}toString(){return da.serialize(this)}}class Me{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ti(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oo(this)}}class Ke{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ei(this.parameters)),this._parameterMap}toString(){return $a(this)}}function Rt(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Wn{}class Fn{parse(t){const e=new Xu(t);return new Ae(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Vi(t.root,!0)}`,i=function a_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Nr(e)}=${Nr(r)}`).join("&"):`${Nr(e)}=${Nr(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Po(n){return encodeURI(n)}(t.fragment)}`:""}`}}const da=new Fn;function Oo(n){return n.segments.map(t=>$a(t)).join("/")}function Vi(n,t){if(!n.hasChildren())return Oo(n);if(t){const e=n.children[Ft]?Vi(n.children[Ft],!1):"",i=[];return ti(n.children,(r,a)=>{a!==Ft&&i.push(`${a}:${Vi(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function St(n,t){let e=[];return ti(n.children,(i,r)=>{r===Ft&&(e=e.concat(t(i,r)))}),ti(n.children,(i,r)=>{r!==Ft&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ft?[Vi(n.children[Ft],!1)]:[`${r}:${Vi(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${Oo(n)}/${e[0]}`:`${Oo(n)}/(${e.join("//")})`}}function gr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nr(n){return gr(n).replace(/%3B/gi,";")}function Ju(n){return gr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lc(n){return decodeURIComponent(n)}function Bc(n){return Lc(n.replace(/\+/g,"%20"))}function $a(n){return`${Ju(n.path)}${function Hp(n){return Object.keys(n).map(t=>`;${Ju(t)}=${Ju(n[t])}`).join("")}(n.parameters)}`}const l_=/^[^\/()?;=#]+/;function Ss(n){const t=n.match(l_);return t?t[0]:""}const Vc=/^[^=?&#]+/,u_=/^[^&#]+/;class Xu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new Me(t,e)),i}parseSegment(){const t=Ss(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ke(Lc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ss(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ss(this.remaining);r&&(i=r,this.capture(i))}t[Lc(e)]=Lc(i)}parseQueryParam(t){const e=function c_(n){const t=n.match(Vc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function jp(n){const t=n.match(u_);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Bc(e),a=Bc(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ss(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let a;i.indexOf(":")>-1?(a=i.substr(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=Ft);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[Ft]:new Me([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class d_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Sh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Sh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=xh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return xh(t,this._root).map(e=>e.value)}}function Sh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Sh(n,e);if(i)return i}return null}function xh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=xh(n,e);if(i.length)return i.unshift(t),i}return[]}class No{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class ed extends d_{constructor(t,e){super(t),this.snapshot=e,nd(this,t)}toString(){return this.snapshot.toString()}}function za(n,t){const e=function h_(n,t){const u=new Ll([],{},{},"",{},Ft,t,null,n.root,-1,{});return new Ah("",new No(u,[]))}(n,t),i=new Ii([new Ke("",{})]),r=new Ii({}),a=new Ii({}),u=new Ii({}),f=new Ii(""),_=new ha(i,r,u,f,a,Ft,t,e.root);return _.snapshot=e.root,new ed(new No(_,[]),e)}class ha{constructor(t,e,i,r,a,u,f,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(t=>ei(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(t=>ei(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function f_(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function td(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ll{constructor(t,e,i,r,a,u,f,_,b,T,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ei(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ei(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ah extends d_{constructor(t,e){super(e),this.url=t,nd(this,e)}toString(){return id(this._root)}}function nd(n,t){t.value._routerState=n,t.children.forEach(e=>nd(n,e))}function id(n){const t=n.children.length>0?` { ${n.children.map(id).join(", ")} } `:"";return`${n.value}${t}`}function Lo(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,es(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),es(t.params,e.params)||n.params.next(e.params),function Pl(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!es(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),es(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mh(n,t){const e=es(n.params,t.params)&&function Dt(n,t){return Rt(n,t)&&n.every((e,i)=>es(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Mh(n.parent,t.parent))}function Uc(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function kh(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Uc(n,i,r);return Uc(n,i)})}(n,t,e);return new No(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(f=>Uc(n,f)),u}}const i=function m_(n){return new ha(new Ii(n.url),new Ii(n.params),new Ii(n.queryParams),new Ii(n.fragment),new Ii(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>Uc(n,a));return new No(i,r)}}function Bo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function qa(n){return"object"==typeof n&&null!=n&&n.outlets}function Rh(n,t,e,i,r){let a={};if(i&&ti(i,(f,_)=>{a[_]=Array.isArray(f)?f.map(b=>`${b}`):`${f}`}),n===t)return new Ae(e,a,r);const u=rd(n,t,e);return new Ae(u,a,r)}function rd(n,t,e){const i={};return ti(n.children,(r,a)=>{i[a]=r===t?e:rd(r,t,e)}),new Me(n.segments,i)}class Gp{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Bo(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(qa);if(r&&r!==Qu(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class sd{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function y_(n,t,e){if(n||(n=new Me([],{})),0===n.segments.length&&n.hasChildren())return po(n,t,e);const i=function d0(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const u=n.segments[r],f=e[i];if(qa(f))break;const _=`${f}`,b=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Fr(_,b,u))return a;i+=2}else{if(!Fr(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new Me(n.segments.slice(0,i.pathIndex),{});return a.children[Ft]=new Me(n.segments.slice(i.pathIndex),n.children),po(a,0,r)}return i.match&&0===r.length?new Me(n.segments,{}):i.match&&!n.hasChildren()?Oh(n,t,e):i.match?po(n,0,r):Oh(n,t,e)}function po(n,t,e){if(0===e.length)return new Me(n.segments,{});{const i=function __(n){return qa(n[0])?n[0].outlets:{[Ft]:n}}(e),r={};return ti(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=y_(n.children[u],t,a))}),ti(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new Me(n.segments,r)}}function Oh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(qa(a)){const _=Wa(a.outlets);return new Me(i,_)}if(0===r&&Bo(e[0])){i.push(new Ke(n.segments[t].path,Ph(e[0]))),r++;continue}const u=qa(a)?a.outlets[Ft]:`${a}`,f=r<e.length-1?e[r+1]:null;u&&f&&Bo(f)?(i.push(new Ke(u,Ph(f))),r+=2):(i.push(new Ke(u,{})),r++)}return new Me(i,{})}function Wa(n){const t={};return ti(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Oh(new Me([],{}),0,e))}),t}function Ph(n){const t={};return ti(n,(e,i)=>t[i]=`${e}`),t}function Fr(n,t,e){return n==e.path&&es(t,e.parameters)}class qp{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Lo(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Fo(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),ti(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=Fo(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=Fo(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Fo(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new Rc(a.value.snapshot))}),t.children.length&&this.forwardEvent(new Xr(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(Lo(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Lo(f.route.value),this.activateChildRoutes(t,null,u.children)}else{const f=function od(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),_=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=r,u.resolver=_,u.outlet&&u.outlet.activateWith(r,_),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class ad{constructor(t,e){this.routes=t,this.module=e}}function Za(n){return"function"==typeof n}function Bl(n){return n instanceof Ae}const jc=Symbol("INITIAL_VALUE");function fa(){return xn(n=>function aa(...n){const t=(0,jn.yG)(n),e=(0,jn.jO)(n),{args:i,keys:r}=Mr(n);if(0===i.length)return(0,On.D)([],t);const a=new qn.y(function fr(n,t,e=hr.y){return i=>{ao(t,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)ao(t,()=>{const b=(0,On.D)(n[_],t);let T=!1;b.subscribe((0,En.x)(i,A=>{a[_]=A,T||(T=!0,f--),f||i.next(e(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Mo(r,u):hr.y));return e?a.pipe(Ic(e)):a}(n.map(t=>t.pipe((0,Pn.q)(1),Tn(jc)))).pipe(Si((t,e)=>{let i=!1;return e.reduce((r,a,u)=>r!==jc?r:(a===jc&&(i=!0),i||!1!==a&&u!==e.length-1&&!Bl(a)?r:a),t)},jc),In(t=>t!==jc),(0,vt.U)(t=>Bl(t)?t:!0===t),(0,Pn.q)(1)))}class v_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gc,this.attachRef=null}}class Gc{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new v_,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let $c=(()=>{class n{constructor(e,i,r,a,u){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||Ft,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const u=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,_=new Bh(e,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Gc),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Bh{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ha?this.route:t===Gc?this.childContexts:this.parent.get(t,e)}}let Vh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[$c],encapsulation:2}),n})();function zc(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];qc(i,Uh(t,i))}}function qc(n,t){n.children&&zc(n.children,t)}function Uh(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Hh(n){const t=n.children&&n.children.map(Hh),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=Vh),e}function nn(n){return n.outlet||Ft}function jh(n,t){const e=n.filter(i=>nn(i)===t);return e.push(...n.filter(i=>nn(i)!==t)),e}const Zp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vl(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Zp):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||ko)(e,n,t);if(!a)return Object.assign({},Zp);const u={};ti(a.posParams,(_,b)=>{u[b]=_.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:f,positionalParamSegments:null!==(i=a.posParams)&&void 0!==i?i:{}}}function Wc(n,t,e,i,r="corrected"){if(e.length>0&&function w_(n,t,e){return e.some(i=>cd(n,t,i)&&nn(i)!==Ft)}(n,e,i)){const u=new Me(t,function ld(n,t,e,i){const r={};r[Ft]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&nn(a)!==Ft){const u=new Me([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[nn(a)]=u}return r}(n,t,i,new Me(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Yp(n,t,e){return e.some(i=>cd(n,t,i))}(n,e,i)){const u=new Me(n.segments,function b_(n,t,e,i,r,a){const u={};for(const f of i)if(cd(n,e,f)&&!r[nn(f)]){const _=new Me([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[nn(f)]=_}return Object.assign(Object.assign({},r),u)}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new Me(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function cd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function C_(n,t,e,i){return!!(nn(n)===i||i!==Ft&&cd(t,e,n))&&("**"===n.path||Vl(t,n,e).matched)}function E_(n,t,e){return 0===t.length&&!n.children[e]}class pa{constructor(t){this.segmentGroup=t||null}}class Ai{constructor(t){this.urlTree=t}}function Vo(n){return kr(new pa(n))}function Zc(n){return kr(new Ai(n))}class $h{constructor(t,e,i,r,a){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Wc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Me(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ft).pipe((0,vt.U)(a=>this.createUrlTree(Ka(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Or(a=>{if(a instanceof Ai)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof pa?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ft).pipe((0,vt.U)(r=>this.createUrlTree(Ka(r),t.queryParams,t.fragment))).pipe(Or(r=>{throw r instanceof pa?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Me([],{[Ft]:t}):t;return new Ae(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,vt.U)(a=>new Me([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,On.D)(r).pipe(Ds(a=>{const u=i.children[a],f=jh(e,a);return this.expandSegmentGroup(t,f,u,a).pipe((0,vt.U)(_=>({segment:_,outlet:a})))}),Si((a,u)=>(a[u.outlet]=u.segment,a),{}),function Vp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?In((r,a)=>n(r,a,i)):hr.y,Yu(1),e?Bp(t):Nn(()=>new lo))}())}expandSegment(t,e,i,r,a,u){return(0,On.D)(i).pipe(Ds(f=>this.expandSegmentAgainstRoute(t,e,i,f,r,a,u).pipe(Or(b=>{if(b instanceof pa)return Xe(null);throw b}))),uo(f=>!!f),Or((f,_)=>{if(f instanceof lo||"EmptyError"===f.name)return E_(e,r,a)?Xe(new Me([],{})):Vo(e);throw f}))}expandSegmentAgainstRoute(t,e,i,r,a,u,f){return C_(r,e,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u):Vo(e):Vo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Zc(a):this.lineralizeSegments(i,a).pipe((0,An.z)(u=>{const f=new Me(u,{});return this.expandSegment(t,f,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=Vl(e,r,a);if(!f)return Vo(e);const A=this.applyRedirectCommands(_,r.redirectTo,T);return r.redirectTo.startsWith("/")?Zc(A):this.lineralizeSegments(r,A).pipe((0,An.z)(O=>this.expandSegment(t,e,i,O.concat(b),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Xe(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,vt.U)(A=>(i._loadedConfig=A,new Me(r,{})))):Xe(new Me(r,{}));const{matched:u,consumedSegments:f,remainingSegments:_}=Vl(e,i,r);return u?this.getChildConfig(t,i,r).pipe((0,An.z)(T=>{const A=T.module,O=T.routes,{segmentGroup:B,slicedSegments:U}=Wc(e,f,_,O),ee=new Me(B.segments,B.children);if(0===U.length&&ee.hasChildren())return this.expandChildren(A,O,ee).pipe((0,vt.U)(it=>new Me(f,it)));if(0===O.length&&0===U.length)return Xe(new Me(f,{}));const Ce=nn(i)===a;return this.expandSegment(A,ee,O,U,Ce?Ft:a,!0).pipe((0,vt.U)(rt=>new Me(f.concat(rt.segments),rt.children)))})):Vo(e)}getChildConfig(t,e,i){return e.children?Xe(new ad(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Xe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,An.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,vt.U)(a=>(e._loadedConfig=a,a))):function Ui(n){return kr(fo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Xe(new ad([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Xe(r.map(u=>{const f=t.get(u);let _;if(function Nh(n){return n&&Za(n.canLoad)}(f))_=f.canLoad(e,i);else{if(!Za(f))throw new Error("Invalid CanLoad guard");_=f(e,i)}return mr(_)})).pipe(fa(),(0,li.b)(u=>{if(!Bl(u))return;const f=fo(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,vt.U)(u=>!0===u)):Xe(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Xe(i);if(r.numberOfChildren>1||!r.children[Ft])return kr(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new Ae(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ti(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=e[f]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let u={};return ti(e.children,(f,_)=>{u[_]=this.createSegmentGroup(t,f,i,r)}),new Me(a,u)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Ka(n){const t={};for(const i of Object.keys(n.children)){const a=Ka(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function Lr(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new Me(n.segments.concat(t.segments),t.children)}return n}(new Me(n.segments,t))}class Kp{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qa{constructor(t,e){this.component=t,this.route=e}}function qh(n,t,e){const i=n._root;return _r(i,t?t._root:null,e,[i.value])}function Yc(n,t,e){const i=function D_(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function _r(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=Fo(t);return n.children.forEach(u=>{(function Jp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function T_(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Rt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rt(n.url,t.url)||!es(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mh(n,t)||!es(n.queryParams,t.queryParams);default:return!Mh(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Kp(i)):(a.data=u.data,a._resolvedData=u._resolvedData),_r(n,t,a.component?f?f.children:null:e,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Qa(f.outlet.component,u))}else u&&Ja(t,f,r),r.canActivateChecks.push(new Kp(i)),_r(n,null,a.component?f?f.children:null:e,i,r)})(u,a[u.value.outlet],e,i.concat([u.value]),r),delete a[u.value.outlet]}),ti(a,(u,f)=>Ja(u,e.getContext(f),r)),r}function Ja(n,t,e){const i=Fo(n),r=n.value;ti(i,(a,u)=>{Ja(a,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Qa(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class Yh{}function Kh(n){return new qn.y(t=>t.error(n))}class Qh{constructor(t,e,i,r,a,u){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const t=Wc(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ft);if(null===e)return null;const i=new Ll([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new No(i,e),a=new Ah(this.url,r);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,i=f_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const a of Object.keys(e.children)){const u=e.children[a],f=jh(t,a),_=this.processSegmentGroup(f,u,a);if(null===_)return null;i.push(..._)}const r=em(i);return function A_(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const a of t){const u=this.processSegmentAgainstRoute(a,e,i,r);if(null!==u)return u}return E_(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!C_(t,e,i,r))return null;let a,u=[],f=[];if("**"===t.path){const B=i.length>0?Qu(i).parameters:{};a=new Ll(i,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),nn(t),t.component,t,p(e),g(e)+i.length,S(t))}else{const B=Vl(e,t,i);if(!B.matched)return null;u=B.consumedSegments,f=B.remainingSegments,a=new Ll(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,w(t),nn(t),t.component,t,p(e),g(e)+u.length,S(t))}const _=function M_(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:b,slicedSegments:T}=Wc(e,u,f,_.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const B=this.processChildren(_,b);return null===B?null:[new No(a,B)]}if(0===_.length&&0===T.length)return[new No(a,[])];const A=nn(t)===r,O=this.processSegment(_,b,T,A?Ft:r);return null===O?null:[new No(a,O)]}}function k_(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function em(n){const t=[],e=new Set;for(const i of n){if(!k_(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=em(i.children);t.push(new No(i.value,r))}return t.filter(i=>!e.has(i))}function p(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function g(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function w(n){return n.data||{}}function S(n){return n.resolve||{}}function Qe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ct(n){return xn(t=>{const e=n(t);return e?(0,On.D)(e).pipe((0,vt.U)(()=>t)):Xe(t)})}class Qc extends class is{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ul=new l.OlP("ROUTES");class Hl{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,vt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const u=a.create(t);return new ad(ts(u.injector.get(Ul,void 0,l.XFs.Self|l.XFs.Optional)).map(Hh),u)}),Or(a=>{throw e._loader$=void 0,a}));return e._loader$=new Zu(r,()=>new lt.x).pipe(Rr()),e._loader$}loadModuleFactory(t){return mr(t()).pipe((0,An.z)(e=>e instanceof l.YKP?Xe(e):(0,On.D)(this.compiler.compileModuleAsync(e))))}}class R_{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ma(n){throw n}function ud(n,t,e){return t.parse("/")}function dd(n,t){return Xe(null)}const Xh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{class n{constructor(e,i,r,a,u,f,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lt.x,this.errorHandler=ma,this.malformedUriErrorHandler=ud,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dd,afterPreactivation:dd},this.urlHandlingStrategy=new R_,this.routeReuseStrategy=new Qc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const A=u.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Fc(){return new Ae(new Me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hl(u,f,O=>this.triggerEvent(new kc(O)),O=>this.triggerEvent(new Is(O))),this.routerState=za(this.currentUrlTree,this.rootComponentType),this.transitions=new Ii({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(In(r=>0!==r.id),(0,vt.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),xn(r=>{let a=!1,u=!1;return Xe(r).pipe((0,li.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xn(f=>{const _=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return tm(f.source)&&(this.browserUrlTree=f.extractedUrl),Xe(f).pipe(xn(A=>{const O=this.transitions.getValue();return i.next(new Ts(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?co.E:Promise.resolve(A)}),function zh(n,t,e,i){return xn(r=>function Ya(n,t,e,i,r){return new $h(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,vt.U)(a=>Object.assign(Object.assign({},r),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,li.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function R(n,t,e,i,r){return(0,An.z)(a=>function x_(n,t,e,i,r="emptyOnly",a="legacy"){try{const u=new Qh(n,t,e,i,r,a).recognize();return null===u?Kh(new Yh):Xe(u)}catch(u){return Kh(u)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),i,r).pipe((0,vt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,li.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(B,A)}this.browserUrlTree=A.urlAfterRedirects}const O=new ca(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);i.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:B,source:U,restoredState:ee,extras:Ce}=f,$e=new Ts(O,this.serializeUrl(B),U,ee);i.next($e);const rt=za(B,this.rootComponentType).snapshot;return Xe(Object.assign(Object.assign({},f),{targetSnapshot:rt,urlAfterRedirects:B,extras:Object.assign(Object.assign({},Ce),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),co.E}),ct(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:B}}=f;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!B})}),(0,li.b)(f=>{const _=new Up(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,vt.U)(f=>Object.assign(Object.assign({},f),{guards:qh(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function I_(n,t){return(0,An.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?Xe(Object.assign(Object.assign({},e),{guardsResult:!0})):function Xp(n,t,e,i){return(0,On.D)(n).pipe((0,An.z)(r=>function Kc(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Xe(a.map(f=>{const _=Yc(f,t,r);let b;if(function h0(n){return n&&Za(n.canDeactivate)}(_))b=mr(_.canDeactivate(n,t,e,i));else{if(!Za(_))throw new Error("Invalid CanDeactivate guard");b=mr(_(n,t,e,i))}return b.pipe(uo())})).pipe(fa()):Xe(!0)}(r.component,r.route,e,t,i)),uo(r=>!0!==r,!0))}(u,i,r,n).pipe((0,An.z)(f=>f&&function Wp(n){return"boolean"==typeof n}(f)?function Mi(n,t,e,i){return(0,On.D)(t).pipe(Ds(r=>Wu(function Zh(n,t){return null!==n&&t&&t(new Pr(n)),Xe(!0)}(r.route.parent,i),function Wh(n,t){return null!==n&&t&&t(new Ga(n)),Xe(!0)}(r.route,i),function Uo(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function Qp(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>nr(()=>Xe(u.guards.map(_=>{const b=Yc(_,u.node,e);let T;if(function Lh(n){return n&&Za(n.canActivateChild)}(b))T=mr(b.canActivateChild(i,n));else{if(!Za(b))throw new Error("Invalid CanActivateChild guard");T=mr(b(i,n))}return T.pipe(uo())})).pipe(fa())));return Xe(a).pipe(fa())}(n,r.path,e),function S_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const r=i.map(a=>nr(()=>{const u=Yc(a,t,e);let f;if(function Fh(n){return n&&Za(n.canActivate)}(u))f=mr(u.canActivate(t,n));else{if(!Za(u))throw new Error("Invalid CanActivate guard");f=mr(u(t,n))}return f.pipe(uo())}));return Xe(r).pipe(fa())}(n,r.route,e))),uo(r=>!0!==r,!0))}(i,a,n,t):Xe(f)),(0,vt.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,li.b)(f=>{if(Bl(f.guardsResult)){const b=fo(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const _=new Mc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),In(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),ct(f=>{if(f.guards.canActivateChecks.length)return Xe(f).pipe((0,li.b)(_=>{const b=new xi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),xn(_=>{let b=!1;return Xe(_).pipe(function q(n,t){return(0,An.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Xe(e);let a=0;return(0,On.D)(r).pipe(Ds(u=>function oe(n,t,e,i){return function Ve(n,t,e,i){const r=Qe(n);if(0===r.length)return Xe({});const a={};return(0,On.D)(r).pipe((0,An.z)(u=>function bt(n,t,e,i){const r=Yc(n,t,i);return mr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe((0,li.b)(f=>{a[u]=f}))),Yu(1),(0,An.z)(()=>Qe(a).length===r.length?Xe(a):co.E))}(n._resolve,n,t,i).pipe((0,vt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),f_(n,e).resolve),null)))}(u.route,i,n,t)),(0,li.b)(()=>a++),Yu(1),(0,An.z)(u=>a===r.length?Xe(e):co.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,li.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,li.b)(_=>{const b=new pr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),ct(f=>{const{targetSnapshot:_,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:B}}=f;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!B})}),(0,vt.U)(f=>{const _=function p_(n,t,e){const i=Uc(n,t._root,e?e._root:void 0);return new ed(i,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:_})}),(0,li.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,vt.U)(i=>(new qp(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,li.b)({next(){a=!0},complete(){a=!0}}),Ih(()=>{var f;a||u||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===r.id&&(this.currentNavigation=null)}),Or(f=>{if(u=!0,function Ku(n){return n&&n[Nc]}(f)){const _=Bl(f.url);_||(this.navigated=!0,this.restoreHistory(r,!0));const b=new Mn(r.id,this.serializeUrl(r.extractedUrl),f.message);i.next(b),_?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||tm(r.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Ac(r.id,this.serializeUrl(r.extractedUrl),f);i.next(_);try{r.resolve(this.errorHandler(f))}catch(b){r.reject(b)}}return co.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const a={replaceUrl:!0},u=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(u){const _=Object.assign({},u);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const f=this.parseUrl(e.url);this.scheduleNavigation(f,i,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){zc(e),this.config=e.map(Hh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,b=r||this.routerState.root,T=_?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function xs(n,t,e,i,r){if(0===e.length)return Rh(t.root,t.root,t.root,i,r);const a=function $p(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gp(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ti(a.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Gp(e,t,i)}(e);if(a.toRoot())return Rh(t.root,t.root,new Me([],{}),i,r);const u=function zp(n,t,e){if(n.isAbsolute)return new sd(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new sd(a,a===t.root,0)}const i=Bo(n.commands[0])?0:1;return function g_(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new sd(i,!1,r-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(a,t,n),f=u.processChildren?po(u.segmentGroup,u.index,a.commands):y_(u.segmentGroup,u.index,a.commands);return Rh(t.root,u.segmentGroup,f,i,r)}(b,this.currentUrlTree,e,A,null!=T?T:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Bl(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function ef(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},Xh):!1===i?Object.assign({},hd):i,Bl(e))return Fl(this.currentUrlTree,e,r);const a=this.parseUrl(e);return Fl(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ol(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,u){var f,_;if(this.disposed)return Promise.resolve(!1);let b,T,A;u?(b=u.resolve,T=u.reject,A=u.promise):A=new Promise((U,ee)=>{b=U,T=ee});const O=++this.navigationId;let B;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),B=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):B=0,this.setTransition({id:O,targetPageId:B,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:b,reject:T,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(U=>Promise.reject(U))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){var r,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Mn(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function tm(n){return"imperative"!==n}class F_{}class p0{preload(t,e){return Xe(null)}}let m0=(()=>{class n{constructor(e,i,r,a){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=new Hl(r,i,_=>e.triggerEvent(new kc(_)),_=>e.triggerEvent(new Is(_)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(e=>e instanceof Ol),Ds(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children));return(0,On.D)(r).pipe((0,Jr.J)(),(0,vt.U)(a=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Xe(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,An.z)(a=>(i._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Br),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(F_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),nm=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ts?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ol&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Oc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const As=new l.OlP("ROUTER_CONFIGURATION"),B_=new l.OlP("ROUTER_FORROOT_GUARD"),g0=[ye,{provide:Wn,useClass:Fn},{provide:Br,useFactory:function U_(n,t,e,i,r,a,u={},f,_){const b=new Br(null,n,t,e,i,r,ts(a));return f&&(b.urlHandlingStrategy=f),_&&(b.routeReuseStrategy=_),function v0(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var A,O;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[Wn,Gc,ye,l.zs3,l.Sil,Ul,As,[class Jh{},new l.FiY],[class Ln{},new l.FiY]]},Gc,{provide:ha,useFactory:function im(n){return n.routerState.root},deps:[Br]},m0,p0,class L_{preload(t,e){return e().pipe(Or(()=>Xe(null)))}},{provide:As,useValue:{enableTracing:!1}}];function UD(){return new l.PXZ("Router",Br)}let tf=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[g0,V_(e),{provide:B_,useFactory:y0,deps:[[Br,new l.FiY,new l.tp0]]},{provide:As,useValue:i||{}},{provide:fe,useFactory:_0,deps:[he,[new l.tBr(Je),new l.FiY],As]},{provide:nm,useFactory:HD,deps:[Br,bl,As]},{provide:F_,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:p0},{provide:l.PXZ,multi:!0,useFactory:UD},[pd,{provide:l.ip1,multi:!0,useFactory:b0,deps:[pd]},{provide:j_,useFactory:H_,deps:[pd]},{provide:l.tb,multi:!0,useExisting:j_}]]}}static forChild(e){return{ngModule:n,providers:[V_(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(B_,8),l.LFG(Br,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function HD(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new nm(n,t,e)}function _0(n,t,e={}){return e.useHash?new Te(n,t):new We(n,t)}function y0(n){return"guarded"}function V_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Ul,multi:!0,useValue:n}]}let pd=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(f=>i=f),a=this.injector.get(Br),u=this.injector.get(As);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),i(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?Xe(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),a.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(As),r=this.injector.get(m0),a=this.injector.get(nm),u=this.injector.get(Br),f=this.injector.get(l.z2F);e===f.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&u.initialNavigation(),r.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function b0(n){return n.appInitializer.bind(n)}function H_(n){return n.bootstrapListener.bind(n)}const j_=new l.OlP("Router Initializer");function jD(n,t){1&n&&l._UZ(0,"app-current-game")}let md=(()=>{class n{constructor(e){this.cdref=e,this.selectedIndex="{}"===localStorage.getItem("playerList")?1:0,this.activate=!1}ngOnInit(){}ngAfterContentChecked(){this.cdref.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:10,vars:2,consts:[["role","banner",1,"toolbar"],["role","main",1,"content"],["mat-align-tabs","center","primary","",3,"selectedIndex","selectedIndexChange"],["label","Nouvelle partie"],["label","Partie en cours",3,"disabled"],["matTabContent",""],["label","Scores"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0),l._UZ(1,"app-toolbar"),l.qZA(),l.TgZ(2,"div",1)(3,"mat-tab-group",2),l.NdJ("selectedIndexChange",function(a){return i.selectedIndex=a}),l.TgZ(4,"mat-tab",3),l._UZ(5,"app-new-game"),l.qZA(),l.TgZ(6,"mat-tab",4),l.YNc(7,jD,1,0,"ng-template",5),l.qZA(),l.TgZ(8,"mat-tab",6),l._UZ(9,"app-scores"),l.qZA()()()),2&e&&(l.xp6(3),l.Q6J("selectedIndex",i.selectedIndex),l.xp6(3),l.Q6J("disabled",!i.activate))},styles:[".content[_ngcontent-%COMP%]{margin:82px auto 32px;padding:0 16px;max-width:1260px;flex-direction:column;align-items:center;text-align:center}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#7f1734;color:#fff;font-weight:600}"]}),n})();const GD=[{path:"",component:md},{path:"**",redirectTo:""}];let $D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[tf.forRoot(GD)],tf]}),n})();class $_{}class sm{}class ga{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),a=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ga?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ga;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ga?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const a=t.value;if(a){let u=this.headers.get(e);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class fR{encodeKey(t){return E0(t)}encodeValue(t){return E0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zD=/%(\d[a-f0-9])/gi,C0={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function E0(n){return encodeURIComponent(n).replace(zD,(t,e)=>{var i;return null!==(i=C0[e])&&void 0!==i?i:t})}function D0(n){return`${n}`}class Hi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function w0(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,a)),t.decodeValue(r.slice(a+1))],_=e.get(u)||[];_.push(f),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Hi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(D0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(D0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class T0{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function I0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function S0(n){return"undefined"!=typeof Blob&&n instanceof Blob}function x0(n){return"undefined"!=typeof FormData&&n instanceof FormData}class nf{constructor(t,e,i,r){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qD(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ga),this.context||(this.context=new T0),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+u}}else this.params=new Hi,this.urlWithParams=e}serializeBody(){return null===this.body?null:I0(this.body)||S0(this.body)||x0(this.body)||function A0(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||x0(this.body)?null:S0(this.body)?this.body.type||null:I0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,a=t.responseType||this.responseType,u=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,_=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let b=t.headers||this.headers,T=t.params||this.params;const A=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(b=Object.keys(t.setHeaders).reduce((O,B)=>O.set(B,t.setHeaders[B]),b)),t.setParams&&(T=Object.keys(t.setParams).reduce((O,B)=>O.set(B,t.setParams[B]),T)),new nf(i,r,u,{params:T,headers:b,context:A,reportProgress:_,responseType:a,withCredentials:f})}}var _i=(()=>((_i=_i||{})[_i.Sent=0]="Sent",_i[_i.UploadProgress=1]="UploadProgress",_i[_i.ResponseHeader=2]="ResponseHeader",_i[_i.DownloadProgress=3]="DownloadProgress",_i[_i.Response=4]="Response",_i[_i.User=5]="User",_i))();class z_{constructor(t,e=200,i="OK"){this.headers=t.headers||new ga,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class At extends z_{constructor(t={}){super(t),this.type=_i.ResponseHeader}clone(t={}){return new At({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rf extends z_{constructor(t={}){super(t),this.type=_i.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class q_ extends z_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function om(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let gd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let a;if(e instanceof nf)a=e;else{let _,b;_=r.headers instanceof ga?r.headers:new ga(r.headers),r.params&&(b=r.params instanceof Hi?r.params:new Hi({fromObject:r.params})),a=new nf(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Xe(a).pipe(Ds(_=>this.handler.handle(_)));if(e instanceof nf||"events"===r.observe)return u;const f=u.pipe(In(_=>_ instanceof rf));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,vt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,vt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,vt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,vt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Hi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,om(r,i))}post(e,i,r={}){return this.request("POST",e,om(r,i))}put(e,i,r={}){return this.request("PUT",e,om(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG($_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mo{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const W_=new l.OlP("HTTP_INTERCEPTORS");let WD=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const am=/^\)\]\}',?\n/;let cm=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((B,U)=>r.setRequestHeader(B,U.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const B=e.detectContentTypeHeader();null!==B&&r.setRequestHeader("Content-Type",B)}if(e.responseType){const B=e.responseType.toLowerCase();r.responseType="json"!==B?B:"text"}const a=e.serializeBody();let u=null;const f=()=>{if(null!==u)return u;const B=r.statusText||"OK",U=new ga(r.getAllResponseHeaders()),ee=function lm(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new At({headers:U,status:r.status,statusText:B,url:ee}),u},_=()=>{let{headers:B,status:U,statusText:ee,url:Ce}=f(),$e=null;204!==U&&($e=void 0===r.response?r.responseText:r.response),0===U&&(U=$e?200:0);let rt=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof $e){const it=$e;$e=$e.replace(am,"");try{$e=""!==$e?JSON.parse($e):null}catch(tt){$e=it,rt&&(rt=!1,$e={error:tt,text:$e})}}rt?(i.next(new rf({body:$e,headers:B,status:U,statusText:ee,url:Ce||void 0})),i.complete()):i.error(new q_({error:$e,headers:B,status:U,statusText:ee,url:Ce||void 0}))},b=B=>{const{url:U}=f(),ee=new q_({error:B,status:r.status||0,statusText:r.statusText||"Unknown Error",url:U||void 0});i.error(ee)};let T=!1;const A=B=>{T||(i.next(f()),T=!0);let U={type:_i.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),"text"===e.responseType&&!!r.responseText&&(U.partialText=r.responseText),i.next(U)},O=B=>{let U={type:_i.UploadProgress,loaded:B.loaded};B.lengthComputable&&(U.total=B.total),i.next(U)};return r.addEventListener("load",_),r.addEventListener("error",b),r.addEventListener("timeout",b),r.addEventListener("abort",b),e.reportProgress&&(r.addEventListener("progress",A),null!==a&&r.upload&&r.upload.addEventListener("progress",O)),r.send(a),i.next({type:_i.Sent}),()=>{r.removeEventListener("error",b),r.removeEventListener("abort",b),r.removeEventListener("load",_),r.removeEventListener("timeout",b),e.reportProgress&&(r.removeEventListener("progress",A),null!==a&&r.upload&&r.upload.removeEventListener("progress",O)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sf=new l.OlP("XSRF_COOKIE_NAME"),af=new l.OlP("XSRF_HEADER_NAME");class KD{}let QD=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Co(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(l.Lbi),l.LFG(sf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Z_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(KD),l.LFG(af))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),JD=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(W_,[]);this.chain=i.reduceRight((r,a)=>new mo(r,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(sm),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),gR=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Z_,useClass:WD}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:sf,useValue:e.cookieName}:[],e.headerName?{provide:af,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Z_,{provide:W_,useExisting:Z_,multi:!0},{provide:KD,useClass:QD},{provide:sf,useValue:"XSRF-TOKEN"},{provide:af,useValue:"X-XSRF-TOKEN"}]}),n})(),eT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gd,{provide:$_,useClass:JD},cm,{provide:sm,useExisting:cm}],imports:[[gR.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class Y_{}const Ho="*";function _d(n,t){return{type:7,name:n,definitions:t,options:{}}}function Xa(n,t=null){return{type:4,styles:t,timings:n}}function iT(n,t=null){return{type:3,steps:n,options:t}}function rT(n,t=null){return{type:2,steps:n,options:t}}function yi(n){return{type:6,styles:n,offset:null}}function go(n,t,e){return{type:0,name:n,styles:t,options:e}}function _a(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function O0(n=null){return{type:9,options:n}}function lf(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function K_(n){Promise.resolve(null).then(n)}class Xc{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){K_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Q_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const a=this.players.length;0==a?K_(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Qt=!1;function J_(n){return new l.vHH(3e3,Qt)}function _T(){return"undefined"!=typeof window&&void 0!==window.document}function df(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function el(n){switch(n.length){case 0:return new Xc;case 1:return n[0];default:return new Q_(n)}}function j0(n,t,e,i,r={},a={}){const u=[],f=[];let _=-1,b=null;if(i.forEach(T=>{const A=T.offset,O=A==_,B=O&&b||{};Object.keys(T).forEach(U=>{let ee=U,Ce=T[U];if("offset"!==U)switch(ee=t.normalizePropertyName(ee,u),Ce){case"!":Ce=r[U];break;case Ho:Ce=a[U];break;default:Ce=t.normalizeStyleValue(U,ee,Ce,u)}B[ee]=Ce}),O||f.push(B),b=B,_=A}),u.length)throw function U0(n){return new l.vHH(3502,Qt)}();return f}function iy(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ry(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ry(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ry(e,"destroy",n)))}}function ry(n,t,e){const i=e.totalTime,a=hm(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function hm(n,t,e,i,r="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function ks(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function sy(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let oy=(n,t)=>!1,G0=(n,t,e)=>[],ay=null;function fm(n){const t=n.parentNode||n.host;return t===ay?null:t}(df()||"undefined"!=typeof Element)&&(_T()?(ay=(()=>document.documentElement)(),oy=(n,t)=>{for(;t;){if(t===n)return!0;t=fm(t)}return!1}):oy=(n,t)=>n.contains(t),G0=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let tl=null,$0=!1;function z0(n){tl||(tl=function ER(){return"undefined"!=typeof document?document.body:null}()||{},$0=!!tl.style&&"WebkitAppearance"in tl.style);let t=!0;return tl.style&&!function ya(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in tl.style,!t&&$0&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in tl.style)),t}const ly=oy,q0=G0;let W0=(()=>{class n{validateStyleProperty(e){return z0(e)}matchesElement(e,i){return!1}containsElement(e,i){return ly(e,i)}getParentElement(e){return fm(e)}query(e,i,r){return q0(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,a,u,f=[],_){return new Xc(r,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),hf=(()=>{class n{}return n.NOOP=new W0,n})();const ff="ng-enter",mm="ng-leave",wd="ng-trigger",Cd=".ng-trigger",cy="ng-animating",uy=".ng-animating";function eu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pf(parseFloat(t[1]),t[2])}function pf(n,t){return"s"===t?1e3*n:n}function dy(n,t,e){return n.hasOwnProperty("duration")?n:function vT(n,t,e){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(J_()),{duration:0,delay:0,easing:""};r=pf(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=pf(parseFloat(_),f[4]));const b=f[5];b&&(u=b)}else r=n;if(!e){let f=!1,_=t.length;r<0&&(t.push(function sT(){return new l.vHH(3100,Qt)}()),f=!0),a<0&&(t.push(function X_(){return new l.vHH(3101,Qt)}()),f=!0),f&&t.splice(_,0,J_())}return{duration:r,delay:a,easing:u}}(n,t,e)}function tu(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function nl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else tu(n,e);return e}function fy(n,t,e){return e?t+":"+e+";":""}function py(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=fy(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=fy(0,gy(e),n.style[e]));n.setAttribute("style",t)}function ji(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=my(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),df()&&py(n))}function va(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=my(e);n.style[i]=""}),df()&&py(n))}function mf(n){return Array.isArray(n)?1==n.length?n[0]:rT(n):n}const Y0=new RegExp("{{\\s*(.+?)\\s*}}","g");function gm(n){let t=[];if("string"==typeof n){let e;for(;e=Y0.exec(n);)t.push(e[1]);Y0.lastIndex=0}return t}function gf(n,t,e){const i=n.toString(),r=i.replace(Y0,(a,u)=>{let f=t[u];return t.hasOwnProperty(u)||(e.push(function P0(n){return new l.vHH(3003,Qt)}()),f=""),f.toString()});return r==i?n:r}function Ed(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const _f=/-+([a-z0-9])/g;function my(n){return n.replace(_f,(...t)=>t[1].toUpperCase())}function gy(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function aT(n){return new l.vHH(3004,Qt)}()}}function J0(n,t){return window.getComputedStyle(n)[t]}function Id(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ET(n,t,e){if(":"==n[0]){const _=function DT(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function uT(n){return new l.vHH(3016,Qt)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function dm(n){return new l.vHH(3015,Qt)}()),t;const r=i[1],a=i[2],u=i[3];t.push(Go(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&t.push(Go(u,r))}(i,e,t)):e.push(n),e}const vm=new Set(["true","1"]),bm=new Set(["false","0"]);function Go(n,t){const e=vm.has(n)||bm.has(n),i=vm.has(t)||bm.has(t);return(r,a)=>{let u="*"==n||n==r,f="*"==t||t==a;return!u&&e&&"boolean"==typeof r&&(u=r?vm.has(n):bm.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?vm.has(t):bm.has(t)),u&&f}}const ew=new RegExp("s*:selfs*,?","g");function Cm(n,t,e,i){return new tw(n).build(t,e,i)}class tw{constructor(t){this._driver=t}build(t,e,i){const r=new ST(e);this._resetContextStyleTimingState(r);const a=rs(this,mf(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function uf(){return new l.vHH(3006,Qt)}()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,a.push(this.visitState(_,e))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function yd(){return new l.vHH(3007,Qt)}())}),{type:7,name:t.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{if(yf(f)){const _=f;Object.keys(_).forEach(b=>{gm(_[b]).forEach(T=>{u.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(Ed(a.values()),e.errors.push(function ey(n,t){return new l.vHH(3008,Qt)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=rs(this,mf(t.animation),e);return{type:1,matchers:Id(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Gl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>rs(this,i,e)),options:Gl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const a=t.steps.map(u=>{e.currentTime=i;const f=rs(this,u,e);return r=Math.max(r,e.currentTime),f});return e.currentTime=r,{type:3,steps:a,options:Gl(t.options)}}visitAnimate(t,e){const i=function IR(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yy(dy(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=yy(0,0,"");return a.dynamic=!0,a.strValue=e,a}const r=dy(e,t);return yy(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,a=t.styles?t.styles:yi({});if(5==a.type)r=this.visitKeyframes(a,e);else{let u=t.styles,f=!1;if(!u){f=!0;const b={};i.easing&&(b.easing=i.easing),u=yi(b)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=f,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(u=>{"string"==typeof u?u==Ho?i.push(u):e.errors.push(function vd(n){return new l.vHH(3002,Qt)}()):i.push(u)}):i.push(t.styles);let r=!1,a=null;return i.forEach(u=>{if(yf(u)){const f=u,_=f.easing;if(_&&(a=_,delete f.easing),!r)for(let b in f)if(f[b].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:a,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return delete u[f],void e.unsupportedCSSPropertiesFound.add(f);const _=e.collectedStyles[e.currentQuerySelector],b=_[f];let T=!0;b&&(a!=r&&a>=b.startTime&&r<=b.endTime&&(e.errors.push(function bd(n,t,e,i,r){return new l.vHH(3010,Qt)}()),T=!1),a=b.startTime),T&&(_[f]={startTime:a,endTime:r}),e.options&&function bT(n,t,e){const i=t.params||{},r=gm(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||e.push(function oT(n){return new l.vHH(3001,Qt)}())})}(u[f],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function cT(){return new l.vHH(3011,Qt)}()),i;let a=0;const u=[];let f=!1,_=!1,b=0;const T=t.steps.map($e=>{const rt=this._makeStyleAst($e,e);let it=null!=rt.offset?rt.offset:function xT(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(yf(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(yf(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(rt.styles),tt=0;return null!=it&&(a++,tt=rt.offset=it),_=_||tt<0||tt>1,f=f||tt<b,b=tt,u.push(tt),rt});_&&e.errors.push(function N0(){return new l.vHH(3012,Qt)}()),f&&e.errors.push(function F0(){return new l.vHH(3200,Qt)}());const A=t.steps.length;let O=0;a>0&&a<A?e.errors.push(function ty(){return new l.vHH(3202,Qt)}()):0==a&&(O=1/(A-1));const B=A-1,U=e.currentTime,ee=e.currentAnimateTimings,Ce=ee.duration;return T.forEach(($e,rt)=>{const it=O>0?rt==B?1:O*rt:u[rt],tt=it*Ce;e.currentTime=U+ee.delay+tt,ee.duration=tt,this._validateStyleAst($e,e),$e.offset=it,i.styles.push($e)}),i}visitReference(t,e){return{type:8,animation:rs(this,mf(t.animation),e),options:Gl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function TT(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(ew,"")),n=n.replace(/@\*/g,Cd).replace(/@\w+/g,e=>Cd+"-"+e.substr(1)).replace(/:animating/g,uy),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,ks(e.collectedStyles,e.currentQuerySelector,{});const f=rs(this,mf(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:t.selector,options:Gl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ny(){return new l.vHH(3013,Qt)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:dy(t.timings,e.errors,!0);return{type:12,animation:rs(this,mf(t.animation),e),timings:i,options:null}}}class ST{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function yf(n){return!Array.isArray(n)&&"object"==typeof n}function Gl(n){return n?(n=tu(n)).params&&(n.params=function IT(n){return n?tu(n):null}(n.params)):n={},n}function yy(n,t,e){return{duration:n,delay:t,easing:e}}function vy(n,t,e,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class by{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const AT=new RegExp(":enter","g"),iw=new RegExp(":leave","g");function rw(n,t,e,i,r,a={},u={},f,_,b=[]){return(new $o).buildKeyframes(n,t,e,i,r,a,u,f,_,b)}class $o{buildKeyframes(t,e,i,r,a,u,f,_,b,T=[]){b=b||new by;const A=new sw(t,e,b,r,a,T,[]);A.options=_,A.currentTimeline.setStyles([u],null,A.errors,_),rs(this,i,A);const O=A.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let U=O.length-1;U>=0;U--){const ee=O[U];if(ee.element===e){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,A.errors,_)}return O.length?O.map(B=>B.buildKeyframes()):[vy(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const u=null!=i.duration?eu(i.duration):null,f=null!=i.delay?eu(i.delay):null;return 0!==u&&t.forEach(_=>{const b=e.appendInstructionToTimeline(_,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),rs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const a=t.options;if(a&&(a.params||a.delay)&&(r=e.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Cy);const u=eu(a.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>rs(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?eu(t.options.delay):0;t.steps.forEach(u=>{const f=e.createSubContext(t.options);a&&f.delayNextStep(a),rs(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return dy(e.params?gf(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const a=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,a=i.duration,f=e.createSubContext().currentTimeline;f.easing=i.easing,t.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(r+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?eu(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cy);let u=i;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{e.currentQueryIndex=T;const A=e.createSubContext(t.options,b);a&&A.delayNextStep(a),b===e.element&&(_=A.currentTimeline),rs(this,t.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),f=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const T=e.currentTimeline;_&&T.delayNextStep(_);const A=T.currentTime;rs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-A+(r.startTime-i.currentTimeline.startTime)}}const Cy={};class sw{constructor(t,e,i,r,a,u,f,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new vf(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=eu(i.duration)),null!=i.delay&&(r.delay=eu(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!e||!u.hasOwnProperty(f))&&(u[f]=gf(a[f],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,a=new sw(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Cy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},a=new ow(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,a,u){let f=[];if(r&&f.push(this.element),t.length>0){t=(t=t.replace(AT,"."+this._enterClassName)).replace(iw,"."+this._leaveClassName);let b=this._driver.query(this.element,t,1!=i);0!==i&&(b=i<0?b.slice(b.length+i,b.length):b.slice(0,i)),f.push(...b)}return!a&&0==f.length&&u.push(function L0(n){return new l.vHH(3014,Qt)}()),f}}class vf{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new vf(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ho,this._currentKeyframe[e]=Ho}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const a=r&&r.params||{},u=function MT(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(a=>{e[a]=Ho})):nl(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const _=gf(u[f],a,i);this._pendingStyles[f]=_,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ho),this._updateStyle(f,_)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const b=nl(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?t.add(T):A==Ho&&e.add(T)}),i||(b.offset=_/this.duration),r.push(b)});const a=t.size?Ed(t.values()):[],u=e.size?Ed(e.values()):[];if(i){const f=r[0],_=tu(f);f.offset=0,_.offset=1,r=[f,_]}return vy(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class ow extends vf{constructor(t,e,i,r,a,u,f=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=i+e,f=e/u,_=nl(t[0],!1);_.offset=0,a.push(_);const b=nl(t[0],!1);b.offset=Ey(f),a.push(b);const T=t.length-1;for(let A=1;A<=T;A++){let O=nl(t[A],!1);O.offset=Ey((e+O.offset*i)/u),a.push(O)}i=u,e=0,r="",t=a}return vy(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Ey(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Em{}class kT extends Em{normalizePropertyName(t,e){return my(t)}normalizeStyleValue(t,e,i,r){let a="";const u=i.toString().trim();if(Dy[e]&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function lT(n,t){return new l.vHH(3005,Qt)}())}return u+a}}const Dy=(()=>function RT(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lw(n,t,e,i,r,a,u,f,_,b,T,A,O){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:A,errors:O}}const Ty={};class cw{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function OT(n,t,e,i,r){return n.some(a=>a(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],a=this._stateStyles[t],u=r?r.buildStyles(e,i):{};return a?a.buildStyles(e,i):u}build(t,e,i,r,a,u,f,_,b,T){const A=[],O=this.ast.options&&this.ast.options.params||Ty,U=this.buildStyles(i,f&&f.params||Ty,A),ee=_&&_.params||Ty,Ce=this.buildStyles(r,ee,A),$e=new Set,rt=new Map,it=new Map,tt="void"===r,Bt={params:Object.assign(Object.assign({},O),ee)},$t=T?[]:rw(t,e,this.ast.animation,a,u,U,Ce,Bt,b,A);let bn=0;if($t.forEach(Iu=>{bn=Math.max(Iu.duration+Iu.delay,bn)}),A.length)return lw(e,this._triggerName,i,r,tt,U,Ce,[],[],rt,it,bn,A);$t.forEach(Iu=>{const Su=Iu.element,j2=ks(rt,Su,{});Iu.preStyleProps.forEach(Ip=>j2[Ip]=!0);const l0=ks(it,Su,{});Iu.postStyleProps.forEach(Ip=>l0[Ip]=!0),Su!==e&&$e.add(Su)});const Wr=Ed($e.values());return lw(e,this._triggerName,i,r,tt,U,Ce,$t,Wr,rt,it,bn)}}class PT{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=tu(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!=u&&(r[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let _=u[f];_.length>1&&(_=gf(_,r,e));const b=this.normalizer.normalizePropertyName(f,e);_=this.normalizer.normalizeStyleValue(f,b,_,e),i[b]=_})}}),i}}class Sd{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new PT(r.style,r.options&&r.options.params||{},i)}),xd(this.states,"true","1"),xd(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new cw(t,r,this.states))}),this.fallbackTransition=function NT(n,t,e){return new cw(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function xd(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const FT=new by;class LT{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],a=Cm(this._driver,e,i,[]);if(i.length)throw function dT(n){return new l.vHH(3503,Qt)}();this._animations[t]=a}_buildPlayer(t,e,i){const r=t.element,a=j0(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],a=this._animations[t];let u;const f=new Map;if(a?(u=rw(this._driver,e,a,ff,mm,{},{},i,FT,r),u.forEach(T=>{const A=ks(f,T.element,{});T.postStyleProps.forEach(O=>A[O]=null)})):(r.push(function H0(){return new l.vHH(3300,Qt)}()),u=[]),r.length)throw function hT(n){return new l.vHH(3504,Qt)}();f.forEach((T,A)=>{Object.keys(T).forEach(O=>{T[O]=this._driver.computeStyle(A,O,Ho)})});const b=el(u.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[t]=b,b.onDestroy(()=>this.destroy(t)),this.players.push(b),b}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function fT(n){return new l.vHH(3301,Qt)}();return e}listen(t,e,i,r){const a=hm(e,"","","");return iy(this._getPlayer(t),i,a,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Tm="ng-animate-queued",nu="ng-animate-disabled",_o=[],Sm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ad={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ir="__ng_removed";class $l{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function uw(n){return null!=n?n:null}(i?t.value:t),i){const a=tu(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const wa="void",zl=new $l(wa);class Md{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Rs(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function Ms(n,t){return new l.vHH(3302,Qt)}();if(null==i||0==i.length)throw function pT(n){return new l.vHH(3303,Qt)}();if(!function dw(n){return"start"==n||"done"==n}(i))throw function mT(n,t){return new l.vHH(3400,Qt)}();const a=ks(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};a.push(u);const f=ks(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(Rs(t,wd),Rs(t,wd+"-"+e),f[e]=zl),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function vR(n){return new l.vHH(3401,Qt)}();return e}trigger(t,e,i,r=!0){const a=this._getTrigger(e),u=new ql(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(Rs(t,wd),Rs(t,wd+"-"+e),this._engine.statesByElement.set(t,f={}));let _=f[e];const b=new $l(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f[e]=b,_||(_=zl),b.value!==wa&&_.value===b.value){if(!function VT(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const a=e[r];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(_.params,b.params)){const ee=[],Ce=a.matchStyles(_.value,_.params,ee),$e=a.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{va(t,Ce),ji(t,$e)})}return}const O=ks(this._engine.playersByElement,t,[]);O.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==e&&ee.queued&&ee.destroy()});let B=a.matchTransition(_.value,b.value,t,b.params),U=!1;if(!B){if(!r)return;B=a.fallbackTransition,U=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:B,fromState:_,toState:b,player:u,isFallbackTransition:U}),U||(Rs(t,Tm),u.onStart(()=>{ru(t,Tm)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const Ce=this._engine.playersByElement.get(t);if(Ce){let $e=Ce.indexOf(u);$e>=0&&Ce.splice($e,1)}}),this.players.push(u),O.push(u),u}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Cd,!0);i.forEach(r=>{if(r[ir])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const a=this._engine.statesByElement.get(t),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(_=>{if(u.set(_,a[_].value),this._triggers[_]){const b=this.trigger(t,_,wa,r);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&el(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers[u].fallbackTransition,b=i[u]||zl,T=new $l(wa),A=new ql(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[ir];(!a||a===Sm)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Rs(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=hm(a,i.triggerName,i.fromState.value,i.toState.value);_._data=t,iy(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class kd{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Md(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,a=i.length-1;if(a>=0){let u=!1;if(void 0!==this.driver.getParentElement){let f=this.driver.getParentElement(e);for(;f;){const _=r.get(f);if(_){const b=i.indexOf(_);i.splice(b+1,0,t),u=!0;break}f=this.driver.getParentElement(f)}}else for(let f=a;f>=0;f--)if(this.driver.containsElement(i[f].hostElement,e)){i.splice(f+1,0,t),u=!0;break}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let a=0;a<r.length;a++){const u=i[r[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&e.add(f)}}}return e}trigger(t,e,i,r){if(bf(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!bf(e))return;const a=e[ir];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Rs(t,nu)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ru(t,nu))}removeNode(t,e,i,r){if(bf(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,a){this.collectedLeaveElements.push(e),e[ir]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,r,a){return bf(e)?this._fetchNamespace(t).listen(e,i,r,a):()=>{}}_buildInstruction(t,e,i,r,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,Cd,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uy,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return el(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[ir];if(i&&i.setForRemoval){if(t[ir]=Sm,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(nu))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Rs(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?el(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function bR(n){return new l.vHH(3402,Qt)}()}_flushAnimations(t,e){const i=new by,r=[],a=new Map,u=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(ut=>{T.add(ut);const Et=this.driver.query(ut,".ng-animate-queued",!0);for(let Mt=0;Mt<Et.length;Mt++)T.add(Et[Mt])});const A=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=xy(O,this.collectedEnterElements),U=new Map;let ee=0;B.forEach((ut,Et)=>{const Mt=ff+ee++;U.set(Et,Mt),ut.forEach(mn=>Rs(mn,Mt))});const Ce=[],$e=new Set,rt=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Et=this.collectedLeaveElements[ut],Mt=Et[ir];Mt&&Mt.setForRemoval&&(Ce.push(Et),$e.add(Et),Mt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(mn=>$e.add(mn)):rt.add(Et))}const it=new Map,tt=xy(O,Array.from($e));tt.forEach((ut,Et)=>{const Mt=mm+ee++;it.set(Et,Mt),ut.forEach(mn=>Rs(mn,Mt))}),t.push(()=>{B.forEach((ut,Et)=>{const Mt=U.get(Et);ut.forEach(mn=>ru(mn,Mt))}),tt.forEach((ut,Et)=>{const Mt=it.get(Et);ut.forEach(mn=>ru(mn,Mt))}),Ce.forEach(ut=>{this.processLeaveNode(ut)})});const Bt=[],$t=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(e).forEach(Mt=>{const mn=Mt.player,Ir=Mt.element;if(Bt.push(mn),this.collectedEnterElements.length){const Gs=Ir[ir];if(Gs&&Gs.setForMove){if(Gs.previousTriggersValues&&Gs.previousTriggersValues.has(Mt.triggerName)){const Sp=Gs.previousTriggersValues.get(Mt.triggerName),wh=this.statesByElement.get(Mt.element);wh&&wh[Mt.triggerName]&&(wh[Mt.triggerName].value=Sp)}return void mn.destroy()}}const rc=!A||!this.driver.containsElement(A,Ir),Jo=it.get(Ir),bh=U.get(Ir),ui=this._buildInstruction(Mt,i,bh,Jo,rc);if(ui.errors&&ui.errors.length)return void $t.push(ui);if(rc)return mn.onStart(()=>va(Ir,ui.fromStyles)),mn.onDestroy(()=>ji(Ir,ui.toStyles)),void r.push(mn);if(Mt.isFallbackTransition)return mn.onStart(()=>va(Ir,ui.fromStyles)),mn.onDestroy(()=>ji(Ir,ui.toStyles)),void r.push(mn);const z2=[];ui.timelines.forEach(Gs=>{Gs.stretchStartingKeyframe=!0,this.disabledNodes.has(Gs.element)||z2.push(Gs)}),ui.timelines=z2,i.append(Ir,ui.timelines),u.push({instruction:ui,player:mn,element:Ir}),ui.queriedElements.forEach(Gs=>ks(f,Gs,[]).push(mn)),ui.preStyleProps.forEach((Gs,Sp)=>{const wh=Object.keys(Gs);if(wh.length){let xp=_.get(Sp);xp||_.set(Sp,xp=new Set),wh.forEach(hR=>xp.add(hR))}}),ui.postStyleProps.forEach((Gs,Sp)=>{const wh=Object.keys(Gs);let xp=b.get(Sp);xp||b.set(Sp,xp=new Set),wh.forEach(hR=>xp.add(hR))})});if($t.length){const ut=[];$t.forEach(Et=>{ut.push(function wR(n,t){return new l.vHH(3505,Qt)}())}),Bt.forEach(Et=>Et.destroy()),this.reportError(ut)}const bn=new Map,Wr=new Map;u.forEach(ut=>{const Et=ut.element;i.has(Et)&&(Wr.set(Et,Et),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,bn))}),r.forEach(ut=>{const Et=ut.element;this._getPreviousPlayers(Et,!1,ut.namespaceId,ut.triggerName,null).forEach(mn=>{ks(bn,Et,[]).push(mn),mn.destroy()})});const Iu=Ce.filter(ut=>My(ut,_,b)),Su=new Map;Sy(Su,this.driver,rt,b,Ho).forEach(ut=>{My(ut,_,b)&&Iu.push(ut)});const l0=new Map;B.forEach((ut,Et)=>{Sy(l0,this.driver,new Set(ut),_,"!")}),Iu.forEach(ut=>{const Et=Su.get(ut),Mt=l0.get(ut);Su.set(ut,Object.assign(Object.assign({},Et),Mt))});const Ip=[],G2=[],$2={};u.forEach(ut=>{const{element:Et,player:Mt,instruction:mn}=ut;if(i.has(Et)){if(T.has(Et))return Mt.onDestroy(()=>ji(Et,mn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(mn.totalTime),void r.push(Mt);let Ir=$2;if(Wr.size>1){let Jo=Et;const bh=[];for(;Jo=Jo.parentNode;){const ui=Wr.get(Jo);if(ui){Ir=ui;break}bh.push(Jo)}bh.forEach(ui=>Wr.set(ui,Ir))}const rc=this._buildAnimation(Mt.namespaceId,mn,bn,a,l0,Su);if(Mt.setRealPlayer(rc),Ir===$2)Ip.push(Mt);else{const Jo=this.playersByElement.get(Ir);Jo&&Jo.length&&(Mt.parentPlayer=el(Jo)),r.push(Mt)}}else va(Et,mn.fromStyles),Mt.onDestroy(()=>ji(Et,mn.toStyles)),G2.push(Mt),T.has(Et)&&r.push(Mt)}),G2.forEach(ut=>{const Et=a.get(ut.element);if(Et&&Et.length){const Mt=el(Et);ut.setRealPlayer(Mt)}}),r.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<Ce.length;ut++){const Et=Ce[ut],Mt=Et[ir];if(ru(Et,mm),Mt&&Mt.hasAnimation)continue;let mn=[];if(f.size){let rc=f.get(Et);rc&&rc.length&&mn.push(...rc);let Jo=this.driver.query(Et,uy,!0);for(let bh=0;bh<Jo.length;bh++){let ui=f.get(Jo[bh]);ui&&ui.length&&mn.push(...ui)}}const Ir=mn.filter(rc=>!rc.destroyed);Ir.length?hw(this,Et,Ir):this.processLeaveNode(Et)}return Ce.length=0,Ip.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Et=this.players.indexOf(ut);this.players.splice(Et,1)}),ut.play()}),Ip}elementContainsData(t,e){let i=!1;const r=e[ir];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,a){let u=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(u=f)}else{const f=this.playersByElement.get(t);if(f){const _=!a||a==wa;f.forEach(b=>{b.queued||!_&&b.triggerName!=r||u.push(b)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(t,e,i){const a=e.element,u=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const b=_.element,T=b!==a,A=ks(i,b,[]);this._getPreviousPlayers(b,T,u,f,e.toState).forEach(B=>{const U=B.getRealPlayer();U.beforeDestroy&&U.beforeDestroy(),B.destroy(),A.push(B)})}va(a,e.fromStyles)}_buildAnimation(t,e,i,r,a,u){const f=e.triggerName,_=e.element,b=[],T=new Set,A=new Set,O=e.timelines.map(U=>{const ee=U.element;T.add(ee);const Ce=ee[ir];if(Ce&&Ce.removedBeforeQueried)return new Xc(U.duration,U.delay);const $e=ee!==_,rt=function BT(n){const t=[];return Ay(n,t),t}((i.get(ee)||_o).map(bn=>bn.getRealPlayer())).filter(bn=>!!bn.element&&bn.element===ee),it=a.get(ee),tt=u.get(ee),Bt=j0(0,this._normalizer,0,U.keyframes,it,tt),$t=this._buildPlayer(U,Bt,rt);if(U.subTimeline&&r&&A.add(ee),$e){const bn=new ql(t,f,ee);bn.setRealPlayer($t),b.push(bn)}return $t});b.forEach(U=>{ks(this.playersByQueriedElement,U.element,[]).push(U),U.onDone(()=>function Rd(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,U.element,U))}),T.forEach(U=>Rs(U,cy));const B=el(O);return B.onDestroy(()=>{T.forEach(U=>ru(U,cy)),ji(_,e.toStyles)}),A.forEach(U=>{ks(r,U,[]).push(B)}),B}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Xc(t.duration,t.delay)}}class ql{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Xc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>iy(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ks(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bf(n){return n&&1===n.nodeType}function Iy(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Sy(n,t,e,i,r){const a=[];e.forEach(_=>a.push(Iy(_)));const u=[];i.forEach((_,b)=>{const T={};_.forEach(A=>{const O=T[A]=t.computeStyle(b,A,r);(!O||0==O.length)&&(b[ir]=Ad,u.push(b))}),n.set(b,T)});let f=0;return e.forEach(_=>Iy(_,a[f++])),u}function xy(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const r=new Set(t),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const b=f.parentNode;return _=e.has(b)?b:r.has(b)?1:u(b),a.set(f,_),_}return t.forEach(f=>{const _=u(f);1!==_&&e.get(_).push(f)}),e}function Rs(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ru(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function hw(n,t,e){el(e).onDone(()=>n.processLeaveNode(t))}function Ay(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Q_?Ay(i.players,t):t.push(i)}}function My(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(a=>r.add(a)):t.set(n,i),e.delete(n),!0}class wf{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new kd(t,e,i),this._timelineEngine=new LT(t,e,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(t,e,i,r,a){const u=t+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],T=Cm(this._driver,a,_,[]);if(_.length)throw function V0(n,t){return new l.vHH(3404,Qt)}();f=function Dm(n,t,e){return new Sd(n,t,e)}(r,T,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(e,r,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[a,u]=sy(i);this._timelineEngine.command(a,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,a){if("@"==i.charAt(0)){const[u,f]=sy(i);return this._timelineEngine.listen(u,e,f,a)}return this._transitionEngine.listen(t,e,i,r,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let HT=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ji(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ji(this._element,this._initialStyles),this._endStyles&&(ji(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(va(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(va(this._element,this._endStyles),this._endStyles=null),ji(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xm(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];jT(r)&&(t=t||{},t[r]=n[r])}return t}function jT(n){return"display"===n||"position"===n}class ky{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:J0(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class GT{validateStyleProperty(t){return z0(t)}matchesElement(t,e){return!1}containsElement(t,e){return ly(t,e)}getParentElement(t){return fm(t)}query(t,e,i){return q0(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const b={},T=u.filter(O=>O instanceof ky);(function K0(n,t){return 0===n||0===t})(i,r)&&T.forEach(O=>{let B=O.currentSnapshot;Object.keys(B).forEach(U=>b[U]=B[U])}),e=function Q0(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let a=t[0],u=[];if(i.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=e[f]}),u.length)for(var r=1;r<t.length;r++){let f=t[r];u.forEach(function(_){f[_]=J0(n,_)})}}return t}(t,e=e.map(O=>nl(O,!1)),b);const A=function UT(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xm(t[0]),t.length>1&&(i=xm(t[t.length-1]))):t&&(e=xm(t)),e||i?new HT(n,e,i):null}(t,e);return new ky(t,e,_,A)}}let $T=(()=>{class n extends Y_{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?rT(e):e;return Am(this._renderer,null,i,"register",[r]),new xR(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class xR extends class nT{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new zT(this._id,t,e||{},this._renderer)}}class zT{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Am(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Am(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const fw="@.disabled";let AR=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(a);return T||(T=new qT("",a,this.engine),this._rendererCache.set(a,T)),T}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(u,f,e,T.name,T)};return i.data.animation.forEach(_),new MR(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(wf),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class qT{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==fw?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class MR extends qT{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==fw?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function WT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function pw(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(t,e,i)}}let kR=(()=>{class n extends wf{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(hf),l.LFG(Em))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const rr=new l.OlP("AnimationModuleType"),Ry=[{provide:Y_,useClass:$T},{provide:Em,useFactory:function ZT(){return new kT}},{provide:wf,useClass:kR},{provide:l.FYo,useFactory:function Pd(n,t,e){return new AR(n,t,e)},deps:[Cn,wf,l.R0b]}],mw=[{provide:hf,useFactory:()=>new GT},{provide:rr,useValue:"BrowserAnimations"},...Ry],gw=[{provide:hf,useClass:W0},{provide:rr,useValue:"NoopAnimations"},...Ry];let Mm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?gw:mw}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:mw,imports:[ra]}),n})(),_w=(()=>{class n{constructor(){this.title="scoreboard"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},directives:[$c],encapsulation:2}),n})();const YT=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function KT(){return(0,l.f3M)(Q)}}),QT=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let km,ss=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function JT(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?QT.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(YT,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{km="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){km=!1}let Wl,ki=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Li(n){return n===Js}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!km)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function eI(){if(Wl)return Wl;if("object"!=typeof document||!document)return Wl=new Set(yw),Wl;let n=document.createElement("input");return Wl=new Set(yw.filter(t=>(n.setAttribute("type",t),n.type===t))),Wl}let il,su,Ef;function Zl(n){return function vw(){if(null==il&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>il=!0}))}finally{il=il||!1}return il}()?n:!!n.capture}function Rm(){if(null==su){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return su=!1,su;if("scrollBehavior"in document.documentElement.style)su=!0;else{const n=Element.prototype.scrollTo;su=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return su}function Fd(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ca(n){return n.composedPath?n.composedPath()[0]:n.target}function Df(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function zo(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Lm=P(4986);function Fw(n,t=Lm.z){return(0,Xn.e)((e,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const b=a;a=null,i.next(b)}};function _(){const b=u+n,T=t.now();if(T<b)return r=this.schedule(void 0,b-T),void i.add(r);f()}e.subscribe((0,En.x)(i,b=>{a=b,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function Sf(n,t=hr.y){return n=null!=n?n:Vm,(0,Xn.e)((e,i)=>{let r,a=!0;e.subscribe((0,En.x)(i,u=>{const f=t(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function Vm(n,t){return n===t}var Um=P(5032);function Tt(n){return(0,Xn.e)((t,e)=>{(0,Es.Xf)(n).subscribe((0,En.x)(e,()=>e.complete(),Um.Z)),!e.closed&&t.subscribe(e)})}function Yt(n){return null!=n&&"false"!=`${n}`}function Vr(n,t=0){return function HI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Lw(n){return Array.isArray(n)?n:[n]}function ci(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ta(n){return n instanceof l.SBq?n.nativeElement:n}let Hy=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GI=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ta(e);return new qn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new lt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Hy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bw=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Yt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Vr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Fw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(GI),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Hy]}),n})();class jw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new lt.x,this._typeaheadSubscription=Sn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new lt.x,this.change=new lt.x,t instanceof l.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,li.b)(e=>this._pressedLetters.push(e)),Fw(t),In(()=>this._pressedLetters.length>0),(0,vt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||zo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}class zI extends jw{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class $y extends jw{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let zy=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function WI(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Gw(n){try{return n.frameElement}catch(t){return null}}(function JI(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===QI(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),a=QI(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function zw(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Gm(n){return!function ZI(n){return function bO(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function $w(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function YI(n){return function wO(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||KI(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ki))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KI(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function QI(n){if(!KI(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class XI{constructor(t,e,i,r,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(t)}}let qw=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new XI(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zy),l.LFG(l.R0b),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ww(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const eS=new l.OlP("cdk-input-modality-detector-options"),jd={ignoreKeys:[18,17,224,91,16]},ou=Zl({passive:!0,capture:!0});let tS=(()=>{class n{constructor(e,i,r,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Ii(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,_;(null===(_=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===_?void 0:_.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ca(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(qy(u)?"keyboard":"mouse"),this._mostRecentTarget=Ca(u))},this._onTouchstart=u=>{Ww(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ca(u))},this._options=Object.assign(Object.assign({},jd),a),this.modalityDetected=this._modality.pipe(function Bm(n){return In((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Sf()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ou),r.addEventListener("mousedown",this._onMousedown,ou),r.addEventListener("touchstart",this._onTouchstart,ou)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ou),document.removeEventListener("mousedown",this._onMousedown,ou),document.removeEventListener("touchstart",this._onTouchstart,ou))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ki),l.LFG(l.R0b),l.LFG(Q),l.LFG(eS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yw=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function nS(){return null}}),Kw=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let iS=(()=>{class n{constructor(e,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Yw,8),l.LFG(l.R0b),l.LFG(Q),l.LFG(Kw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rS=new l.OlP("cdk-focus-monitor-default-options"),xf=Zl({passive:!0,capture:!0});let au=(()=>{class n{constructor(e,i,r,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new lt.x,this._rootNodeFocusAndBlurListener=f=>{const _=Ca(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let T=_;T;T=T.parentElement)b.call(this,f,T)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(e,i=!1){const r=Ta(e);if(!this._platform.isBrowser||1!==r.nodeType)return Xe(null);const a=function tI(n){if(function OR(){if(null==Ef){const n="undefined"!=typeof document?document.head:null;Ef=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Ef}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new lt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Ta(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const a=Ta(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),a=Ca(e);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,xf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,xf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tt(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&i.push([a,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(ki),l.LFG(tS),l.LFG(Q,8),l.LFG(rS,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sS=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new l.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(au))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Jw="cdk-high-contrast-black-on-white",Xw="cdk-high-contrast-white-on-black",Af="cdk-high-contrast-active";let eC=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Af),e.remove(Jw),e.remove(Xw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Af),e.add(Jw)):2===i&&(e.add(Af),e.add(Xw))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ki),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tC=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(eC))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jy]]}),n})();function oS(n,t){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=l.oxw();l.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function aS(n,t){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij("(",e.group.label,")")}}const lS=["*"],rC=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function iC(){return!0}});let cn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Df()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(eC),l.LFG(rC,8),l.LFG(Q))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cf],Cf]}),n})();function Gd(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Yt(t)}}}function Mf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function ol(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Yt(t)}}}function kf(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Vr(e):this.defaultTabIndex}}}function Wy(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new lt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}let $d=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function al(n,t,e){n.nativeElement.classList.toggle(t,e)}let zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cn],cn]}),n})();class BO{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Zy={enterDuration:225,exitDuration:150},Yy=Zl({passive:!0}),lC=["mousedown","touchstart"],cC=["mouseup","mouseleave","touchend","touchcancel"];class uC{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ta(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},Zy),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Ky(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,_=e-r.top,b=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=_-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=i.color&&(T.style.backgroundColor=i.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function dC(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const A=new BO(this,T,i);return A.state=0,this._activeRipples.add(A),i.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const O=A===this._mostRecentTransientRipple;A.state=1,!i.persistent&&(!O||!this._isPointerDown)&&A.fadeOut()},b),A}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},Zy),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ta(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(lC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(cC),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=qy(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ww(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Yy)})})}_removeTriggerEvents(){this._triggerElement&&(lC.forEach(t=>{this._triggerElement.removeEventListener(t,this,Yy)}),this._pointerUpEventsRegistered&&cC.forEach(t=>{this._triggerElement.removeEventListener(t,this,Yy)}))}}const qm=new l.OlP("mat-ripple-global-options");let qo=(()=>{class n{constructor(e,i,r,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new uC(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ki),l.Y36(qm,8),l.Y36(rr,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Wm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cn],cn]}),n})(),Qy=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rr,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),Zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cn]]}),n})();const hC=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),mS=new l.OlP("MatOptgroup");let gS=0;class zd{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let pC=(()=>{class n{constructor(e,i,r,a){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+gS++,this.onSelectionChange=new l.vpe,this._stateChanges=new lt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Yt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!zo(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new zd(this,e))}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),cu=(()=>{class n extends pC{constructor(e,i,r,a){super(e,i,r,a)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(hC,8),l.Y36(mS,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(a){return i._handleKeydown(a)}),2&e&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:lS,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(l.F$t(),l.YNc(0,oS,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,aS,2,1,"span",2),l._UZ(4,"div",3)),2&e&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[Qy,ai,qo],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function _S(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),a=0;for(let u=0;u<n+1;u++)i[u].group&&i[u].group===r[a]&&a++;return a}return 0}let gC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Wm,Xi,cn,Zm]]}),n})();const jO=["mat-button",""],_C=["*"],Jy=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yS=Mf(Gd(ol(class{constructor(n){this._elementRef=n}})));let Ym=(()=>{class n extends yS{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Jy)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(au),l.Y36(rr,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&l.Gf(qo,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:jO,ngContentSelectors:_C,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[qo],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),bS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Wm,cn],cn]}),n})();function Xy(n){return n&&"function"==typeof n.connect}class vC{applyChanges(t,e,i,r,a){t.forEachOperation((u,f,_)=>{let b,T;if(null==u.previousIndex){const A=i(u,f,_);b=e.createEmbeddedView(A.templateRef,A.context,A.index),T=1}else null==_?(e.remove(f),T=3):(b=e.get(f),e.move(b,_),T=2);a&&a({context:null==b?void 0:b.context,operation:T,record:u})})}detach(){}}class ev{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new lt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let tv=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qd=new l.OlP("_ViewRepeater");var CC=P(1144);const EC=["addListener","removeListener"],wS=["addEventListener","removeEventListener"],CS=["on","off"];function uu(n,t,e,i){if((0,Bi.m)(e)&&(i=e,e=void 0),i)return uu(n,t,e).pipe(Ic(i));const[r,a]=function TS(n){return(0,Bi.m)(n.addEventListener)&&(0,Bi.m)(n.removeEventListener)}(n)?wS.map(u=>f=>n[u](t,f,e)):function ES(n){return(0,Bi.m)(n.addListener)&&(0,Bi.m)(n.removeListener)}(n)?EC.map(DC(n,t)):function DS(n){return(0,Bi.m)(n.on)&&(0,Bi.m)(n.off)}(n)?CS.map(DC(n,t)):[];if(!r&&(0,CC.z)(n))return(0,An.z)(u=>uu(u,t,e))((0,Es.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qn.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function DC(n,t){return e=>i=>n[e](t,i)}var Wd=P(4408);const Rf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Rf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(a=>{e=void 0,n(a)});return new Sn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Rf;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Rf;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var Wo=P(7565);new class IS extends Wo.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class nv extends Wd.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Rf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Rf.cancelAnimationFrame(e),t._scheduled=void 0)}});let iv,SS=1;const Xm={};function Of(n){return n in Xm&&(delete Xm[n],!0)}const eg={setImmediate(n){const t=SS++;return Xm[t]=!0,iv||(iv=Promise.resolve()),iv.then(()=>Of(t)&&n()),t},clearImmediate(n){Of(n)}},{setImmediate:xS,clearImmediate:TC}=eg,Pf={setImmediate(...n){const{delegate:t}=Pf;return((null==t?void 0:t.setImmediate)||xS)(...n)},clearImmediate(n){const{delegate:t}=Pf;return((null==t?void 0:t.clearImmediate)||TC)(n)},delegate:void 0};new class IC extends Wo.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class rv extends Wd.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Pf.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Pf.clearImmediate(e),t._scheduled=void 0)}});var sv=P(3532);function av(n=0,t,e=Lm.P){let i=-1;return null!=t&&((0,sv.K)(t)?e=t:i=t),new qn.y(r=>{let a=function ov(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function tg(n,t=Lm.z){return function WO(n){return(0,Xn.e)((t,e)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,i){i=!1;const b=r;r=null,e.next(b)}u&&e.complete()},_=()=>{a=null,u&&e.complete()};t.subscribe((0,En.x)(e,b=>{i=!0,r=b,a||(0,Es.Xf)(n(b)).subscribe(a=(0,En.x)(e,f,_))},()=>{u=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>av(n,t))}let xC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new lt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(tg(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(In(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ta(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>uu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(ki),l.LFG(Q,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kl=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new lt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(tg(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ki),l.LFG(l.R0b),l.LFG(Q,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ng=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),sr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cf,ng],Cf,ng]}),n})();const Zd=[[["caption"]],[["colgroup"],["col"]]],NS=["caption","colgroup, col"];function du(n){return class extends n{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Yt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const Yd=new l.OlP("CDK_TABLE");let Kd=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),hu=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),ig=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class LS{}const uv=du(LS);let Ia=(()=>{class n extends uv{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Yt(e),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Yd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,Kd,5),l.Suo(r,hu,5),l.Suo(r,ig,5)),2&e){let a;l.iGM(a=l.CRH())&&(i.cell=a.first),l.iGM(a=l.CRH())&&(i.headerCell=a.first),l.iGM(a=l.CRH())&&(i.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class rg{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let Qd=(()=>{class n extends rg{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ia),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),sg=(()=>{class n extends rg{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const a=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===a||"treegrid"===a?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ia),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[l.qOj]}),n})(),MC=(()=>{class n extends rg{constructor(e,i){var r;if(super(e,i),1===(null===(r=e._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const a=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===a||"treegrid"===a?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ia),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class dv{constructor(){this.tasks=[],this.endTasks=[]}}const hv=new l.OlP("_COALESCED_STYLE_SCHEDULER");let fv=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new lt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new dv,this._getScheduleObservable().pipe(Tt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new dv;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,On.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Pn.q)(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),og=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof fu?e.headerCell.template:this instanceof Nf?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class BS extends og{}const mv=du(BS);let fu=(()=>{class n extends mv{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Yd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class t1 extends og{}const VS=du(t1);let Nf=(()=>{class n extends VS{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Yd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),Ff=(()=>{class n extends og{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(Yd,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),Sa=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[Sa],encapsulation:2}),n})(),ag=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[Sa],encapsulation:2}),n})(),lg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[Sa],encapsulation:2}),n})(),cg=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const kC=["top","bottom","left","right"];class RC{constructor(t,e,i,r,a=!0,u=!0,f){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=a,this._needsPositionStickyOnElement=u,this._positionListener=f,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let a=0;a<r.children.length;a++)i.push(r.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(O=>O)&&!i.some(O=>O))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=t[0],u=a.children.length,f=this._getCellWidths(a,r),_=this._getStickyStartColumnPositions(f,e),b=this._getStickyEndColumnPositions(f,i),T=e.lastIndexOf(!0),A=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const O="rtl"===this.direction,B=O?"right":"left",U=O?"left":"right";for(const ee of t)for(let Ce=0;Ce<u;Ce++){const $e=ee.children[Ce];e[Ce]&&this._addStickyStyle($e,B,_[Ce],Ce===T),i[Ce]&&this._addStickyStyle($e,U,b[Ce],Ce===A)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===T?[]:f.slice(0,T+1).map((ee,Ce)=>e[Ce]?ee:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===A?[]:f.slice(A).map((ee,Ce)=>i[Ce+A]?ee:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,a="bottom"===i?e.slice().reverse():e,u=[],f=[],_=[];for(let T=0,A=0;T<r.length;T++){if(!a[T])continue;u[T]=A;const O=r[T];_[T]=this._isNativeHtmlTable?Array.from(O.children):[O];const B=O.getBoundingClientRect().height;A+=B,f[T]=B}const b=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var T,A;for(let O=0;O<r.length;O++){if(!a[O])continue;const B=u[O],U=O===b;for(const ee of _[O])this._addStickyStyle(ee,i,B,U)}"top"===i?null===(T=this._positionListener)||void 0===T||T.stickyHeaderRowsUpdated({sizes:f,offsets:u,elements:_}):null===(A=this._positionListener)||void 0===A||A.stickyFooterRowsUpdated({sizes:f,offsets:u,elements:_})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);kC.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of kC)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let a=0;a<r.length;a++)i.push(r[a].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let a=0;a<t.length;a++)e[a]&&(i[a]=r,r+=t[a]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let a=t.length;a>0;a--)e[a]&&(i[a]=r,r+=t[a]);return i}}const ug=new l.OlP("CDK_SPL");let _v=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),yv=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),vv=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),bv=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),wv=(()=>{class n{constructor(e,i,r,a,u,f,_,b,T,A,O,B){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=T,this._viewportRuler=A,this._stickyPositioningListener=O,this._ngZone=B,this._onDestroy=new lt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Ii({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=f,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Yt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Yt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Tt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Xy(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,a,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Pn.q)(1),Tt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const a=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,a,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const a=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((a,u)=>{this._addStickyColumnStyles([a],this._headerRowDefs[u])}),this._rowDefs.forEach(a=>{const u=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===a&&u.push(i[f]);this._addStickyColumnStyles(u,a)}),r.forEach((a,u)=>{this._addStickyColumnStyles([a],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let a=this._data[r];const u=this._getRenderRowsForData(a,r,i.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let f=0;f<u.length;f++){let _=u[f];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),e.push(_)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const f=r&&r.has(u)?r.get(u):[];if(f.length){const _=f.shift();return _.dataIndex=i,_}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),pu(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=pu(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=pu(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=pu(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,f)=>u||!!f.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(e,!1);return a&&this._forceRenderFooterRows(),i||r||a}_switchDataSource(e){this._data=[],Xy(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Xy(this.dataSource)?e=this.dataSource.connect(this):function wC(n){return!!n&&(n instanceof qn.y||(0,Bi.m)(n.lift)&&(0,Bi.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Xe(this.dataSource)),this._renderChangeSubscription=e.pipe(Tt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(f=>this._columnDefsByName.get(f)),a=r.map(f=>f.sticky),u=r.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(e,a,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const a=e.viewContainer.get(r);i.push(a.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(a=>!a.when||a.when(i,e));else{let a=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;a&&r.push(a)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,a={}){const u=e.viewContainer.createEmbeddedView(i.template,a,r);return this._renderCellTemplateForItem(i,a),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Sa.mostRecentCellOutlet&&Sa.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const a=this._document.createElement(r.tag);a.setAttribute("role","rowgroup");for(const u of r.outlets)a.appendChild(u.elementRef.nativeElement);e.appendChild(a)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new RC(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Xe()).pipe(Tt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const a=r.createEmbeddedView(e.templateRef),u=a.rootNodes[0];1===a.rootNodes.length&&(null==u?void 0:u.nodeType)===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(ss,8),l.Y36(Q),l.Y36(ki),l.Y36(qd),l.Y36(hv),l.Y36(Kl),l.Y36(ug,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,cg,5),l.Suo(r,Ia,5),l.Suo(r,Ff,5),l.Suo(r,fu,5),l.Suo(r,Nf,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._noDataRow=a.first),l.iGM(a=l.CRH())&&(i._contentColumnDefs=a),l.iGM(a=l.CRH())&&(i._contentRowDefs=a),l.iGM(a=l.CRH())&&(i._contentHeaderRowDefs=a),l.iGM(a=l.CRH())&&(i._contentFooterRowDefs=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(_v,7),l.Gf(yv,7),l.Gf(vv,7),l.Gf(bv,7)),2&e){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:Yd,useExisting:n},{provide:qd,useClass:vC},{provide:hv,useClass:fv},{provide:ug,useValue:null}])],ngContentSelectors:NS,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(Zd),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[yv,_v,bv,vv],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function pu(n,t){return n.concat(Array.from(t))}let Cv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[sr]]}),n})();const OC=[[["caption"]],[["colgroup"],["col"]]],PC=["caption","colgroup, col"];let dg=(()=>{class n extends wv{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:qd,useClass:vC},{provide:wv,useExisting:n},{provide:Yd,useExisting:n},{provide:hv,useClass:fv},{provide:ug,useValue:null}]),l.qOj],ngContentSelectors:PC,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(OC),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[yv,_v,bv,vv],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),Lf=(()=>{class n extends Kd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:Kd,useExisting:n}]),l.qOj]}),n})(),Dv=(()=>{class n extends hu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:hu,useExisting:n}]),l.qOj]}),n})(),Tv=(()=>{class n extends ig{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matFooterCellDef",""]],features:[l._Bn([{provide:ig,useExisting:n}]),l.qOj]}),n})(),hg=(()=>{class n extends Ia{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Ia,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),Jd=(()=>{class n extends Qd{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),Iv=(()=>{class n extends sg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[l.qOj]}),n})(),Sv=(()=>{class n extends MC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),FC=(()=>{class n extends fu{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:fu,useExisting:n}]),l.qOj]}),n})(),LC=(()=>{class n extends Nf{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[l._Bn([{provide:Nf,useExisting:n}]),l.qOj]}),n})(),xv=(()=>{class n extends Ff{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:Ff,useExisting:n}]),l.qOj]}),n})(),Av=(()=>{class n extends gv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:gv,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[Sa],encapsulation:2}),n})(),Mv=(()=>{class n extends ag{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[l._Bn([{provide:ag,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[Sa],encapsulation:2}),n})(),BC=(()=>{class n extends lg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:lg,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},directives:[Sa],encapsulation:2}),n})(),Zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Cv,cn],cn]}),n})();class Rv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ov extends Rv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Bf extends Rv{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Pv extends Rv{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class Os{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ov?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Bf?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Pv?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class f1 extends Os{constructor(t,e,i,r,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Xd=(()=>{class n extends Os{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(a,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(Q))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),fg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Yo=P(6451);const HC=Rm();class ex{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ci(-this._previousScrollPosition.left),t.style.top=ci(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),HC&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),HC&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Nv{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pg{enable(){}disable(){}attach(){}}function mg(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function jC(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class GC{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();mg(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let $C=(()=>{class n{constructor(e,i,r,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new pg,this.close=u=>new Nv(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new ex(this._viewportRuler,this._document),this.reposition=u=>new GC(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xC),l.LFG(Kl),l.LFG(l.R0b),l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Fv{constructor(t){if(this.scrollStrategy=new pg,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class _1{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class ix{constructor(t,e,i,r,a,u,f,_,b){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new lt.x,this._attachments=new lt.x,this._detachments=new lt.x,this._locationChanges=Sn.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new lt.x,this._outsidePointerEvents=new lt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ci(this._config.width),t.height=ci(this._config.height),t.minWidth=ci(this._config.minWidth),t.minHeight=ci(this._config.minHeight),t.maxWidth=ci(this._config.maxWidth),t.maxHeight=ci(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Lw(e||[]).filter(a=>!!a);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Tt((0,Yo.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Lv=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Df()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(e),Df()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(ki))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rx="cdk-overlay-connected-position-bounding-box",v1=/([A-Za-z%]+)$/;class b1{constructor(t,e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new lt.x,this._resizeSubscription=Sn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(rx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(t,r,f),b=this._getOverlayPoint(_,e,f),T=this._getOverlayFit(b,e,i,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(T,b,i)?a.push({position:f,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:b,originPoint:_,position:f,overlayRect:e})}if(a.length){let f=null,_=-1;for(const b of a){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>_&&(_=T,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eh(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,a;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?u:f}return e.left<0&&(r-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(t,e,i){let r,a;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,i,r){const a=zC(e);let{x:u,y:f}=t,_=this._getOffset(r,"x"),b=this._getOffset(r,"y");_&&(u+=_),b&&(f+=b);let O=0-f,B=f+a.height-i.height,U=this._subtractOverflows(a.width,0-u,u+a.width-i.width),ee=this._subtractOverflows(a.height,O,B),Ce=U*ee;return{visibleArea:Ce,isCompletelyWithinViewport:a.width*a.height===Ce,fitsInViewportVertically:ee===a.height,fitsInViewportHorizontally:U==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,a=i.right-e.x,u=sx(this._overlayRef.getConfig().minHeight),f=sx(this._overlayRef.getConfig().minWidth),b=t.fitsInViewportHorizontally||null!=f&&f<=a;return(t.fitsInViewportVertically||null!=u&&u<=r)&&b}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=zC(e),a=this._viewportRect,u=Math.max(t.x+r.width-a.width,0),f=Math.max(t.y+r.height-a.height,0),_=Math.max(a.top-i.top-t.y,0),b=Math.max(a.left-i.left-t.x,0);let T=0,A=0;return T=r.width<=a.width?b||-u:t.x<this._viewportMargin?a.left-i.left-t.x:0,A=r.height<=a.height?_||-f:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:T,y:A},{x:t.x+T,y:t.y+A}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new _1(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let a,u,f,T,A,O;if("top"===e.overlayY)u=t.y,a=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const B=Math.min(i.bottom-t.y+i.top,t.y),U=this._lastBoundingBoxSize.height;a=2*B,u=t.y-B,a>U&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-U/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)O=i.width-t.x+this._viewportMargin,T=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)A=t.x,T=i.right-t.x;else{const B=Math.min(i.right-t.x+i.left,t.x),U=this._lastBoundingBoxSize.width;T=2*B,A=t.x-B,T>U&&!this._isInitialRender&&!this._growAfterOpen&&(A=t.x-U/2)}return{top:u,left:A,bottom:f,right:O,width:T,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=ci(i.height),r.top=ci(i.top),r.bottom=ci(i.bottom),r.width=ci(i.width),r.left=ci(i.left),r.right=ci(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=ci(a)),u&&(r.maxWidth=ci(u))}this._lastBoundingBoxSize=i,eh(this._boundingBox.style,r)}_resetBoundingBoxStyles(){eh(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eh(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const T=this._viewportRuler.getViewportScrollPosition();eh(i,this._getExactOverlayY(e,t,T)),eh(i,this._getExactOverlayX(e,t,T))}else i.position="static";let f="",_=this._getOffset(e,"x"),b=this._getOffset(e,"y");_&&(f+=`translateX(${_}px) `),b&&(f+=`translateY(${b}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=ci(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=ci(u.maxWidth):a&&(i.maxWidth="")),eh(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=ci(a.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=ci(a.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jC(t,i),isOriginOutsideView:mg(t,i),isOverlayClipped:jC(e,i),isOverlayOutsideView:mg(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Lw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function eh(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function sx(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(v1);return e&&"px"!==e?null:parseFloat(t)}return n||null}function zC(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Vf="cdk-global-overlay-wrapper";class ox{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Vf),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=_?"0":this._leftOffset,t.marginTop=b?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,_?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Vf),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ax=(()=>{class n{constructor(e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new ox}flexibleConnectedTo(e){return new b1(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Kl),l.LFG(Q),l.LFG(ki),l.LFG(Lv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bv=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mu=(()=>{class n extends Bv{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qC=(()=>{class n extends Bv{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Ca(a)},this._clickListener=a=>{const u=Ca(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const T=_[b];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(f))break;const A=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>A.next(a)):A.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Q),l.LFG(ki),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vv=0,Ql=(()=>{class n{constructor(e,i,r,a,u,f,_,b,T,A,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=b,this._directionality=T,this._location=A,this._outsideClickDispatcher=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new Fv(e);return u.direction=u.direction||this._directionality.value,new ix(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Vv++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new f1(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG($C),l.LFG(Lv),l.LFG(l._Vd),l.LFG(ax),l.LFG(mu),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(Q),l.LFG(ss),l.LFG(ye),l.LFG(qC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const lx=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gg=new l.OlP("cdk-connected-overlay-scroll-strategy");let _g=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Uf=(()=>{class n{constructor(e,i,r,a,u){this._overlay=e,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Sn.w0.EMPTY,this._attachSubscription=Sn.w0.EMPTY,this._detachSubscription=Sn.w0.EMPTY,this._positionSubscription=Sn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new Bf(i,r),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Yt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Yt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Yt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Yt(e)}get push(){return this._push}set push(e){this._push=Yt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=lx);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!zo(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Fv({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof _g?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function XS(n,t=!1){return(0,Xn.e)((e,i)=>{let r=0;e.subscribe((0,En.x)(i,a=>{const u=n(a,r++);(u||t)&&i.next(a),!u&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ql),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(gg),l.Y36(ss,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const C1={provide:gg,deps:[Ql],useFactory:function w1(n){return()=>n.scrollStrategies.reposition()}};let cx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ql,C1],imports:[[Cf,fg,sr],sr]}),n})();function WC(n,t){}class Uv{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const ux={dialogContainer:_d("dialogContainer",[go("void, exit",yi({opacity:0,transform:"scale(0.7)"})),go("enter",yi({transform:"none"})),_a("* => enter",iT([Xa("150ms cubic-bezier(0, 0, 0.2, 1)",yi({transform:"none",opacity:1})),lf("@*",O0(),{optional:!0})])),_a("* => void, * => exit",iT([Xa("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",yi({opacity:0})),lf("@*",O0(),{optional:!0})]))])};let dx=(()=>{class n extends Os{constructor(e,i,r,a,u,f,_,b){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=u,this._interactivityChecker=f,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Fd())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Fd(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Fd();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(qw),l.Y36(l.sBO),l.Y36(Q,8),l.Y36(Uv),l.Y36(zy),l.Y36(l.R0b),l.Y36(au))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(Xd,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),ZC=(()=>{class n extends dx{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&l.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&e&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,WC,0,0,"ng-template",0)},directives:[Xd],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[ux.dialogContainer]}}),n})(),YC=0;class Hf{constructor(t,e,i="mat-dialog-"+YC++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new lt.x,this._afterClosed=new lt.x,this._beforeClosed=new lt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(In(r=>"opened"===r.state),(0,Pn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(In(r=>"closed"===r.state),(0,Pn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(In(r=>27===r.keyCode&&!this.disableClose&&!zo(r))).subscribe(r=>{r.preventDefault(),Hv(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Hv(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(In(e=>"closing"===e.state),(0,Pn.q)(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Hv(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const KC=new l.OlP("MatDialogData"),QC=new l.OlP("mat-dialog-default-options"),yg=new l.OlP("mat-dialog-scroll-strategy"),jv={provide:yg,deps:[Ql],useFactory:function JC(n){return()=>n.scrollStrategies.block()}};let hx=(()=>{class n{constructor(e,i,r,a,u,f,_,b,T,A){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=u,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=T,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new lt.x,this._afterOpenedAtThisLevel=new lt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=nr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Tn(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function D1(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Uv),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),a=this._attachDialogContainer(r,i),u=this._attachDialogContent(e,a,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),a._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Fv({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const a=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Uv,useValue:i}]}),u=new Ov(this._dialogContainerType,i.viewContainerRef,a,i.componentFactoryResolver);return e.attach(u).instance}_attachDialogContent(e,i,r,a){const u=new this._dialogRefConstructor(r,i,a.id);if(e instanceof l.Rgc)i.attachTemplatePortal(new Bf(e,null,{$implicit:a.data,dialogRef:u}));else{const f=this._createInjector(a,u,i),_=i.attachComponentPortal(new Ov(e,a.viewContainerRef,f,a.componentFactoryResolver));u.componentInstance=_.instance}return u.updateSize(a.width,a.height).updatePosition(a.position),u}_createInjector(e,i,r){const a=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!a||!a.get(ss,null,l.XFs.Optional))&&u.push({provide:ss,useValue:{value:e.direction,change:Xe()}}),l.zs3.create({parent:a||this._injector,providers:u})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,a)=>{r?a.setAttribute("aria-hidden",r):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let a=i[r];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),vg=(()=>{class n extends hx{constructor(e,i,r,a,u,f,_,b){super(e,i,a,f,_,u,Hf,ZC,KC,b)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ql),l.LFG(l.zs3),l.LFG(ye,8),l.LFG(QC,8),l.LFG(yg),l.LFG(n,12),l.LFG(Lv),l.LFG(rr,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),T1=0,fx=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=gx(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){Hv(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Hf,8),l.Y36(l.SBq),l.Y36(vg))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&l.NdJ("click",function(a){return i._onButtonClick(a)}),2&e&&l.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),XC=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+T1++}ngOnInit(){this._dialogRef||(this._dialogRef=gx(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Hf,8),l.Y36(l.SBq),l.Y36(vg))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&l.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),px=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),mx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function gx(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let I1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vg,jv],imports:[[cx,fg,cn],cn]}),n})();const S1=["connectionContainer"],_x=["inputContainer"],x1=["label"];function A1(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function M1(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function k1(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function s(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function o(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function c(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.YNc(2,k1,4,1,"ng-container",12),l.YNc(3,s,1,0,"ng-content",12),l.YNc(4,o,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function d(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function h(n,t){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function m(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function v(n,t){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function C(n,t){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,v,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const E=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],x=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],F=new l.OlP("MatError"),Y={transitionMessages:_d("transitionMessages",[go("enter",yi({opacity:1,transform:"translateY(0%)"})),_a("void => enter",[yi({opacity:0,transform:"translateY(-5px)"}),Xa("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const gt=new l.OlP("MatHint");let un=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),Ps=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const gu=new l.OlP("MatPrefix"),bg=new l.OlP("MatSuffix");let Gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:bg,useExisting:n}])]}),n})(),wg=0;const zv=Mf(class{constructor(n){this._elementRef=n}},"primary"),qv=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jf=new l.OlP("MatFormField");let R1=(()=>{class n extends zv{constructor(e,i,r,a,u,f,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new lt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+wg++,this._labelId="mat-form-field-label-"+wg++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Yt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Tn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Tt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Tt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Yo.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Tn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Tn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Tt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,uu(this._label.nativeElement,"transitionend").pipe((0,Pn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const T=i.querySelectorAll(`${r}, ${a}`);for(let A=0;A<T.length;A++)T[A].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),b=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const T=i.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const A=this._getStartEnd(T),O=e.children,B=this._getStartEnd(O[0].getBoundingClientRect());let U=0;for(let ee=0;ee<O.length;ee++)U+=O[ee].offsetWidth;u=Math.abs(B-A)-5,f=U>0?.75*U+10:0}for(let T=0;T<_.length;T++)_[T].style.width=`${u}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ss,8),l.Y36(qv,8),l.Y36(ki),l.Y36(l.R0b),l.Y36(rr,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,_e,5),l.Suo(r,_e,7),l.Suo(r,un,5),l.Suo(r,un,7),l.Suo(r,Ps,5),l.Suo(r,F,5),l.Suo(r,gt,5),l.Suo(r,gu,5),l.Suo(r,bg,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(i._controlStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._placeholderChild=a.first),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(S1,7),l.Gf(_x,5),l.Gf(x1,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:jf,useExisting:n}]),l.qOj],ngContentSelectors:x,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(l.F$t(E),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(3,A1,9,0,"ng-container",3),l.YNc(4,M1,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,c,5,16,"label",8),l.qZA()(),l.YNc(10,d,2,0,"div",9),l.qZA(),l.YNc(11,h,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,m,2,1,"div",12),l.YNc(14,C,5,2,"div",13),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[ai,Bw,Ki,Fi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Y.transitionMessages]},changeDetection:0}),n})(),tE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi,cn,jy],cn]}),n})();function O1(...n){const t=(0,jn.jO)(n),{args:e,keys:i}=Mr(n),r=new qn.y(a=>{const{length:u}=e;if(!u)return void a.complete();const f=new Array(u);let _=u,b=u;for(let T=0;T<u;T++){let A=!1;(0,Es.Xf)(e[T]).subscribe((0,En.x)(a,O=>{A||(A=!0,b--),f[T]=O},()=>_--,void 0,()=>{(!_||!A)&&(b||a.next(i?Mo(i,f):f),a.complete())}))}});return t?r.pipe(Ic(t)):r}let P1=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Gf=(()=>{class n extends P1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const xa=new l.OlP("NgValueAccessor"),fU={provide:xa,useExisting:(0,l.Gpc)(()=>Wv),multi:!0},mU=new l.OlP("CompositionEventMode");let Wv=(()=>{class n extends P1{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pU(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(mU,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([fU]),l.qOj]}),n})();function th(n){return null==n||0===n.length}function F1(n){return null!=n&&"number"==typeof n.length}const os=new l.OlP("NgValidators"),nh=new l.OlP("NgAsyncValidators"),gU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class yx{static min(t){return function L1(n){return t=>{if(th(t.value)||th(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function B1(n){return t=>{if(th(t.value)||th(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return V1(t)}static requiredTrue(t){return function U1(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function H1(n){return th(n.value)||gU.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function j1(n){return t=>th(t.value)||!F1(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function G1(n){return t=>F1(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function $1(n){if(!n)return nE;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(th(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return K1(t)}static composeAsync(t){return Q1(t)}}function V1(n){return th(n.value)?{required:!0}:null}function nE(n){return null}function z1(n){return null!=n}function q1(n){const t=(0,l.QGY)(n)?(0,On.D)(n):n;return(0,l.CqO)(t),t}function W1(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Z1(n,t){return t.map(e=>e(n))}function Y1(n){return n.map(t=>function _U(n){return!n.validate}(t)?t:e=>t.validate(e))}function K1(n){if(!n)return null;const t=n.filter(z1);return 0==t.length?null:function(e){return W1(Z1(e,t))}}function vx(n){return null!=n?K1(Y1(n)):null}function Q1(n){if(!n)return null;const t=n.filter(z1);return 0==t.length?null:function(e){return O1(Z1(e,t).map(q1)).pipe((0,vt.U)(W1))}}function bx(n){return null!=n?Q1(Y1(n)):null}function J1(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function X1(n){return n._rawValidators}function eP(n){return n._rawAsyncValidators}function wx(n){return n?Array.isArray(n)?n:[n]:[]}function iE(n,t){return Array.isArray(n)?n.includes(t):n===t}function tP(n,t){const e=wx(t);return wx(n).forEach(r=>{iE(e,r)||e.push(r)}),e}function nP(n,t){return wx(t).filter(e=>!iE(n,e))}class iP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=vx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=bx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Jl extends iP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ns extends iP{get formDirective(){return null}get path(){return null}}class rP{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}let Cx=(()=>{class n extends rP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Jl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),sP=(()=>{class n extends rP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ns,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function Zv(n,t){Tx(n,t),t.valueAccessor.writeValue(n.value),function TU(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&aP(n,t)})}(n,t),function SU(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function IU(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&aP(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function DU(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function oE(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),lE(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function aE(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Tx(n,t){const e=X1(n);null!==t.validator?n.setValidators(J1(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=eP(n);null!==t.asyncValidator?n.setAsyncValidators(J1(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();aE(t._rawValidators,r),aE(t._rawAsyncValidators,r)}function lE(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=X1(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=eP(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return aE(t._rawValidators,i),aE(t._rawAsyncValidators,i),e}function aP(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function lP(n,t){Tx(n,t)}function Ix(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function uP(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Sx(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===Wv?e=a:function MU(n){return Object.getPrototypeOf(n.constructor)===Gf}(a)?i=a:r=a}),r||i||e||null}function xx(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Yv="VALID",cE="INVALID",Eg="PENDING",Kv="DISABLED";function Mx(n){return(uE(n)?n.validators:n)||null}function dP(n){return Array.isArray(n)?vx(n):n||null}function kx(n,t){return(uE(t)?t.asyncValidators:n)||null}function hP(n){return Array.isArray(n)?bx(n):n||null}function uE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const fP=n=>n instanceof Px,Rx=n=>n instanceof Nx;function pP(n){return fP(n)?n.value:n.getRawValue()}function mP(n,t){const e=Rx(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function gP(n,t){Rx(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class Ox{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=dP(this._rawValidators),this._composedAsyncValidatorFn=hP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Yv}get invalid(){return this.status===cE}get pending(){return this.status==Eg}get disabled(){return this.status===Kv}get enabled(){return this.status!==Kv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=dP(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=hP(t)}addValidators(t){this.setValidators(tP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(tP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(nP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(nP(t,this._rawAsyncValidators))}hasValidator(t){return iE(this._rawValidators,t)}hasAsyncValidator(t){return iE(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Eg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kv,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Yv,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yv||this.status===Eg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kv:Yv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Eg,this._hasOwnPendingAsyncValidator=!0;const e=q1(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function kU(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=Rx(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof OU)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Kv:this.errors?cE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eg)?Eg:this._anyControlsHaveStatus(cE)?cE:Yv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){uE(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Px extends Ox{constructor(t=null,e,i){super(Mx(e),kx(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uE(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xx(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xx(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Nx extends Ox{constructor(t,e,i){super(Mx(e),kx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){gP(this,t),Object.keys(t).forEach(i=>{mP(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=pP(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class OU extends Ox{constructor(t,e,i){super(Mx(e),kx(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){gP(this,t),t.forEach((i,r)=>{mP(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>pP(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const PU={provide:Ns,useExisting:(0,l.Gpc)(()=>Dg)},Qv=(()=>Promise.resolve(null))();let Dg=(()=>{class n extends Ns{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Nx({},vx(e),bx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Qv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Zv(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Qv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Qv.then(()=>{const i=this._findContainer(e.path),r=new Nx({});lP(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Qv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Qv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,uP(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(os,10),l.Y36(nh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([PU]),l.qOj]}),n})();const FU={provide:Jl,useExisting:(0,l.Gpc)(()=>dE)},vP=(()=>Promise.resolve(null))();let dE=(()=>{class n extends Jl{constructor(e,i,r,a,u){super(),this._changeDetectorRef=u,this.control=new Px,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Sx(0,a)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Ix(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){vP.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;vP.then(()=>{var a;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(e){return this._parent?function sE(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ns,9),l.Y36(os,10),l.Y36(nh,10),l.Y36(xa,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([FU]),l.qOj,l.TTD]}),n})(),bP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),CP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Fx=new l.OlP("NgModelWithFormControlWarning"),HU={provide:Jl,useExisting:(0,l.Gpc)(()=>Lx)};let Lx=(()=>{class n extends Jl{constructor(e,i,r,a){super(),this._ngModelWarningConfig=a,this.update=new l.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=Sx(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&oE(i,this,!1),Zv(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ix(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&oE(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(os,10),l.Y36(nh,10),l.Y36(xa,10),l.Y36(Fx,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[l._Bn([HU]),l.qOj,l.TTD]}),n})();const jU={provide:Ns,useExisting:(0,l.Gpc)(()=>Jv)};let Jv=(()=>{class n extends Ns{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Zv(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){oE(e.control||null,e,!1),xx(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,uP(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(oE(i||null,e),fP(r)&&(Zv(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);lP(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function xU(n,t){return lE(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tx(this.form,this),this._oldForm&&lE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(os,10),l.Y36(nh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([jU]),l.qOj,l.TTD]}),n})(),$f=(()=>{class n{constructor(){this._validator=nE}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):nE,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const tH={provide:os,useExisting:(0,l.Gpc)(()=>hE),multi:!0};let hE=(()=>{class n extends $f{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function JU(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>V1}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([tH]),l.qOj]}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[CP]]}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BP]}),n})(),lH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Fx,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[BP]}),n})();const VP=Zl({passive:!0});let cH=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return co.E;const i=Ta(e),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new lt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,VP),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,VP)}}),a}stopMonitoring(e){const i=Ta(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ki),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const uH=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),dH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let hH=0;const fH=Wy(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let HP=(()=>{class n extends fH{constructor(e,i,r,a,u,f,_,b,T,A){super(f,a,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=b,this._formField=A,this._uid="mat-input-"+hH++,this.focused=!1,this.stateChanges=new lt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(U=>eI().has(U)),this._iOSKeyupListener=U=>{const ee=U.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))};const O=this._elementRef.nativeElement,B=O.nodeName.toLowerCase();this._inputValueAccessor=_||O,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&T.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Yt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,r,a;return null!==(a=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(yx.required))&&void 0!==a&&a}set required(e){this._required=Yt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&eI().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Yt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const r=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(r!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=r,r?a.setAttribute("placeholder",r):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){dH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ki),l.Y36(Jl,10),l.Y36(Dg,8),l.Y36(Jv,8),l.Y36($d),l.Y36(uH,10),l.Y36(cH),l.Y36(l.R0b),l.Y36(jf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:_e,useExisting:n}]),l.qOj,l.TTD]}),n})(),pH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$d],imports:[[UP,tE,cn],UP,tE]}),n})();const mH=["*",[["mat-card-footer"]]],gH=["*","mat-card-footer"];let jP=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(rr,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:gH,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(mH),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),_H=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cn],cn]}),n})();const yH=["trigger"],vH=["panel"];function bH(n,t){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Oqu(e.placeholder)}}function wH(n,t){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Oqu(e.triggerValue)}}function CH(n,t){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function EH(n,t){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,wH,2,1,"span",10),l.YNc(2,CH,1,0,"ng-content",11),l.qZA()),2&n){const e=l.oxw();l.Q6J("ngSwitch",!!e.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function DH(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){return l.CHM(e),l.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return l.CHM(e),l.oxw()._handleKeydown(r)}),l.Hsn(3,1),l.qZA()()}if(2&n){const e=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",e._getPanelTheme(),""),l.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),l.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),l.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const TH=[[["mat-select-trigger"]],"*"],IH=["mat-select-trigger","*"],GP={transformPanelWrap:_d("transformPanelWrap",[_a("* => void",lf("@transformPanel",[O0()],{optional:!0}))]),transformPanel:_d("transformPanel",[go("void",yi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),go("showing",yi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),go("showing-multiple",yi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),_a("void => *",Xa("120ms cubic-bezier(0, 0, 0.2, 1)")),_a("* => void",Xa("100ms 25ms linear",yi({opacity:0})))])};let $P=0;const qP=new l.OlP("mat-select-scroll-strategy"),MH=new l.OlP("MAT_SELECT_CONFIG"),kH={provide:qP,deps:[Ql],useFactory:function AH(n){return()=>n.scrollStrategies.reposition()}};class RH{constructor(t,e){this.source=t,this.value=e}}const OH=ol(kf(Gd(Wy(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),PH=new l.OlP("MatSelectTrigger");let NH=(()=>{class n extends OH{constructor(e,i,r,a,u,f,_,b,T,A,O,B,U,ee){var Ce,$e,rt;super(u,a,_,b,A),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=f,this._parentFormField=T,this._liveAnnouncer=U,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(it,tt)=>it===tt,this._uid="mat-select-"+$P++,this._triggerAriaLabelledBy=null,this._destroy=new lt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+$P++,this._panelDoneAnimatingStream=new lt.x,this._overlayPanelClass=(null===(Ce=this._defaultOptions)||void 0===Ce?void 0:Ce.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(rt=null===($e=this._defaultOptions)||void 0===$e?void 0:$e.disableOptionCentering)&&void 0!==rt&&rt,this.ariaLabel="",this.optionSelectionChanges=nr(()=>{const it=this.options;return it?it.changes.pipe(Tn(it),xn(()=>(0,Yo.T)(...it.map(tt=>tt.onSelectionChange)))):this._ngZone.onStable.pipe((0,Pn.q)(1),xn(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(In(it=>it),(0,vt.U)(()=>{})),this._closedStream=this.openedChange.pipe(In(it=>!it),(0,vt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ee?void 0:ee.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,r,a;return null!==(a=null!==(e=this._required)&&void 0!==e?e:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(yx.required))&&void 0!==a&&a}set required(e){this._required=Yt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Yt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Yt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Vr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ev(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Sf(),Tt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Tt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Tn(null),Tt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,a=13===i||32===i,u=this._keyManager;if(!u.isTyping()&&a&&!zo(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(e);const _=this.selected;_&&f!==_&&this._liveAnnouncer.announce(_.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,a=40===r||38===r,u=i.isTyping();if(a&&e.altKey)e.preventDefault(),this.close();else if(u||13!==r&&32!==r||!i.activeItem||zo(e))if(!u&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const f=this.options.some(_=>!_.disabled&&!_.selected);this.options.forEach(_=>{_.disabled||(f?_.select():_.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&a&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Pn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch(a){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new zI(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Tt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Tt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Yo.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Tt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Yo.T)(...this.options.map(i=>i._stateChanges)).pipe(Tt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Kl),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36($d),l.Y36(l.SBq),l.Y36(ss,8),l.Y36(Dg,8),l.Y36(Jv,8),l.Y36(jf,8),l.Y36(Jl,10),l.$8M("tabindex"),l.Y36(qP),l.Y36(iS),l.Y36(MH,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&(l.Gf(yH,5),l.Gf(vH,5),l.Gf(Uf,5)),2&e){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),FH=(()=>{class n extends NH{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const a=this._getItemHeight();return Math.min(Math.max(0,a*e-i+a/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Tt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=_S(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function mC(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new RH(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}r||(u*=-1);const f=0-(e.left+u-(r?a:0)),_=e.right+u-i.width+(r?0:a);f>0?u+=f+8:_>0&&(u-=_+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let _;return this.disableOptionCentering?0:(_=0===this._scrollTop?e*a:this._scrollTop===r?(e-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):i-a/2,Math.round(-1*_-u))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=r.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*i,256)-f-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):f>a?this._adjustPanelDown(f,a,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const a=Math.round(e-i);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),u=i*e-r;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=_S(f,this.options,this.optionGroups);const _=r/2;this._scrollTop=this._calculateOverlayScroll(f,_,u),this._offsetY=this._calculateOverlayOffsetY(f,_,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,PH,5),l.Suo(r,cu,5),l.Suo(r,mS,5)),2&e){let a;l.iGM(a=l.CRH())&&(i.customTrigger=a.first),l.iGM(a=l.CRH())&&(i.options=a),l.iGM(a=l.CRH())&&(i.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&l.NdJ("keydown",function(a){return i._handleKeydown(a)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:_e,useExisting:n},{provide:hC,useExisting:n}]),l.qOj],ngContentSelectors:IH,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(l.F$t(TH),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,bH,2,1,"span",3),l.YNc(5,EH,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,DH,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[_g,Ki,Fi,sc,Uf,ps],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[GP.transformPanelWrap,GP.transformPanel]},changeDetection:0}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[kH],imports:[[Xi,cx,gC,cn],ng,tE,gC,cn]}),n})();function BH(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"p")(1,"mat-form-field",15)(2,"mat-label"),l._uU(3),l.qZA(),l.TgZ(4,"input",16),l.NdJ("ngModelChange",function(r){const u=l.CHM(e).index;return l.oxw().data.playersName[u]=r}),l.qZA()()()}if(2&n){const e=t.index,i=l.oxw();l.xp6(3),l.hij("Joueuse ",e+1," "),l.xp6(1),l.Q6J("ngModel",i.data.playersName[e])}}let WP=(()=>{class n{constructor(e){this.dashboardComponent=e,this.nbPlayersControl=new Px("",yx.required),this.data={nbPlayers:2,playersName:[]}}ngOnInit(){null!==localStorage.getItem("playerList")&&(this.dashboardComponent.activate=!0,this.dashboardComponent.selectedIndex=1)}onClick(){this.checkData(parseInt(this.nbPlayersControl.value))&&(this.data=Object.assign(Object.assign({},this.data),{nbPlayers:parseInt(this.nbPlayersControl.value)}),this.dashboardComponent.activate=!0,this.dashboardComponent.selectedIndex=1,localStorage.setItem("playerList",JSON.stringify(this.data)))}counter(){return parseInt(this.nbPlayersControl.value)?new Array(parseInt(this.nbPlayersControl.value)):[]}checkData(e){for(let i=0;i<e;i++)if(!this.data.playersName[i])return!1;return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(md))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-new-game"]],decls:28,vars:2,consts:[[1,"new-game"],["mat-dialog-title",""],["appearance","outline"],["required","",3,"formControl"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["mat-dialog-content",""],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"click"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"mat-card")(2,"h1",1),l._uU(3,"Nouvelle Partie"),l.qZA(),l.TgZ(4,"div")(5,"mat-form-field",2)(6,"mat-label"),l._uU(7,"Nombre de joueuses"),l.qZA(),l.TgZ(8,"mat-select",3)(9,"mat-option",4),l._uU(10,"2"),l.qZA(),l.TgZ(11,"mat-option",5),l._uU(12,"3"),l.qZA(),l.TgZ(13,"mat-option",6),l._uU(14,"4"),l.qZA(),l.TgZ(15,"mat-option",7),l._uU(16,"5"),l.qZA(),l.TgZ(17,"mat-option",8),l._uU(18,"6"),l.qZA(),l.TgZ(19,"mat-option",9),l._uU(20,"7"),l.qZA(),l.TgZ(21,"mat-option",10),l._uU(22,"8"),l.qZA()()()(),l.TgZ(23,"div",11),l.YNc(24,BH,5,2,"p",12),l.qZA(),l.TgZ(25,"div",13)(26,"button",14),l.NdJ("click",function(){return i.onClick()}),l._uU(27,"Ok"),l.qZA()()()()),2&e&&(l.xp6(8),l.Q6J("formControl",i.nbPlayersControl),l.xp6(16),l.Q6J("ngForOf",i.counter()))},directives:[jP,XC,R1,un,FH,hE,Cx,Lx,cu,px,Un,HP,Wv,dE,mx,Ym],styles:[".mat-card[_ngcontent-%COMP%]{align-items:center;text-align:center}.new-game[_ngcontent-%COMP%]{margin:auto}"]}),n})();var ZP=P(3099);const VH=["*"];let pE;function eb(n){var t;return(null===(t=function UH(){if(void 0===pE&&(pE=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(pE=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return pE}())||void 0===t?void 0:t.createHTML(n))||n}function YP(n){return Error(`Unable to find icon with the name "${n}"`)}function KP(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function QP(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class zf{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let mE=(()=>{class n{constructor(e,i,r,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,a){return this._addSvgIconConfig(e,i,new zf(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw QP(r);const f=eb(u);return this._addSvgIconConfig(e,i,new zf("",f,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new zf(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw QP(i);const u=eb(a);return this._addSvgIconSetConfig(e,new zf("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw KP(e);const r=this._cachedIconsByUrl.get(i);return r?Xe(gE(r)):this._loadSvgIconFromConfig(new zf(e,null)).pipe((0,li.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,vt.U)(a=>gE(a)))}getNamedSvgIcon(e,i=""){const r=JP(i,e);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):kr(YP(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Xe(gE(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,vt.U)(i=>gE(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Xe(r):O1(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Or(f=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(b)),Xe(null)})))).pipe((0,vt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw YP(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,e,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,li.b)(i=>e.svgText=i),(0,vt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Xe(null):this._fetchIcon(e).pipe((0,li.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(eb("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(eb("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:a}=e,u=null!==(i=null==a?void 0:a.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function HH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const f=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!f)throw KP(r);const _=this._inProgressUrlFetches.get(f);if(_)return _;const b=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,vt.U)(T=>eb(T)),Ih(()=>this._inProgressUrlFetches.delete(f)),(0,ZP.B)());return this._inProgressUrlFetches.set(f,b),b}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(JP(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,e);if(a)return GH(a)?new zf(a.url,null,a.options):new zf(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(gd,8),l.LFG(Qr),l.LFG(Q,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gE(n){return n.cloneNode(!0)}function JP(n,t){return n+":"+t}function GH(n){return!(!n.url||!n.options)}const $H=Mf(class{constructor(n){this._elementRef=n}}),zH=new l.OlP("mat-icon-location",{providedIn:"root",factory:function qH(){const n=(0,l.f3M)(Q),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XP=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],WH=XP.map(n=>`[${n}]`).join(", "),ZH=/^url\(['"]?#(.*?)['"]?\)$/;let eN=(()=>{class n extends $H{constructor(e,i,r,a,u){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Sn.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Yt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(WH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)XP.forEach(u=>{const f=i[a],_=f.getAttribute(u),b=_?_.match(ZH):null;if(b){let T=r.get(f);T||(T=[],r.set(f,T)),T.push({name:u,value:b[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Pn.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(mE),l.$8M("aria-hidden"),l.Y36(zH),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:VH,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),YH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cn],cn]}),n})(),oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi,cn],cn]}),n})();const iN=["*"];class lj{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new cj(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class cj{constructor(t,e){this.row=t,this.col=e}}const rN=new l.OlP("MAT_GRID_LIST");let Gx=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Vr(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Vr(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(rN,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&l.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:iN,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})();const uj=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class $x{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=sN(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":qf(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,a=(this._cols-1)/this._cols;this.setColStyles(t,i,r,a),this.setRowStyles(t,e,r,a)}setColStyles(t,e,i,r){let a=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(a,e)),t._setStyle("width",qf(this.getTileSize(a,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class dj extends $x{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=sN(this.fixedRowHeight),uj.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",qf(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",qf(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class hj extends $x{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",qf(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",qf(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class fj extends $x{setRowStyles(t,e){let a=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(a,e)),t._setStyle("height",qf(this.getTileSize(a,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function qf(n){return`calc(${n})`}function sN(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let oN=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Vr(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${null==e?"":e}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${null==e?"":e}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new fj:e&&e.indexOf(":")>-1?new hj(e):new dj(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new lj);const e=this._tileCoordinator,i=this._tiles.filter(a=>!a._gridList||a._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((a,u)=>{const f=e.positions[u];this._tileStyler.setStyle(a,f.row,f.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ss,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,Gx,5),2&e){let a;l.iGM(a=l.CRH())&&(i._tiles=a)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[l._Bn([{provide:rN,useExisting:n}])],ngContentSelectors:iN,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div"),l.Hsn(1),l.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),n})(),mj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zm,cn],zm,cn]}),n})(),gj=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=Yt(e)}get inset(){return this._inset}set inset(e){this._inset=Yt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),aN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[cn],cn]}),n})();const lN=["*"],_j=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],yj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Ej=Gd(ol(class{})),Dj=ol(class{}),uN=new l.OlP("MatList"),Tj=new l.OlP("MatNavList");let Ij=(()=>{class n extends Ej{constructor(e){super(),this._elementRef=e,this._stateChanges=new lt.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[l._Bn([{provide:uN,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:lN,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),hN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),Sj=(()=>{class n extends Dj{constructor(e,i,r,a){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new lt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Tt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Yt(e)}ngAfterContentInit(){!function lu(n,t,e="mat"){n.changes.pipe(Tn(n)).subscribe(({length:i})=>{al(t,`${e}-2-line`,!1),al(t,`${e}-3-line`,!1),al(t,`${e}-multi-line`,!1),2===i||3===i?al(t,`${e}-${i}-line`,!0):i>3&&al(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Tj,8),l.Y36(uN,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,dN,5),l.Suo(r,hN,5),l.Suo(r,aC,5)),2&e){let a;l.iGM(a=l.CRH())&&(i._avatar=a.first),l.iGM(a=l.CRH())&&(i._icon=a.first),l.iGM(a=l.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:yj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(l.F$t(_j),l.TgZ(0,"span",0),l._UZ(1,"span",1),l.Hsn(2),l.TgZ(3,"span",2),l.Hsn(4,1),l.qZA(),l.Hsn(5,2),l.qZA()),2&e&&(l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[qo],encapsulation:2,changeDetection:0}),n})(),Oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zm,Wm,cn,Zm,Xi],zm,cn,Zm,aN]}),n})();const pN_firebase={apiKey:"AIzaSyAOEHquePu6RTTAEstnRCoVCXM7DvT3xWY",authDomain:"scoreboard-47ae9.firebaseapp.com",projectId:"scoreboard-47ae9",storageBucket:"scoreboard-47ae9.appspot.com",messagingSenderId:"995028765986",appId:"1:995028765986:web:09545451828c3ae47fe97b",measurementId:"G-Z8RSCQPCM0"};var ll=P(2011),Ur=P(5813);function zx(){return(0,Xn.e)((n,t)=>{let e,i=!1;n.subscribe((0,En.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}P(820);var nt,Pj=P(3942),ve=P(5861),Wf=P(9681),_E=P(4859),ih=P(1877),Xt=P(2090),Nj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_u={},qx=qx||{},Lt=Nj||self;function yE(){}function Wx(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function nb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Zx="closure_uid_"+(1e9*Math.random()>>>0),Lj=0;function Bj(n,t,e){return n.call.apply(n.bind,arguments)}function Vj(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Hr(n,t,e){return(Hr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bj:Vj).apply(null,arguments)}function vE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function jr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return t.prototype[r].apply(i,u)}}function rh(){this.s=this.s,this.o=this.o}var Hj={};rh.prototype.s=!1,rh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Fj(n){return Object.prototype.hasOwnProperty.call(n,Zx)&&n[Zx]||(n[Zx]=++Lj)}(this);delete Hj[n]}},rh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mN=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},gN=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&t.call(e,r[a],a,n)};function _N(n){return Array.prototype.concat.apply([],arguments)}function Yx(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function bE(n){return/^[\s\xa0]*$/.test(n)}var Ls,yN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fs(n,t){return-1!=n.indexOf(t)}function Kx(n,t){return n<t?-1:n>t?1:0}e:{var vN=Lt.navigator;if(vN){var bN=vN.userAgent;if(bN){Ls=bN;break e}}Ls=""}function Qx(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function wN(n){const t={};for(const e in n)t[e]=n[e];return t}var CN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EN(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<CN.length;a++)e=CN[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Jx(n){return Jx[" "](n),n}Jx[" "]=yE;var wE,n,$j=Fs(Ls,"Opera"),Ig=Fs(Ls,"Trident")||Fs(Ls,"MSIE"),DN=Fs(Ls,"Edge"),Xx=DN||Ig,TN=Fs(Ls,"Gecko")&&!(Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge"))&&!(Fs(Ls,"Trident")||Fs(Ls,"MSIE"))&&!Fs(Ls,"Edge"),zj=Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge");function IN(){var n=Lt.document;return n?n.documentMode:void 0}e:{var eA="",tA=(n=Ls,TN?/rv:([^\);]+)(\)|;)/.exec(n):DN?/Edge\/([\d\.]+)/.exec(n):Ig?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zj?/WebKit\/(\S+)/.exec(n):$j?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(tA&&(eA=tA?tA[1]:""),Ig){var nA=IN();if(null!=nA&&nA>parseFloat(eA)){wE=String(nA);break e}}wE=eA}var qj={};var Zj=Lt.document&&Ig&&(IN()||parseInt(wE,10))||void 0,Yj=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",yE,t),Lt.removeEventListener("test",yE,t)}catch(e){}return n}();function as(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function ib(n,t){if(as.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(TN){e:{try{Jx(t.nodeName);var r=!0;break e}catch(a){}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Kj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ib.Z.h.call(this)}}as.prototype.h=function(){this.defaultPrevented=!0},jr(ib,as);var Kj={2:"touch",3:"pen",4:"mouse"};ib.prototype.h=function(){ib.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rb="closure_listenable_"+(1e6*Math.random()|0),Qj=0;function Jj(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Qj,this.ca=this.fa=!1}function CE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function EE(n){this.src=n,this.g={},this.h=0}function rA(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=mN(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(CE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function sA(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return r}return-1}EE.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=sA(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Jj(t,this.src,a,!!i,r)).fa=e,n.push(t)),t};var oA="closure_lm_"+(1e6*Math.random()|0),aA={};function xN(n,t,e,i,r){if(i&&i.once)return MN(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xN(n,t[a],e,i,r);return null}return e=dA(e),n&&n[rb]?n.N(t,e,nb(i)?!!i.capture:!!i,r):AN(n,t,e,!1,i,r)}function AN(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var u=nb(r)?!!r.capture:!!r,f=cA(n);if(f||(n[oA]=f=new EE(n)),(e=f.add(t,e,i,u,a)).proxy)return e;if(i=function Xj(){var t=eG;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Yj||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(RN(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function MN(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)MN(n,t[a],e,i,r);return null}return e=dA(e),n&&n[rb]?n.O(t,e,nb(i)?!!i.capture:!!i,r):AN(n,t,e,!0,i,r)}function kN(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)kN(n,t[a],e,i,r);else i=nb(i)?!!i.capture:!!i,e=dA(e),n&&n[rb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=sA(a=n.g[t],e,i,r))&&(CE(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=cA(n))&&(t=n.g[t.toString()],n=-1,t&&(n=sA(t,e,i,r)),(e=-1<n?t[n]:null)&&lA(e))}function lA(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[rb])rA(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(RN(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=cA(t))?(rA(e,n),0==e.h&&(e.src=null,t[oA]=null)):CE(n)}}}function RN(n){return n in aA?aA[n]:aA[n]="on"+n}function eG(n,t){if(n.ca)n=!0;else{t=new ib(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&lA(n),n=e.call(i,t)}return n}function cA(n){return(n=n[oA])instanceof EE?n:null}var uA="__closure_events_fn_"+(1e9*Math.random()>>>0);function dA(n){return"function"==typeof n?n:(n[uA]||(n[uA]=function(t){return n.handleEvent(t)}),n[uA])}function vr(){rh.call(this),this.i=new EE(this),this.P=this,this.I=null}function Gr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new as(t,n);else if(t instanceof as)t.target=t.target||n;else{var r=t;EN(t=new as(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];r=DE(u,i,!0,t)&&r}if(r=DE(u=t.g=n,i,!0,t)&&r,r=DE(u,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=DE(u=t.g=e[a],i,!1,t)&&r}function DE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var f=u.listener,_=u.ia||u.src;u.fa&&rA(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}jr(vr,rh),vr.prototype[rb]=!0,vr.prototype.removeEventListener=function(n,t,e,i){kN(this,n,t,e,i)},vr.prototype.M=function(){if(vr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)CE(e[i]);delete n.g[t],n.h--}}this.I=null},vr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},vr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var hA=Lt.JSON.stringify;function tG(){var n=PN;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var pA,ON=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iG,n=>n.reset());class iG{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function rG(n){Lt.setTimeout(()=>{throw n},0)}function fA(n,t){pA||function sG(){var n=Lt.Promise.resolve(void 0);pA=function(){n.then(oG)}}(),mA||(pA(),mA=!0),PN.add(n,t)}var mA=!1,PN=new class nG{constructor(){this.h=this.g=null}add(t,e){const i=ON.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function oG(){for(var n;n=tG();){try{n.h.call(n.g)}catch(e){rG(e)}var t=ON;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}mA=!1}function TE(n,t){vr.call(this),this.h=n||1,this.g=t||Lt,this.j=Hr(this.kb,this),this.l=Date.now()}function gA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function _A(n,t,e){if("function"==typeof n)e&&(n=Hr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Hr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Lt.setTimeout(n,t||0)}function NN(n){n.g=_A(()=>{n.g=null,n.i&&(n.i=!1,NN(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}jr(TE,vr),(nt=TE.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Gr(this,"tick"),this.da&&(gA(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){TE.Z.M.call(this),gA(this),delete this.g};class aG extends rh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:NN(this)}M(){super.M(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sb(n){rh.call(this),this.h=n,this.g={}}jr(sb,rh);var FN=[];function LN(n,t,e,i){Array.isArray(e)||(e&&(FN[0]=e.toString()),e=FN);for(var r=0;r<e.length;r++){var a=xN(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function BN(n){Qx(n.g,function(t,e){this.g.hasOwnProperty(e)&&lA(t)},n),n.g={}}function IE(){this.g=!0}function Sg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function dG(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return hA(e)}catch(f){return t}}(n,e)+(i?" "+i:"")})}sb.prototype.M=function(){sb.Z.M.call(this),BN(this)},sb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},IE.prototype.Aa=function(){this.g=!1},IE.prototype.info=function(){};var Zf={},VN=null;function SE(){return VN=VN||new vr}function UN(n){as.call(this,Zf.Ma,n)}function ob(n){const t=SE();Gr(t,new UN(t,n))}function HN(n,t){as.call(this,Zf.STAT_EVENT,n),this.stat=t}function Bs(n){const t=SE();Gr(t,new HN(t,n))}function jN(n,t){as.call(this,Zf.Na,n),this.size=t}function ab(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},t)}Zf.Ma="serverreachability",jr(UN,as),Zf.STAT_EVENT="statevent",jr(HN,as),Zf.Na="timingevent",jr(jN,as);var xE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},GN={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yA(){}function zN(){}yA.prototype.h=null;var wA,lb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vA(){as.call(this,"d")}function bA(){as.call(this,"c")}function AE(){}function cb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new sb(this),this.P=hG,this.W=new TE(n=Xx?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qN}function qN(){this.i=null,this.g="",this.h=!1}jr(vA,as),jr(bA,as),jr(AE,yA),AE.prototype.g=function(){return new XMLHttpRequest},AE.prototype.i=function(){return{}},wA=new AE;var hG=45e3,CA={},ME={};function EA(n,t,e){n.K=1,n.v=NE(yu(t)),n.s=e,n.U=!0,WN(n,null)}function WN(n,t){n.F=Date.now(),ub(n),n.A=yu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),nF(e.h,"t",i),n.C=0,e=n.l.H,n.h=new qN,n.g=TF(n.l,e?t:null,!n.s),0<n.O&&(n.L=new aG(Hr(n.Ia,n,n.g),n.O)),LN(n.V,n.g,"readystatechange",n.gb),t=n.H?wN(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),ob(1),function lG(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");u=2<=A.length&&"type"==A[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ZN(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function YN(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=fG(n,e),r==ME){4==t&&(n.o=4,Bs(14),i=!1),Sg(n.j,n.m,null,"[Incomplete Response]");break}if(r==CA){n.o=4,Bs(15),Sg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Sg(n.j,n.m,r,null),DA(n,r)}ZN(n)&&r!=ME&&r!=CA&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Bs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),NA(t),t.L=!0,Bs(11))):(Sg(n.j,n.m,e,"[Invalid Chunked Response]"),Yf(n),db(n))}function fG(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?ME:(e=Number(t.substring(e,i)),isNaN(e)?CA:(i+=1)+e>t.length?ME:(t=t.substr(i,e),n.C=i+e,t))}function ub(n){n.Y=Date.now()+n.P,KN(n,n.P)}function KN(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ab(Hr(n.eb,n),t)}function kE(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function db(n){0==n.l.G||n.I||wF(n.l,n)}function Yf(n){kE(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,gA(n.W),BN(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function DA(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||SA(e.i,n)))if(e.I=n.N,!n.J&&SA(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch(b){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=ab(Hr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;HE(e),VE(e)}PA(e),Bs(18)}if(1>=sF(e.i)&&e.ka){try{e.ka()}catch(b){}e.ka=void 0}}else Jf(e,11)}else if((n.J||e.g==n)&&HE(e),!bE(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let b=r[t];if(e.U=b[0],b=b[1],2==e.G)if("c"==b[0]){e.J=b[1],e.la=b[2];const T=b[3];null!=T&&(e.ma=T,e.h.info("VER="+e.ma));const A=b[4];null!=A&&(e.za=A,e.h.info("SVER="+e.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(e.K=i=1.5*O,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const B=n.g;if(B){const U=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(U){var a=i.i;!a.g&&(Fs(U,"spdy")||Fs(U,"quic")||Fs(U,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(xA(a,a.h),a.h=null))}if(i.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(i.sa=ee,ni(i.F,i.D,ee))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=DF(i,i.H?i.la:null,i.W),u.J){oF(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(kE(f),ub(f)),i.g=u}else vF(i);0<e.l.length&&UE(e)}else"stop"!=b[0]&&"close"!=b[0]||Jf(e,7);else 3==e.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Jf(e,7):RA(e):"noop"!=b[0]&&e.j&&e.j.wa(b),e.A=0)}ob(4)}catch(b){}}function TA(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Wx(n)||"string"==typeof n)gN(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(Wx(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function pG(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Wx(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}}function xg(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof xg)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function IA(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Kf(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Kf(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Kf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(nt=cb.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const t=this.L;t&&3==vu(n)?t.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const T=vu(this.g);var t=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||Xx||this.g&&(this.h.h||this.g.ga()||pF(this.g)))){this.I||4!=T||7==t||ob(8==t||0>=A?3:2),kE(this);var e=this.g.ba();this.N=e;t:if(ZN(this)){var i=pF(this.g);n="";var r=i.length,a=4==vu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yf(this),db(this);var u="";break t}this.h.i=new Lt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function cG(n,t,e,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bE(f)){var b=f;break t}}b=null}if(!(e=b)){this.i=!1,this.o=3,Bs(12),Yf(this),db(this);break e}Sg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,DA(this,e)}this.U?(YN(this,T,u),Xx&&this.i&&3==T&&(LN(this.V,this.W,"tick",this.fb),this.W.start())):(Sg(this.j,this.m,u,null),DA(this,u)),4==T&&Yf(this),this.i&&!this.I&&(4==T?wF(this.l,this):(this.i=!1,ub(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Bs(12)):(this.o=0,Bs(13)),Yf(this),db(this)}}}catch(T){}},nt.fb=function(){if(this.g){var n=vu(this.g),t=this.g.ga();this.C<t.length&&(kE(this),YN(this,n,t),this.i&&4!=n&&ub(this))}},nt.cancel=function(){this.I=!0,Yf(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function uG(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ob(3),Bs(17)),Yf(this),this.o=2,db(this)):KN(this,this.Y-n)},(nt=xg.prototype).R=function(){IA(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},nt.T=function(){return IA(this),this.g.concat()},nt.get=function(n,t){return Kf(this.h,n)?this.h[n]:t},nt.set=function(n,t){Kf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},nt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],a=this.get(r);n.call(t,a,r,this)}};var QN=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qf(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Qf){this.g=void 0!==t?t:n.g,RE(this,n.j),this.s=n.s,OE(this,n.i),PE(this,n.m),this.l=n.l,t=n.h;var e=new pb;e.i=t.i,t.g&&(e.g=new xg(t.g),e.h=t.h),JN(this,e),this.o=n.o}else n&&(e=String(n).match(QN))?(this.g=!!t,RE(this,e[1]||"",!0),this.s=hb(e[2]||""),OE(this,e[3]||"",!0),PE(this,e[4]),this.l=hb(e[5]||"",!0),JN(this,e[6]||"",!0),this.o=hb(e[7]||"")):(this.g=!!t,this.h=new pb(null,this.g))}function yu(n){return new Qf(n)}function RE(n,t,e){n.j=e?hb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function OE(n,t,e){n.i=e?hb(t,!0):t}function PE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function JN(n,t,e){t instanceof pb?(n.h=t,function EG(n,t){t&&!n.j&&(sh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(eF(this,i),nF(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=fb(t,wG)),n.h=new pb(t,n.g))}function ni(n,t,e){n.h.set(t,e)}function NE(n){return ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,yG),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function yG(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Qf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(fb(t,XN,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(fb(t,XN,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(fb(e,"/"==e.charAt(0)?bG:vG,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",fb(e,CG)),n.join("")};var XN=/[#\/\?@]/g,vG=/[#\?:]/g,bG=/[#\?]/g,wG=/[#\?@]/g,CG=/#/g;function pb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function sh(n){n.g||(n.g=new xg,n.h=0,n.i&&function mG(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function eF(n,t){sh(n),t=Ag(n,t),Kf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Kf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&IA(n)))}function tF(n,t){return sh(n),t=Ag(n,t),Kf(n.g.h,t)}function nF(n,t,e){eF(n,t),0<e.length&&(n.i=null,n.g.set(Ag(n,t),Yx(e)),n.h+=e.length)}function Ag(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function iF(n){this.l=n||TG,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ea&&Lt.g.Ea()&&Lt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=pb.prototype).add=function(n,t){sh(this),this.i=null,n=Ag(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},nt.forEach=function(n,t){sh(this),this.g.forEach(function(e,i){gN(e,function(r){n.call(t,r,i,this)},this)},this)},nt.T=function(){sh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],a=0;a<r.length;a++)e.push(t[i]);return e},nt.R=function(n){sh(this);var t=[];if("string"==typeof n)tF(this,n)&&(t=_N(t,this.g.get(Ag(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=_N(t,n[e])}return t},nt.set=function(n,t){return sh(this),this.i=null,tF(this,n=Ag(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},nt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var TG=10;function rF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sF(n){return n.h?1:n.g?n.g.size:0}function SA(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function xA(n,t){n.g?n.g.add(t):n.h=t}function oF(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function aF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Yx(n.i)}function AA(){}function IG(){this.g=new AA}function SG(n,t,e){const i=e||"";try{TA(n,function(r,a){let u=r;nb(r)&&(u=hA(r)),t.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function FE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(a){}}function mb(n){this.l=n.$b||null,this.j=n.ib||!1}function LE(n,t){vr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=MA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}iF.prototype.cancel=function(){if(this.i=aF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},AA.prototype.stringify=function(n){return Lt.JSON.stringify(n,void 0)},AA.prototype.parse=function(n){return Lt.JSON.parse(n,void 0)},jr(mb,yA),mb.prototype.g=function(){return new LE(this.l,this.j)},mb.prototype.i=function(n){return function(){return n}}({}),jr(LE,vr);var MA=0;function lF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function gb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_b(n)}function _b(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=LE.prototype).open=function(n,t){if(this.readyState!=MA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,_b(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Lt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gb(this)),this.readyState=MA},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_b(this)),this.g&&(this.readyState=3,_b(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Lt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?gb(this):_b(this),3==this.readyState&&lF(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,gb(this))},nt.Ta=function(n){this.g&&(this.response=n,gb(this))},nt.ha=function(){this.g&&gb(this)},nt.setRequestHeader=function(n,t){this.v.append(n,t)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(LE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AG=Lt.JSON.parse;function $i(n){vr.call(this),this.headers=new xg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=cF,this.K=this.L=!1}jr($i,vr);var cF="",MG=/^https?$/i,kG=["POST","PUT"];function OG(n){return"content-type"==n.toLowerCase()}function uF(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,dF(n),BE(n)}function dF(n){n.D||(n.D=!0,Gr(n,"complete"),Gr(n,"error"))}function hF(n){if(n.h&&void 0!==qx&&(!n.C[1]||4!=vu(n)||2!=n.ba()))if(n.v&&4==vu(n))_A(n.Fa,0,n);else if(Gr(n,"readystatechange"),4==vu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===f){var r=String(n.H).match(QN)[1]||null;if(!r&&Lt.self&&Lt.self.location){var a=Lt.self.location.protocol;r=a.substr(0,a.length-1)}i=!MG.test(r?r.toLowerCase():"")}e=i}if(e)Gr(n,"complete"),Gr(n,"success");else{n.m=6;try{var u=2<vu(n)?n.g.statusText:""}catch(_){u=""}n.j=u+" ["+n.ba()+"]",dF(n)}}finally{BE(n)}}}function BE(n,t){if(n.g){fF(n);const e=n.g,i=n.C[0]?yE:null;n.g=null,n.C=null,t||Gr(n,"ready");try{e.onreadystatechange=i}catch(r){}}}function fF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function vu(n){return n.g?n.g.readyState:0}function pF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case cF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function kA(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function PG(n){let t="";return Qx(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ni(n,t,e))}function yb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mF(n){this.za=0,this.l=[],this.h=new IE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yb("baseRetryDelayMs",5e3,n),this.$a=yb("retryDelaySeedMs",1e4,n),this.Ya=yb("forwardChannelMaxRetries",2,n),this.ra=yb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new iF(n&&n.concurrentRequestLimit),this.Ca=new IG,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function RA(n){if(gF(n),3==n.G){var t=n.V++,e=yu(n.F);ni(e,"SID",n.J),ni(e,"RID",t),ni(e,"TYPE","terminate"),vb(n,e),(t=new cb(n,n.h,t,void 0)).K=2,t.v=NE(yu(e)),e=!1,Lt.navigator&&Lt.navigator.sendBeacon&&(e=Lt.navigator.sendBeacon(t.v.toString(),"")),!e&&Lt.Image&&((new Image).src=t.v,e=!0),e||(t.g=TF(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ub(t)}EF(n)}function VE(n){n.g&&(NA(n),n.g.cancel(),n.g=null)}function gF(n){VE(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),HE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function OA(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&UE(n)}function UE(n){rF(n.i)||n.m||(n.m=!0,fA(n.Ha,n),n.C=0)}function _F(n,t){var e;e=t?t.m:n.V++;const i=yu(n.F);ni(i,"SID",n.J),ni(i,"RID",e),ni(i,"AID",n.U),vb(n,i),n.o&&n.s&&kA(i,n.o,n.s),e=new cb(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=yF(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),xA(n.i,e),EA(e,i,t)}function vb(n,t){n.j&&TA({},function(e,i){ni(t,i,e)})}function yF(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Hr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<e;_++){let b=r[_].h;const T=r[_].g;if(b-=a,0>b)a=Math.max(0,r[_].h-100),f=!1;else try{SG(T,u,"req"+b+"_")}catch(A){i&&i(T)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function vF(n){n.g||n.u||(n.Y=1,fA(n.Ga,n),n.A=0)}function PA(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ab(Hr(n.Ga,n),CF(n,n.A)),n.A++,0))}function NA(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function bF(n){n.g=new cb(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=yu(n.oa);ni(t,"RID","rpc"),ni(t,"SID",n.J),ni(t,"CI",n.N?"0":"1"),ni(t,"AID",n.U),vb(n,t),ni(t,"TYPE","xmlhttp"),n.o&&n.s&&kA(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=NE(yu(t)),e.s=null,e.U=!0,WN(e,n)}function HE(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function wF(n,t){var e=null;if(n.g==t){HE(n),NA(n),n.g=null;var i=2}else{if(!SA(n.i,t))return;e=t.D,oF(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Gr(i=SE(),new jN(i,e,t,r)),UE(n)}else vF(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function NG(n,t){return!(sF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ab(Hr(n.Ha,n,t),CF(n,n.C)),n.C++,0)))}(n,t)||2==i&&PA(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Jf(n,5);break;case 4:Jf(n,10);break;case 3:Jf(n,6);break;default:Jf(n,2)}}function CF(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Jf(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Hr(n.jb,n);e||(e=new Qf("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||RE(e,"https"),NE(e)),function xG(n,t){const e=new IE;if(Lt.Image){const i=new Image;i.onload=vE(FE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=vE(FE,e,i,"TestLoadImage: error",!1,t),i.onabort=vE(FE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=vE(FE,e,i,"TestLoadImage: timeout",!1,t),Lt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Bs(2);n.G=0,n.j&&n.j.va(t),EF(n),gF(n)}function EF(n){n.G=0,n.I=-1,n.j&&((0!=aF(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Yx(n.l),n.l.length=0),n.j.ua())}function DF(n,t,e){let i=function gG(n){return n instanceof Qf?yu(n):new Qf(n,void 0)}(e);if(""!=i.i)t&&OE(i,t+"."+i.i),PE(i,i.m);else{const r=Lt.location;i=function _G(n,t,e,i){var r=new Qf(null,void 0);return n&&RE(r,n),t&&OE(r,t),e&&PE(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&Qx(n.aa,function(r,a){ni(i,a,r)}),e=n.sa,(t=n.D)&&e&&ni(i,t,e),ni(i,"VER",n.ma),vb(n,i),i}function TF(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new $i(e&&n.Ba&&!n.qa?new mb({ib:!0}):n.qa)).L=n.H,t}function IF(){}function jE(){if(Ig&&!(10<=Number(Zj)))throw Error("Environmental error: no available transport.")}function Ko(n,t){vr.call(this),this.g=new mF(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!bE(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!bE(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Mg(this)}function SF(n){vA.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function xF(){bA.call(this),this.status=1}function Mg(n){this.g=n}(nt=$i.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wA.g(),this.C=function $N(n){return n.h||(n.h=n.i())}(this.u?this.u:wA),this.g.onreadystatechange=Hr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void uF(this,a)}n=e||"";const r=new xg(this.headers);i&&TA(i,function(a,u){r.set(u,a)}),i=function jj(n){e:{var t=OG;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Lt.FormData&&n instanceof Lt.FormData,!(0<=mN(kG,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fF(this),0<this.B&&((this.K=function RG(n){return Ig&&function Wj(){return function Gj(n){var t=qj;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=yN(String(wE)).split("."),e=yN("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",a=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Kx(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Kx(0==r[2].length,0==a[2].length)||Kx(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Hr(this.pa,this)):this.A=_A(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){uF(this,a)}},nt.pa=function(){void 0!==qx&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gr(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Gr(this,"complete"),Gr(this,"abort"),BE(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BE(this,!0)),$i.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?hF(this):this.cb())},nt.cb=function(){hF(this)},nt.ba=function(){try{return 2<vu(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),AG(t)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=mF.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new cb(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=wN(a),EN(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=yF(this,r,t),ni(e=yu(this.F),"RID",n),ni(e,"CVER",22),this.D&&ni(e,"X-HTTP-Session-Id",this.D),vb(this,e),this.o&&a&&kA(e,this.o,a),xA(this.i,r),this.Ra&&ni(e,"TYPE","init"),this.ja?(ni(e,"$req",t),ni(e,"SID","null"),r.$=!0,EA(r,e,null)):EA(r,e,t),this.G=2}}else 3==this.G&&(n?_F(this,n):0==this.l.length||rF(this.i)||_F(this))},nt.Ga=function(){if(this.u=null,bF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ab(Hr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bs(10),VE(this),bF(this))},nt.ab=function(){null!=this.v&&(this.v=null,VE(this),PA(this),Bs(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bs(2)):(this.h.info("Failed to ping google.com"),Bs(1))},(nt=IF.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},jE.prototype.g=function(n,t){return new Ko(n,t)},jr(Ko,vr),Ko.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),fA(Hr(n.hb,n,t))),Bs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=DF(n,null,n.W),UE(n)},Ko.prototype.close=function(){RA(this.g)},Ko.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,OA(this.g,t)}else this.v?((t={}).__data__=hA(n),OA(this.g,t)):OA(this.g,n)},Ko.prototype.M=function(){this.g.j=null,delete this.j,RA(this.g),delete this.g,Ko.Z.M.call(this)},jr(SF,vA),jr(xF,bA),jr(Mg,IF),Mg.prototype.xa=function(){Gr(this.g,"a")},Mg.prototype.wa=function(n){Gr(this.g,new SF(n))},Mg.prototype.va=function(n){Gr(this.g,new xF(n))},Mg.prototype.ua=function(){Gr(this.g,"b")},jE.prototype.createWebChannel=jE.prototype.g,Ko.prototype.send=Ko.prototype.u,Ko.prototype.open=Ko.prototype.m,Ko.prototype.close=Ko.prototype.close,xE.NO_ERROR=0,xE.TIMEOUT=8,xE.HTTP_ERROR=6,GN.COMPLETE="complete",zN.EventType=lb,lb.OPEN="a",lb.CLOSE="b",lb.ERROR="c",lb.MESSAGE="d",vr.prototype.listen=vr.prototype.N,$i.prototype.listenOnce=$i.prototype.O,$i.prototype.getLastError=$i.prototype.La,$i.prototype.getLastErrorCode=$i.prototype.Da,$i.prototype.getStatus=$i.prototype.ba,$i.prototype.getResponseJson=$i.prototype.Qa,$i.prototype.getResponseText=$i.prototype.ga,$i.prototype.send=$i.prototype.ea;var FG=_u.createWebChannelTransport=function(){return new jE},LG=_u.getStatEventTarget=function(){return SE()},FA=_u.ErrorCode=xE,BG=_u.EventType=GN,VG=_u.Event=Zf,AF=_u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UG=_u.FetchXmlHttpFactory=mb,GE=_u.WebChannel=zN,HG=_u.XhrIo=$i;const MF="@firebase/firestore";class $r{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$r.UNAUTHENTICATED=new $r(null),$r.GOOGLE_CREDENTIALS=new $r("google-credentials-uid"),$r.FIRST_PARTY=new $r("first-party-uid"),$r.MOCK_USER=new $r("mock-user");let kg="9.6.11";const oh=new ih.Yd("@firebase/firestore");function LA(){return oh.logLevel}function Fe(n,...t){if(oh.logLevel<=ih.in.DEBUG){const e=t.map(BA);oh.debug(`Firestore (${kg}): ${n}`,...e)}}function zi(n,...t){if(oh.logLevel<=ih.in.ERROR){const e=t.map(BA);oh.error(`Firestore (${kg}): ${n}`,...e)}}function bb(n,...t){if(oh.logLevel<=ih.in.WARN){const e=t.map(BA);oh.warn(`Firestore (${kg}): ${n}`,...e)}}function BA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function ot(n="Unexpected state"){const t=`FIRESTORE (${kg}) INTERNAL ASSERTION FAILED: `+n;throw zi(t),new Error(t)}function Ot(n,t){n||ot()}function qe(n,t){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Xt.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class br{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class kF{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class $G{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e($r.UNAUTHENTICATED))}shutdown(){}}class zG{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class qG{constructor(t){this.t=t,this.currentUser=$r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=b=>this.i!==r?(r=this.i,e(b)):Promise.resolve();let u=new br;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new br,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;t.enqueueRetryable((0,ve.Z)(function*(){yield b.promise,yield a(i.currentUser)}))},_=b=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new br)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new kF(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ot(null===t||"string"==typeof t),new $r(t)}}class WG{constructor(t,e,i){this.type="FirstParty",this.user=$r.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class ZG{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new WG(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e($r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YG{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=a=>{null!=a.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ot("string"==typeof e.token),this.p=e.token,new RF(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Qo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.I(i),this.T=i=>e.writeSequenceNumber(i))}I(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.T&&this.T(t),t}}function KG(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}Qo.A=-1;class OF{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=KG(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function Gt(n,t){return n<t?-1:n>t?1:0}function Rg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function PF(n){return n+"\0"}class Ri{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ri.fromMillis(Date.now())}static fromDate(t){return Ri.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ri(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Ri(0,0))}static max(){return new xt(new Ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function NF(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Xf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function FF(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class wb{constructor(t,e,i){void 0===e?e=0:e>t.length&&ot(),void 0===i?i=t.length-e:i>t.length-e&&ot(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===wb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),u=e.get(r);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class dn extends wb{construct(t,e,i){return new dn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new dn(e)}static emptyPath(){return new dn([])}}const QG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends wb{construct(t,e,i){return new wr(t,e,i)}static isValidIdentifier(t){return QG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new ke(de.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new ke(de.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ke(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new ke(de.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new wr(e)}static emptyPath(){return new wr([])}}class Og{constructor(t){this.fields=t,t.sort(wr.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Rg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class or{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new or(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new or(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}or.EMPTY_BYTE_STRING=new or("");const XG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ah(n){if(Ot(!!n),"string"==typeof n){let t=0;const e=XG.exec(n);if(Ot(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:vi(n.seconds),nanos:vi(n.nanos)}}function vi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ep(n){return"string"==typeof n?or.fromBase64String(n):or.fromUint8Array(n)}function VA(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function LF(n){const t=n.mapValue.fields.__previous_value__;return VA(t)?LF(t):t}function Cb(n){const t=ah(n.mapValue.fields.__local_write_time__.timestampValue);return new Ri(t.seconds,t.nanos)}class e3{constructor(t,e,i,r,a,u,f,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class bu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new bu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof bu&&t.projectId===this.projectId&&t.database===this.database}}function tp(n){return null==n}function Eb(n){return 0===n&&1/n==-1/0}function BF(n){return"number"==typeof n&&Number.isInteger(n)&&!Eb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ge{constructor(t){this.path=t}static fromPath(t){return new Ge(dn.fromString(t))}static fromName(t){return new Ge(dn.fromString(t).popFirst(5))}static empty(){return new Ge(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===dn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return dn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ge(new dn(t.slice()))}}const VF={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},UF={nullValue:"NULL_VALUE"};function np(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?VA(n)?4:$F(n)?9:10:ot()}function Xl(n,t){if(n===t)return!0;const e=np(n);if(e!==np(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Cb(n).isEqual(Cb(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=ah(i.timestampValue),u=ah(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,ep(n.bytesValue).isEqual(ep(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return vi(i.geoPointValue.latitude)===vi(r.geoPointValue.latitude)&&vi(i.geoPointValue.longitude)===vi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return vi(i.integerValue)===vi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=vi(i.doubleValue),u=vi(r.doubleValue);return a===u?Eb(a)===Eb(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return Rg(n.arrayValue.values||[],t.arrayValue.values||[],Xl);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(NF(a)!==NF(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Xl(a[f],u[f])))return!1;return!0}(n,t);default:return ot()}var r}function Db(n,t){return void 0!==(n.values||[]).find(e=>Xl(e,t))}function lh(n,t){if(n===t)return 0;const e=np(n),i=np(t);if(e!==i)return Gt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,t.booleanValue);case 2:return function(r,a){const u=vi(r.integerValue||r.doubleValue),f=vi(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return HF(n.timestampValue,t.timestampValue);case 4:return HF(Cb(n),Cb(t));case 5:return Gt(n.stringValue,t.stringValue);case 6:return function(r,a){const u=ep(r),f=ep(a);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const b=Gt(u[_],f[_]);if(0!==b)return b}return Gt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const u=Gt(vi(r.latitude),vi(a.latitude));return 0!==u?u:Gt(vi(r.longitude),vi(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const b=lh(u[_],f[_]);if(b)return b}return Gt(u.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){const u=r.fields||{},f=Object.keys(u),_=a.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=Gt(f[T],b[T]);if(0!==A)return A;const O=lh(u[f[T]],_[b[T]]);if(0!==O)return O}return Gt(f.length,b.length)}(n.mapValue,t.mapValue);default:throw ot()}}function HF(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Gt(n,t);const e=ah(n),i=ah(t),r=Gt(e.seconds,i.seconds);return 0!==r?r:Gt(e.nanos,i.nanos)}function Pg(n){return UA(n)}function UA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=ah(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ep(n.bytesValue).toBase64():"referenceValue"in n?Ge.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=UA(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${UA(i.fields[f])}`;return a+"}"}(n.mapValue):ot();var t}function ip(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function HA(n){return!!n&&"integerValue"in n}function Tb(n){return!!n&&"arrayValue"in n}function jF(n){return!!n&&"nullValue"in n}function GF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $E(n){return!!n&&"mapValue"in n}function Ib(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Xf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Ib(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ib(n.arrayValue.values[e]);return t}return Object.assign({},n)}function $F(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function t3(n){return"nullValue"in n?UF:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ip(bu.empty(),Ge.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function n3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ip(bu.empty(),Ge.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?VF:ot()}function zF(n,t){return void 0===n?t:void 0===t||lh(n,t)>0?n:t}function qF(n,t){return void 0===n?t:void 0===t||lh(n,t)<0?n:t}class ls{constructor(t){this.value=t}static empty(){return new ls({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!$E(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ib(e)}setAll(t){let e=wr.emptyPath(),i={},r=[];t.forEach((u,f)=>{if(!e.isImmediateParentOf(f)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=f.popLast()}u?i[f.lastSegment()]=Ib(u):r.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());$E(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xl(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];$E(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Xf(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new ls(Ib(this.value))}}function WF(n){const t=[];return Xf(n.fields,(e,i)=>{const r=new wr([e]);if($E(i)){const a=WF(i.mapValue).fields;if(0===a.length)t.push(r);else for(const u of a)t.push(r.child(u))}else t.push(r)}),new Og(t)}class Zn{constructor(t,e,i,r,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(t){return new Zn(t,0,xt.min(),xt.min(),ls.empty(),0)}static newFoundDocument(t,e,i){return new Zn(t,1,e,xt.min(),i,0)}static newNoDocument(t,e){return new Zn(t,2,e,xt.min(),ls.empty(),0)}static newUnknownDocument(t,e){return new Zn(t,3,e,xt.min(),ls.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ls.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ls.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Zn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function jA(n){return n.fields.find(t=>2===t.kind)}function rp(n){return n.fields.filter(t=>2!==t.kind)}zE.UNKNOWN_ID=-1;class qE{constructor(t,e){this.fieldPath=t,this.kind=e}}class Sb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Sb(0,wu.min())}}function ZF(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=xt.fromTimestamp(1e9===i?new Ri(e+1,0):new Ri(e,i));return new wu(r,Ge.empty(),t)}function r3(n){return new wu(n.readTime,n.key,-1)}class wu{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new wu(xt.min(),Ge.empty(),-1)}static max(){return new wu(xt.max(),Ge.empty(),-1)}}function s3(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Ge.comparator(n.documentKey,t.documentKey),0!==e?e:Gt(n.largestBatchId,t.largestBatchId))}class o3{constructor(t,e=null,i=[],r=[],a=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function YF(n,t=null,e=[],i=[],r=null,a=null,u=null){return new o3(n,t,e,i,r,a,u)}function sp(n){const t=qe(n);if(null===t.P){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Pg(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),tp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Pg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Pg(i)).join(",")),t.P=e}return t.P}function xb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!m3(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Xl(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!eL(n.startAt,t.startAt)&&eL(n.endAt,t.endAt)}function WE(n){return Ge.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ZE(n,t){return n.filters.filter(e=>e instanceof zr&&e.field.isEqual(t))}function KF(n,t,e){let i,r=!0;for(const a of ZE(n,t)){let u,f=!0;switch(a.op){case"<":case"<=":u=t3(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=UF}zF(i,u)===u&&(i=u,r=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];zF(i,u)===u&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function QF(n,t,e){let i,r=!0;for(const a of ZE(n,t)){let u,f=!0;switch(a.op){case">=":case">":u=n3(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=VF}qF(i,u)===u&&(i=u,r=f)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];qF(i,u)===u&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class zr extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.V(t,e,i):new l3(t,e,i):"array-contains"===e?new d3(t,i):"in"===e?new h3(t,i):"not-in"===e?new f3(t,i):"array-contains-any"===e?new p3(t,i):new zr(t,e,i)}static V(t,e,i){return"in"===e?new c3(t,i):new u3(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.v(lh(e,this.value)):null!==e&&np(this.value)===np(e)&&this.v(lh(e,this.value))}v(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ot()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class l3 extends zr{constructor(t,e,i){super(t,e,i),this.key=Ge.fromName(i.referenceValue)}matches(t){const e=Ge.comparator(t.key,this.key);return this.v(e)}}class c3 extends zr{constructor(t,e){super(t,"in",e),this.keys=JF(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class u3 extends zr{constructor(t,e){super(t,"not-in",e),this.keys=JF(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function JF(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Ge.fromName(i.referenceValue))}class d3 extends zr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Tb(e)&&Db(e.arrayValue,this.value)}}class h3 extends zr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Db(this.value.arrayValue,e)}}class f3 extends zr{constructor(t,e){super(t,"not-in",e)}matches(t){if(Db(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Db(this.value.arrayValue,e)}}class p3 extends zr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Tb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Db(this.value.arrayValue,i))}}class ch{constructor(t,e){this.position=t,this.inclusive=e}}class Ng{constructor(t,e="asc"){this.field=t,this.dir=e}}function m3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function XF(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],u=n.position[r];if(i=a.field.isKeyField()?Ge.comparator(Ge.fromName(u.referenceValue),e.key):lh(u,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function eL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Xl(n.position[e],t.position[e]))return!1;return!0}class Cu{constructor(t,e=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.D=null,this.C=null}}function tL(n,t,e,i,r,a,u,f){return new Cu(n,t,e,i,r,a,u,f)}function Fg(n){return new Cu(n)}function YE(n){return!tp(n.limit)&&"F"===n.limitType}function KE(n){return!tp(n.limit)&&"L"===n.limitType}function GA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $A(n){for(const t of n.filters)if(t.S())return t.field;return null}function zA(n){return null!==n.collectionGroup}function Lg(n){const t=qe(n);if(null===t.D){t.D=[];const e=$A(t),i=GA(t);if(null!==e&&null===i)e.isKeyField()||t.D.push(new Ng(e)),t.D.push(new Ng(wr.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.D.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Ng(wr.keyField(),a))}}}return t.D}function Ma(n){const t=qe(n);if(!t.C)if("F"===t.limitType)t.C=YF(t.path,t.collectionGroup,Lg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Lg(t))e.push(new Ng(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new ch(t.endAt.position,!t.endAt.inclusive):null,r=t.startAt?new ch(t.startAt.position,!t.startAt.inclusive):null;t.C=YF(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.C}function nL(n,t,e){return new Cu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ab(n,t){return xb(Ma(n),Ma(t))&&n.limitType===t.limitType}function iL(n){return`${sp(Ma(n))}|lt:${n.limitType}`}function qA(n){return`Query(target=${function a3(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Pg(i.value)}`;var i}).join(", ")}]`),tp(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Pg(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Pg(e)).join(",")),`Target(${t})`}(Ma(n))}; limitType=${n.limitType})`}function WA(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Ge.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,u){const f=XF(r,a,u);return r.inclusive?f<=0:f<0}(e.startAt,Lg(e),i)||e.endAt&&!function(r,a,u){const f=XF(r,a,u);return r.inclusive?f>=0:f>0}(e.endAt,Lg(e),i)));var e,i}function rL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sL(n){return(t,e)=>{let i=!1;for(const r of Lg(n)){const a=g3(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function g3(n,t,e){const i=n.field.isKeyField()?Ge.comparator(t.key,e.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?lh(f,_):ot()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}function oL(n,t){if(n.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eb(t)?"-0":t}}function aL(n){return{integerValue:""+n}}function lL(n,t){return BF(t)?aL(t):oL(n,t)}class QE{constructor(){this._=void 0}}function _3(n,t,e){return n instanceof Bg?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof op?uL(n,t):n instanceof ap?dL(n,t):function(i,r){const a=cL(i,r),u=hL(a)+hL(i.k);return HA(a)&&HA(i.k)?aL(u):oL(i.M,u)}(n,t)}function y3(n,t,e){return n instanceof op?uL(n,t):n instanceof ap?dL(n,t):e}function cL(n,t){return n instanceof Vg?HA(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Bg extends QE{}class op extends QE{constructor(t){super(),this.elements=t}}function uL(n,t){const e=fL(t);for(const i of n.elements)e.some(r=>Xl(r,i))||e.push(i);return{arrayValue:{values:e}}}class ap extends QE{constructor(t){super(),this.elements=t}}function dL(n,t){let e=fL(t);for(const i of n.elements)e=e.filter(r=>!Xl(r,i));return{arrayValue:{values:e}}}class Vg extends QE{constructor(t,e){super(),this.M=t,this.k=e}}function hL(n){return vi(n.integerValue||n.doubleValue)}function fL(n){return Tb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Mb{constructor(t,e){this.field=t,this.transform=e}}class b3{constructor(t,e){this.version=t,this.transformResults=e}}class qi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function JE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class XE{}function w3(n,t,e){n instanceof kb?function(i,r,a){const u=i.value.clone(),f=_L(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof lp?function(i,r,a){if(!JE(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=_L(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(gL(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ZA(n,t,e){var r;n instanceof kb?function(i,r,a){if(!JE(i.precondition,r))return;const u=i.value.clone(),f=yL(i.fieldTransforms,a,r);u.setAll(f),r.convertToFoundDocument(mL(r),u).setHasLocalMutations()}(n,t,e):n instanceof lp?function(i,r,a){if(!JE(i.precondition,r))return;const u=yL(i.fieldTransforms,a,r),f=r.data;f.setAll(gL(i)),f.setAll(u),r.convertToFoundDocument(mL(r),f).setHasLocalMutations()}(n,t,e):JE(n.precondition,r=t)&&r.convertToNoDocument(xt.min())}function C3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=cL(i.transform,r||null);null!=a&&(null==e&&(e=ls.empty()),e.set(i.field,a))}return e||null}function pL(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Rg(e,i,(r,a)=>function v3(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof op&&i instanceof op||e instanceof ap&&i instanceof ap?Rg(e.elements,i.elements,Xl):e instanceof Vg&&i instanceof Vg?Xl(e.k,i.k):e instanceof Bg&&i instanceof Bg);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}function mL(n){return n.isFoundDocument()?n.version:xt.min()}class kb extends XE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}}class lp extends XE{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}}function gL(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _L(n,t,e){const i=new Map;Ot(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],u=a.transform,f=t.data.field(a.field);i.set(a.field,y3(u,f,e[r]))}return i}function yL(n,t,e){const i=new Map;for(const r of n){const a=r.transform,u=e.data.field(r.field);i.set(r.field,_3(a,u,t))}return i}class Rb extends XE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class YA extends XE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class E3{constructor(t){this.count=t}}var Wi,hn;function vL(n){switch(n){default:return ot();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function bL(n){if(void 0===n)return zi("GRPC error has no .code"),de.UNKNOWN;switch(n){case Wi.OK:return de.OK;case Wi.CANCELLED:return de.CANCELLED;case Wi.UNKNOWN:return de.UNKNOWN;case Wi.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Wi.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Wi.INTERNAL:return de.INTERNAL;case Wi.UNAVAILABLE:return de.UNAVAILABLE;case Wi.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Wi.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Wi.NOT_FOUND:return de.NOT_FOUND;case Wi.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Wi.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Wi.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Wi.ABORTED:return de.ABORTED;case Wi.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Wi.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Wi.DATA_LOSS:return de.DATA_LOSS;default:return ot()}}(hn=Wi||(Wi={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class uh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Xf(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return FF(this.inner)}size(){return this.innerSize}}class Oi{constructor(t,e){this.comparator=t,this.root=e||qr.EMPTY}insert(t,e){return new Oi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,qr.BLACK,null,null))}remove(t){return new Oi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new eD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new eD(this.root,t,this.comparator,!1)}getReverseIterator(){return new eD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new eD(this.root,t,this.comparator,!0)}}class eD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qr{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=null!=i?i:qr.RED,this.left=null!=r?r:qr.EMPTY,this.right=null!=a?a:qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new qr(null!=t?t:this.key,null!=e?e:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return qr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}qr.EMPTY=null,qr.RED=!0,qr.BLACK=!1,qr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,t,e,i,r){return this}insert(n,t,e){return new qr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(t){this.comparator=t,this.data=new Oi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new wL(this.data.getIterator())}getIteratorFrom(t){return new wL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Yn(this.comparator);return e.data=t,e}}class wL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ug(n){return n.hasNext()?n.getNext():void 0}const D3=new Oi(Ge.comparator);function ka(){return D3}const T3=new Oi(Ge.comparator);function KA(){return T3}function Ob(){return new uh(n=>n.toString(),(n,t)=>n.isEqual(t))}const I3=new Oi(Ge.comparator),S3=new Yn(Ge.comparator);function Dn(...n){let t=S3;for(const e of n)t=t.add(e);return t}const x3=new Yn(Gt);function tD(){return x3}class Pb{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Nb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Pb(xt.min(),i,tD(),ka(),Dn())}}class Nb{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Nb(or.EMPTY_BYTE_STRING,e,Dn(),Dn(),Dn())}}class nD{constructor(t,e,i,r){this.O=t,this.removedTargetIds=e,this.key=i,this.F=r}}class CL{constructor(t,e){this.targetId=t,this.$=e}}class EL{constructor(t,e,i=or.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class DL{constructor(){this.B=0,this.L=IL(),this.U=or.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(t){t.approximateByteSize()>0&&(this.K=!0,this.U=t)}H(){let t=Dn(),e=Dn(),i=Dn();return this.L.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ot()}}),new Nb(this.U,this.q,t,e,i)}J(){this.K=!1,this.L=IL()}Y(t,e){this.K=!0,this.L=this.L.insert(t,e)}X(t){this.K=!0,this.L=this.L.remove(t)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class A3{constructor(t){this.nt=t,this.st=new Map,this.it=ka(),this.rt=TL(),this.ot=new Yn(Gt)}ut(t){for(const e of t.O)t.F&&t.F.isFoundDocument()?this.at(e,t.F):this.ct(e,t.key,t.F);for(const e of t.removedTargetIds)this.ct(e,t.key,t.F)}ht(t){this.forEachTarget(t,e=>{const i=this.lt(e);switch(t.state){case 0:this.ft(e)&&i.W(t.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(t.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(e);break;case 3:this.ft(e)&&(i.et(),i.W(t.resumeToken));break;case 4:this.ft(e)&&(this.dt(e),i.W(t.resumeToken));break;default:ot()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.st.forEach((i,r)=>{this.ft(r)&&e(r)})}_t(t){const e=t.targetId,i=t.$.count,r=this.wt(e);if(r){const a=r.target;if(WE(a))if(0===i){const u=new Ge(a.path);this.ct(e,u,Zn.newNoDocument(u,xt.min()))}else Ot(1===i);else this.gt(e)!==i&&(this.dt(e),this.ot=this.ot.add(e))}}yt(t){const e=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&WE(f.target)){const _=new Ge(f.target.path);null!==this.it.get(_)||this.It(u,_)||this.ct(u,_,Zn.newNoDocument(_,t))}a.j&&(e.set(u,a.H()),a.J())}});let i=Dn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const b=this.wt(_);return!b||2===b.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.it.forEach((a,u)=>u.setReadTime(t));const r=new Pb(t,e,this.ot,this.it,i);return this.it=ka(),this.rt=TL(),this.ot=new Yn(Gt),r}at(t,e){if(!this.ft(t))return;const i=this.It(t,e.key)?2:0;this.lt(t).Y(e.key,i),this.it=this.it.insert(e.key,e),this.rt=this.rt.insert(e.key,this.Tt(e.key).add(t))}ct(t,e,i){if(!this.ft(t))return;const r=this.lt(t);this.It(t,e)?r.Y(e,1):r.X(e),this.rt=this.rt.insert(e,this.Tt(e).delete(t)),i&&(this.it=this.it.insert(e,i))}removeTarget(t){this.st.delete(t)}gt(t){const e=this.lt(t).H();return this.nt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Z(t){this.lt(t).Z()}lt(t){let e=this.st.get(t);return e||(e=new DL,this.st.set(t,e)),e}Tt(t){let e=this.rt.get(t);return e||(e=new Yn(Gt),this.rt=this.rt.insert(t,e)),e}ft(t){const e=null!==this.wt(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}wt(t){const e=this.st.get(t);return e&&e.G?null:this.nt.Et(t)}dt(t){this.st.set(t,new DL),this.nt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}It(t,e){return this.nt.getRemoteKeysForTarget(t).has(e)}}function TL(){return new Oi(Ge.comparator)}function IL(){return new Oi(Ge.comparator)}const M3={asc:"ASCENDING",desc:"DESCENDING"},k3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class R3{constructor(t,e){this.databaseId=t,this.N=e}}function Fb(n,t){return n.N?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SL(n,t){return n.N?t.toBase64():t.toUint8Array()}function O3(n,t){return Fb(n,t.toTimestamp())}function Cr(n){return Ot(!!n),xt.fromTimestamp(function(t){const e=ah(t);return new Ri(e.seconds,e.nanos)}(n))}function QA(n,t){return(e=n,new dn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function xL(n){const t=dn.fromString(n);return Ot(LL(t)),t}function Lb(n,t){return QA(n.databaseId,t.path)}function ec(n,t){const e=xL(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Ge(ML(e))}function JA(n,t){return QA(n.databaseId,t)}function AL(n){const t=xL(n);return 4===t.length?dn.emptyPath():ML(t)}function Bb(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ML(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function kL(n,t,e){return{name:Lb(n,t),fields:e.value.mapValue.fields}}function RL(n,t,e){const i=ec(n,t.name),r=Cr(t.updateTime),a=new ls({mapValue:{fields:t.fields}}),u=Zn.newFoundDocument(i,r,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Vb(n,t){let e;if(t instanceof kb)e={update:kL(n,t.key,t.value)};else if(t instanceof Rb)e={delete:Lb(n,t.key)};else if(t instanceof lp)e={update:kL(n,t.key,t.data),updateMask:j3(t.fieldMask)};else{if(!(t instanceof YA))return ot();e={verify:Lb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Bg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof op)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ap)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Vg)return{fieldPath:a.field.canonicalString(),increment:u.k};throw ot()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:O3(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ot()),e;var r}function XA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?qi.updateTime(Cr(r.updateTime)):void 0!==r.exists?qi.exists(r.exists):qi.none():qi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(Ot("REQUEST_TIME"===u.setToServerValue),f=new Bg):"appendMissingElements"in u?f=new op(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new ap(u.removeAllFromArray.values||[]):"increment"in u?f=new Vg(a,u.increment):ot();const _=wr.fromServerFormat(u.fieldPath);return new Mb(_,f)}(n,r)):[];var r;if(t.update){const r=ec(n,t.update.name),a=new ls({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Og((t.updateMask.fieldPaths||[]).map(b=>wr.fromServerFormat(b)));return new lp(r,a,u,e,i)}return new kb(r,a,e,i)}if(t.delete){const r=ec(n,t.delete);return new Rb(r,e)}if(t.verify){const r=ec(n,t.verify);return new YA(r,e)}return ot()}function OL(n,t){return{documents:[JA(n,t.path)]}}function PL(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=JA(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=JA(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const b=_.map(T=>function(A){if("=="===A.op){if(GF(A.value))return{unaryFilter:{field:Hg(A.field),op:"IS_NAN"}};if(jF(A.value))return{unaryFilter:{field:Hg(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(GF(A.value))return{unaryFilter:{field:Hg(A.field),op:"IS_NOT_NAN"}};if(jF(A.value))return{unaryFilter:{field:Hg(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hg(A.field),op:V3(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Hg((T=b).field),direction:B3(T.dir)};var T})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(b=t.limit,n.N||tp(b)?b:{value:b});var b,f,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(f=t.startAt).inclusive,values:f.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function NL(n){let t=AL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ot(1===i);const T=e.from[0];T.allDescendants?r=T.collectionId:t=t.child(T.collectionId)}let a=[];e.where&&(a=FL(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(T=>{return new Ng(jg((A=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;e.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,tp(A)?null:A}(e.limit));let _=null;var T;e.startAt&&(_=new ch((T=e.startAt).values||[],!!T.before));let b=null;return e.endAt&&(b=function(T){return new ch(T.values||[],!T.before)}(e.endAt)),tL(t,r,u,a,f,"F",_,b)}function FL(n){return n?void 0!==n.unaryFilter?[H3(n)]:void 0!==n.fieldFilter?[U3(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>FL(t)).reduce((t,e)=>t.concat(e)):ot():[]}function B3(n){return M3[n]}function V3(n){return k3[n]}function Hg(n){return{fieldPath:n.canonicalString()}}function jg(n){return wr.fromServerFormat(n.fieldPath)}function U3(n){return zr.create(jg(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function H3(n){switch(n.unaryFilter.op){case"IS_NAN":const t=jg(n.unaryFilter.field);return zr.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=jg(n.unaryFilter.field);return zr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jg(n.unaryFilter.field);return zr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=jg(n.unaryFilter.field);return zr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}function j3(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function LL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Vs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=BL(t)),t=G3(n.get(e),t);return BL(t)}function G3(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function BL(n){return n+"\x01\x01"}function tc(n){const t=n.length;if(Ot(t>=2),2===t)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&ot(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:ot()}a=u+2}return new dn(i)}const VL=["userId","batchId"];function iD(n,t){return[n,Vs(t)]}function UL(n,t,e){return[n,Vs(t),e]}const $3={},z3=["prefixPath","collectionGroup","readTime","documentId"],q3=["prefixPath","collectionGroup","documentId"],W3=["collectionGroup","readTime","prefixPath","documentId"],Z3=["canonicalId","targetId"],Y3=["targetId","path"],K3=["path","targetId"],Q3=["collectionId","parent"],J3=["indexId","uid"],X3=["uid","sequenceNumber"],e$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],t$=["indexId","uid","orderedDocumentKey"],n$=["userId","collectionPath","documentId"],i$=["userId","collectionPath","largestBatchId"],r$=["userId","collectionGroup","largestBatchId"],HL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s$=[...HL,"documentOverlays"],jL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],o$=[...jL,"indexConfiguration","indexState","indexEntries"],GL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $L{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pe((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pe?e:pe.resolve(e)}catch(e){return pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.reject(e)}static resolve(t){return new pe((e,i)=>{e(t)})}static reject(t){return new pe((e,i)=>{i(t)})}static waitFor(t){return new pe((e,i)=>{let r=0,a=0,u=!1;t.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&e()},_=>i(_))}),u=!0,a===r&&e()})}static or(t){let e=pe.resolve(!1);for(const i of t)e=e.next(r=>r?pe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}}class rD{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.At=new br,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{e.error?this.At.reject(new Ub(t,e.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=eM(i.target.error);this.At.reject(new Ub(t,r))}}static open(t,e,i,r){try{return new rD(e,t.transaction(r,i))}catch(a){throw new Ub(e,a)}}get Rt(){return this.At.promise}abort(t){t&&this.At.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}Pt(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new l$(e)}}class cl{constructor(t,e,i){this.name=t,this.version=e,this.bt=i,12.2===cl.Vt((0,Xt.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),up(window.indexedDB.deleteDatabase(t)).toPromise()}static vt(){if(!(0,Xt.hl)())return!1;if(cl.St())return!0;const t=(0,Xt.z$)(),e=cl.Vt(t),i=0<e&&e<10,r=cl.Dt(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static St(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Ct)}static xt(t,e){return t.store(e)}static Vt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(t){var e=this;return(0,ve.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Ub(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new ke(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new ke(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ub(t,f))},a.onupgradeneeded=u=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.bt.kt(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Mt&&(e.db.onversionchange=i=>e.Mt(i)),e.db})()}Ot(t){this.Mt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,ve.Z)(function*(){const u="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.Nt(t);const _=rD.open(a.db,t,u?"readonly":"readwrite",i),b=r(_).next(T=>(_.Pt(),T)).catch(T=>(_.abort(T),pe.reject(T))).toPromise();return b.catch(()=>{}),yield _.Rt,b}catch(_){const b="FirebaseError"!==_.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),a.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a${constructor(t){this.Ft=t,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(t){this.Ft=t}done(){this.$t=!0}Ut(t){this.Bt=t}delete(){return up(this.Ft.delete())}}class Ub extends ke{constructor(t,e){super(de.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function cp(n){return"IndexedDbTransactionError"===n.name}class l${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),up(i)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),up(this.store.add(t))}get(t){return up(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),up(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),up(this.store.count())}qt(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.Kt(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new pe((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}Gt(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new pe((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}Qt(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(a,u,f)=>f.delete())}Wt(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.Kt(r,e)}zt(t){const e=this.cursor({});return new pe((i,r)=>{e.onerror=a=>{const u=eM(a.target.error);r(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}Kt(t,e){const i=[];return new pe((r,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new a$(f),b=e(f.primaryKey,f.value,_);if(b instanceof pe){const T=b.catch(A=>(_.done(),pe.reject(A)));i.push(T)}_.isDone?r():null===_.Lt?f.continue():f.continue(_.Lt)}}).next(()=>pe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.jt?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function up(n){return new pe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=eM(i.target.error);e(r)}})}let zL=!1;function eM(n){const t=cl.Vt((0,Xt.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zL||(zL=!0,setTimeout(()=>{throw i},0)),i}}return n}class qL extends $L{constructor(t,e){super(),this.Ht=t,this.currentSequenceNumber=e}}function Er(n,t){const e=qe(n);return cl.xt(e.Ht,t)}class tM{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&w3(a,t,i[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&ZA(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&ZA(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const i=t.get(e.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Dn())}isEqual(t){return this.batchId===t.batchId&&Rg(this.mutations,t.mutations,(e,i)=>pL(e,i))&&Rg(this.baseMutations,t.baseMutations,(e,i)=>pL(e,i))}}class nM{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ot(t.mutations.length===i.length);let r=I3;const a=t.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new nM(t,e,i,r)}}class iM{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dh{constructor(t,e,i,r,a=xt.min(),u=xt.min(),f=or.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(t){return new dh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new dh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class WL{constructor(t){this.Jt=t}}function ZL(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:sD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Lb(r=n.Jt,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:Fb(r,a.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:dp(t.version)};else{if(!t.isUnknownDocument())return ot();i.unknownDocument={path:e.path.toArray(),version:dp(t.version)}}var r,a;return i}function sD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function dp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hp(n){const t=new Ri(n.seconds,n.nanoseconds);return xt.fromTimestamp(t)}function Gg(n,t){const e=(t.baseMutations||[]).map(a=>XA(n.Jt,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>XA(n.Jt,a)),r=Ri.fromMillis(t.localWriteTimeMs);return new tM(t.batchId,r,e,i)}function Hb(n){const t=hp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?hp(n.lastLimboFreeSnapshotVersion):xt.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Ma(Fg(AL(r.documents[0])))):i=Ma(NL(n.query)),new dh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,or.fromBase64String(n.resumeToken))}function YL(n,t){const e=dp(t.snapshotVersion),i=dp(t.lastLimboFreeSnapshotVersion);let r;r=WE(t.target)?OL(n.Jt,t.target):PL(n.Jt,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sp(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function rM(n){const t=NL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nL(t,t.limit,"L"):t}function sM(n,t){return new iM(t.largestBatchId,XA(n.Jt,t.overlayMutation))}function KL(n,t){const e=t.path.lastSegment();return[n,Vs(t.path.popLast()),e]}class u${getBundleMetadata(t,e){return QL(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:hp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return QL(t).put({bundleId:(i=e).id,createTime:dp(Cr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return JL(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:rM(r.bundledQuery),readTime:hp(r.readTime)};var r})}saveNamedQuery(t,e){return JL(t).put({name:(i=e).name,readTime:dp(Cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function QL(n){return Er(n,"bundles")}function JL(n){return Er(n,"namedQueries")}class oM{constructor(t,e){this.M=t,this.userId=e}static Yt(t,e){return new oM(t,e.uid||"")}getOverlay(t,e){return jb(t).get(KL(this.userId,e)).next(i=>i?sM(this.M,i):null)}saveOverlays(t,e,i){const r=[];return i.forEach((a,u)=>{const f=new iM(e,u);r.push(this.Xt(t,f))}),pe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Vs(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(jb(t).Qt("collectionPathOverlayIndex",f))}),pe.waitFor(a)}getOverlaysForCollection(t,e,i){const r=Ob(),a=Vs(e),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return jb(t).qt("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const b=sM(this.M,_);r.set(b.getKey(),b)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=Ob();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return jb(t).Wt({index:"collectionGroupOverlayIndex",range:f},(_,b,T)=>{const A=sM(this.M,b);a.size()<r||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):T.done()}).next(()=>a)}Xt(t,e){return jb(t).put(function(i,r,a){const[u,f,_]=KL(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Vb(i.Jt,a.mutation)}}(this.M,this.userId,e))}}function jb(n){return Er(n,"documentOverlays")}class fp{constructor(){}Zt(t,e){this.te(t,e),e.ee()}te(t,e){if("nullValue"in t)this.ne(e,5);else if("booleanValue"in t)this.ne(e,10),e.se(t.booleanValue?1:0);else if("integerValue"in t)this.ne(e,15),e.se(vi(t.integerValue));else if("doubleValue"in t){const i=vi(t.doubleValue);isNaN(i)?this.ne(e,13):(this.ne(e,15),Eb(i)?e.se(0):e.se(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ne(e,20),"string"==typeof i?e.ie(i):(e.ie(`${i.seconds||""}`),e.se(i.nanos||0))}else if("stringValue"in t)this.re(t.stringValue,e),this.oe(e);else if("bytesValue"in t)this.ne(e,30),e.ue(ep(t.bytesValue)),this.oe(e);else if("referenceValue"in t)this.ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ne(e,45),e.se(i.latitude||0),e.se(i.longitude||0)}else"mapValue"in t?$F(t)?this.ne(e,Number.MAX_SAFE_INTEGER):(this.ce(t.mapValue,e),this.oe(e)):"arrayValue"in t?(this.he(t.arrayValue,e),this.oe(e)):ot()}re(t,e){this.ne(e,25),this.le(t,e)}le(t,e){e.ie(t)}ce(t,e){const i=t.fields||{};this.ne(e,55);for(const r of Object.keys(i))this.re(r,e),this.te(i[r],e)}he(t,e){const i=t.values||[];this.ne(e,50);for(const r of i)this.te(r,e)}ae(t,e){this.ne(e,37),Ge.fromName(t).path.forEach(i=>{this.ne(e,60),this.le(i,e)})}ne(t,e){t.se(e)}oe(t){t.se(2)}}function d$(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function XL(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=d$(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}fp.fe=new fp;class h${constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this._e(i.value),i=e.next();this.we()}me(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.ge(i.value),i=e.next();this.ye()}pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(e<"\ud800"||"\udbff"<e)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=e.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=e.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(t){const e=this.Ee(t),i=XL(e);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Re(t){const e=this.Ee(t),i=XL(e);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Pe(){this.be(255),this.be(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(t){this.Ae(t.length),this.buffer.set(t,this.position),this.position+=t.length}Se(){return this.buffer.slice(0,this.position)}Ee(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}_e(t){const e=255&t;0===e?(this.be(0),this.be(255)):255===e?(this.be(255),this.be(0)):this.be(e)}ge(t){const e=255&t;0===e?(this.ve(0),this.ve(255)):255===e?(this.ve(255),this.ve(0)):this.ve(t)}we(){this.be(0),this.be(1)}ye(){this.ve(0),this.ve(1)}be(t){this.Ae(1),this.buffer[this.position++]=t}ve(t){this.Ae(1),this.buffer[this.position++]=~t}Ae(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class f${constructor(t){this.De=t}ue(t){this.De.de(t)}ie(t){this.De.pe(t)}se(t){this.De.Te(t)}ee(){this.De.Pe()}}class p${constructor(t){this.De=t}ue(t){this.De.me(t)}ie(t){this.De.Ie(t)}se(t){this.De.Re(t)}ee(){this.De.Ve()}}class Gb{constructor(){this.De=new h$,this.Ce=new f$(this.De),this.xe=new p$(this.De)}seed(t){this.De.seed(t)}Ne(t){return 0===t?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class hh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new hh(this.indexId,this.documentKey,this.arrayValue,i)}}function pp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=eB(n.arrayValue,t.arrayValue),0!==e?e:(e=eB(n.directionalValue,t.directionalValue),0!==e?e:Ge.comparator(n.documentKey,t.documentKey)))}function eB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class m${constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];for(const e of t.filters){const i=e;i.S()?this.Fe=i:this.Oe.push(i)}}$e(t){const e=jA(t);if(void 0!==e&&!this.Be(e))return!1;const i=rp(t);let r=0,a=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const u=i[r];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(t){for(const e of this.Oe)if(this.Le(e,t))return!0;return!1}Le(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Ue(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class g${constructor(){this.qe=new aM}addToCollectionParentIndex(t,e){return this.qe.add(e),pe.resolve()}getCollectionParents(t,e){return pe.resolve(this.qe.getEntries(e))}addFieldIndex(t,e){return pe.resolve()}deleteFieldIndex(t,e){return pe.resolve()}getDocumentsMatchingTarget(t,e){return pe.resolve(null)}getFieldIndex(t,e){return pe.resolve(null)}getFieldIndexes(t,e){return pe.resolve([])}getNextCollectionGroupToUpdate(t){return pe.resolve(null)}updateCollectionGroup(t,e,i){return pe.resolve()}updateIndexEntries(t,e){return pe.resolve()}}class aM{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Yn(dn.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Yn(dn.comparator)).toArray()}}const $g=new Uint8Array(0);class _${constructor(t,e){this.user=t,this.databaseId=e,this.Ke=new aM,this.Ge=new uh(i=>sp(i),(i,r)=>xb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ke.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Ke.add(e)});const a={collectionId:i,parent:Vs(r)};return tB(t).put(a)}return pe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[PF(e),""],!1,!0);return tB(t).qt(r).next(a=>{for(const u of a){if(u.collectionId!==e)break;i.push(tc(u.parent))}return i})}addFieldIndex(t,e){const i=oD(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete r.indexId,i.add(r).next()}deleteFieldIndex(t,e){const i=oD(t),r=aD(t),a=$b(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=$b(t);let r=!0;const a=new Map;return pe.forEach(this.Qe(e),u=>this.getFieldIndex(t,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Dn();const f=[];return pe.forEach(a,(_,b)=>{var T;Fe("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${sp(e)}`);const A=function(it,tt){const Bt=jA(tt);if(void 0===Bt)return null;for(const $t of ZE(it,Bt.fieldPath))switch($t.op){case"array-contains-any":return $t.value.arrayValue.values||[];case"array-contains":return[$t.value]}return null}(b,_),O=function(it,tt){const Bt=new Map;for(const $t of rp(tt))for(const bn of ZE(it,$t.fieldPath))switch(bn.op){case"==":case"in":Bt.set($t.fieldPath.canonicalString(),bn.value);break;case"not-in":case"!=":return Bt.set($t.fieldPath.canonicalString(),bn.value),Array.from(Bt.values())}return null}(b,_),B=function(it,tt){const Bt=[];let $t=!0;for(const bn of rp(tt)){const Wr=0===bn.kind?KF(it,bn.fieldPath,it.startAt):QF(it,bn.fieldPath,it.startAt);if(!Wr.value)return null;Bt.push(Wr.value),$t&&($t=Wr.inclusive)}return new ch(Bt,$t)}(b,_),U=function(it,tt){const Bt=[];let $t=!0;for(const bn of rp(tt)){const Wr=0===bn.kind?QF(it,bn.fieldPath,it.endAt):KF(it,bn.fieldPath,it.endAt);if(!Wr.value)return null;Bt.push(Wr.value),$t&&($t=Wr.inclusive)}return new ch(Bt,$t)}(b,_),ee=this.je(_,b,B),Ce=this.je(_,b,U),$e=this.We(_,b,O),rt=this.ze(_.indexId,A,ee,!!B&&B.inclusive,Ce,!!U&&U.inclusive,$e);return pe.forEach(rt,it=>i.Gt(it,e.limit).next(tt=>{tt.forEach(Bt=>{const $t=Ge.fromSegments(Bt.documentKey);u.has($t)||(u=u.add($t),f.push($t))})}))}).next(()=>f)}return pe.resolve(null)})}Qe(t){let e=this.Ge.get(t);return e||(e=[t],this.Ge.set(t,e),e)}ze(t,e,i,r,a,u,f){const _=(null!=e?e.length:1)*Math.max(null!=i?i.length:1,null!=a?a.length:1),b=_/(null!=e?e.length:1),T=[];for(let A=0;A<_;++A){const O=e?this.He(e[A/b]):$g,B=i?this.Je(t,O,i[A%b],r):this.Ye(t),U=a?this.Xe(t,O,a[A%b],u):this.Ye(t+1);T.push(...this.createRange(B,U,f.map(ee=>this.Je(t,O,ee,!0))))}return T}Je(t,e,i,r){const a=new hh(t,Ge.empty(),e,i);return r?a:a.ke()}Xe(t,e,i,r){const a=new hh(t,Ge.empty(),e,i);return r?a.ke():a}Ye(t){return new hh(t,Ge.empty(),$g,$g)}getFieldIndex(t,e){const i=new m$(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{const u=a.filter(f=>i.$e(f));return u.sort((f,_)=>_.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(t,e){const i=new Gb;for(const r of rp(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const u=i.Ne(r.kind);fp.fe.Zt(a,u)}return i.Se()}He(t){const e=new Gb;return fp.fe.Zt(t,e.Ne(0)),e.Se()}tn(t,e){const i=new Gb;return fp.fe.Zt(ip(this.databaseId,e),i.Ne(function(r){const a=rp(r);return 0===a.length?0:a[a.length-1].kind}(t))),i.Se()}We(t,e,i){if(null===i)return[];let r=[];r.push(new Gb);let a=0;for(const u of rp(t)){const f=i[a++];for(const _ of r)if(this.en(e,u.fieldPath)&&Tb(f))r=this.nn(r,u,f);else{const b=_.Ne(u.kind);fp.fe.Zt(f,b)}}return this.sn(r)}je(t,e,i){return null==i?null:this.We(t,e,i.position)}sn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Se();return e}nn(t,e,i){const r=[...t],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new Gb;_.seed(f.Se()),fp.fe.Zt(u,_.Ne(e.kind)),a.push(_)}return a}en(t,e){return!!t.filters.find(i=>i instanceof zr&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=oD(t),r=aD(t);return(e?i.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.qt()).next(a=>{const u=[];return pe.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(b,T){const A=T?new Sb(T.sequenceNumber,new wu(hp(T.readTime),new Ge(tc(T.documentKey)),T.largestBatchId)):Sb.empty(),O=b.fields.map(([B,U])=>new qE(wr.fromServerFormat(B),U));return new zE(b.indexId,b.collectionGroup,O,A)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Gt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=oD(t),a=aD(t);return this.rn(t).next(u=>r.qt("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(f=>pe.forEach(f,_=>{return a.put({indexId:_.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:dp((O=i).readTime),documentKey:Vs(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(t,e){const i=new Map;return pe.forEach(e,(r,a)=>{const u=i.get(r.collectionGroup);return(u?pe.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),pe.forEach(f,_=>this.on(t,r,_).next(b=>{const T=this.un(a,_);return b.isEqual(T)?pe.resolve():this.an(t,a,_,b,T)}))))})}cn(t,e,i,r){return $b(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,e.key),documentKey:e.key.path.toArray()})}hn(t,e,i,r){return $b(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,e.key),e.key.path.toArray()])}on(t,e,i){const r=$b(t);let a=new Yn(pp);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,e)])},(u,f)=>{a=a.add(new hh(i.indexId,e,f.arrayValue,f.directionalValue))}).next(()=>a)}un(t,e){let i=new Yn(pp);const r=this.Ze(e,t);if(null==r)return i;const a=jA(e);if(null!=a){const u=t.data.field(a.fieldPath);if(Tb(u))for(const f of u.arrayValue.values||[])i=i.add(new hh(e.indexId,t.key,this.He(f),r))}else i=i.add(new hh(e.indexId,t.key,$g,r));return i}an(t,e,i,r,a){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(f,_,b,T,A){const O=f.getIterator(),B=_.getIterator();let U=Ug(O),ee=Ug(B);for(;U||ee;){let Ce=!1,$e=!1;if(U&&ee){const rt=b(U,ee);rt<0?$e=!0:rt>0&&(Ce=!0)}else null!=U?$e=!0:Ce=!0;Ce?(T(ee),ee=Ug(B)):$e?(A(U),U=Ug(O)):(U=Ug(O),ee=Ug(B))}}(r,a,pp,f=>{u.push(this.cn(t,e,i,f))},f=>{u.push(this.hn(t,e,i,f))}),pe.waitFor(u)}rn(t){let e=1;return aD(t).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,f)=>pp(u,f)).filter((u,f,_)=>!f||0!==pp(u,_[f-1]));const r=[];r.push(t);for(const u of i){const f=pp(u,t),_=pp(u,e);if(0===f)r[0]=t.ke();else if(f>0&&_<0)r.push(u),r.push(u.ke());else if(_>0)break}r.push(e);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,$g,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,$g,[]]));return a}}function tB(n){return Er(n,"collectionParents")}function $b(n){return Er(n,"indexEntries")}function oD(n){return Er(n,"indexConfiguration")}function aD(n){return Er(n,"indexState")}const nB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new yo(t,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function iB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let f=0;const _=i.Wt({range:u},(T,A,O)=>(f++,O.delete()));a.push(_.next(()=>{Ot(1===f)}));const b=[];for(const T of e.mutations){const A=UL(t,T.key.path,e.batchId);a.push(r.delete(A)),b.push(T.key)}return pe.waitFor(a).next(()=>b)}function lD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ot();t=n.noDocument}return JSON.stringify(t).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class lM{constructor(t,e,i,r){this.userId=t,this.M=e,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(t,e,i,r){Ot(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new lM(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fh(t).Wt({index:"userMutationsIndex",range:i},(r,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=zg(t),u=fh(t);return u.add({}).next(f=>{Ot("number"==typeof f);const _=new tM(f,e,i,r),b=function(O,B,U){const ee=U.baseMutations.map($e=>Vb(O.Jt,$e)),Ce=U.mutations.map($e=>Vb(O.Jt,$e));return{userId:B,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:ee,mutations:Ce}}(this.M,this.userId,_),T=[];let A=new Yn((O,B)=>Gt(O.canonicalString(),B.canonicalString()));for(const O of r){const B=UL(this.userId,O.key.path,f);A=A.add(O.key.path.popLast()),T.push(u.put(b)),T.push(a.put(B,$3))}return A.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(()=>{this.ln[f]=_.keys()}),pe.waitFor(T).next(()=>_)})}lookupMutationBatch(t,e){return fh(t).get(e).next(i=>i?(Ot(i.userId===this.userId),Gg(this.M,i)):null)}fn(t,e){return this.ln[e]?pe.resolve(this.ln[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.ln[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return fh(t).Wt({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(Ot(f.batchId>=i),a=Gg(this.M,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return fh(t).Wt({index:"userMutationsIndex",range:e,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fh(t).qt("userMutationsIndex",e).next(i=>i.map(r=>Gg(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=iD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return zg(t).Wt({range:r},(u,f,_)=>{const[b,T,A]=u,O=tc(T);if(b===this.userId&&e.path.isEqual(O))return fh(t).get(A).next(B=>{if(!B)throw ot();Ot(B.userId===this.userId),a.push(Gg(this.M,B))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(Gt);const r=[];return e.forEach(a=>{const u=iD(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=zg(t).Wt({range:f},(b,T,A)=>{const[O,B,U]=b,ee=tc(B);O===this.userId&&a.path.isEqual(ee)?i=i.add(U):A.done()});r.push(_)}),pe.waitFor(r).next(()=>this.dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=iD(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Yn(Gt);return zg(t).Wt({range:u},(_,b,T)=>{const[A,O,B]=_,U=tc(O);A===this.userId&&i.isPrefixOf(U)?U.length===r&&(f=f.add(B)):T.done()}).next(()=>this.dn(t,f))}dn(t,e){const i=[],r=[];return e.forEach(a=>{r.push(fh(t).get(a).next(u=>{if(null===u)throw ot();Ot(u.userId===this.userId),i.push(Gg(this.M,u))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return iB(t.Ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this._n(e.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}_n(t){delete this.ln[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return zg(t).Wt({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=tc(a[1]);r.push(_)}else f.done()}).next(()=>{Ot(0===r.length)})})}containsKey(t,e){return rB(t,this.userId,e)}wn(t){return sB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function rB(n,t,e){const i=iD(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return zg(n).Wt({range:a,jt:!0},(f,_,b)=>{const[T,A,O]=f;T===t&&A===r&&(u=!0),b.done()}).next(()=>u)}function fh(n){return Er(n,"mutations")}function zg(n){return Er(n,"documentMutations")}function sB(n){return Er(n,"mutationQueues")}class mp{constructor(t){this.mn=t}next(){return this.mn+=2,this.mn}static gn(){return new mp(0)}static yn(){return new mp(-1)}}class y${constructor(t,e){this.referenceDelegate=t,this.M=e}allocateTargetId(t){return this.pn(t).next(e=>{const i=new mp(e.highestTargetId);return e.highestTargetId=i.next(),this.In(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.pn(t).next(e=>xt.fromTimestamp(new Ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.pn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.pn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.In(t,r)))}addTargetData(t,e){return this.Tn(t,e).next(()=>this.pn(t).next(i=>(i.targetCount+=1,this.En(e,i),this.In(t,i))))}updateTargetData(t,e){return this.Tn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>qg(t).delete(e.targetId)).next(()=>this.pn(t)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.In(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return qg(t).Wt((u,f)=>{const _=Hb(f);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(t,_)))}).next(()=>pe.waitFor(a)).next(()=>r)}forEachTarget(t,e){return qg(t).Wt((i,r)=>{const a=Hb(r);e(a)})}pn(t){return oB(t).get("targetGlobalKey").next(e=>(Ot(null!==e),e))}In(t,e){return oB(t).put("targetGlobalKey",e)}Tn(t,e){return qg(t).put(YL(this.M,e))}En(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.pn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=sp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return qg(t).Wt({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const b=Hb(f);xb(e,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=ph(t);return e.forEach(u=>{const f=Vs(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(t,i,u))}),pe.waitFor(r)}removeMatchingKeys(t,e,i){const r=ph(t);return pe.forEach(e,a=>{const u=Vs(a.path);return pe.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=ph(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=ph(t);let a=Dn();return r.Wt({range:i,jt:!0},(u,f,_)=>{const b=tc(u[1]),T=new Ge(b);a=a.add(T)}).next(()=>a)}containsKey(t,e){const i=Vs(e.path),r=IDBKeyRange.bound([i],[PF(i)],!1,!0);let a=0;return ph(t).Wt({index:"documentTargetsIndex",jt:!0,range:r},([u,f],_,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(t,e){return qg(t).get(e).next(i=>i?Hb(i):null)}}function qg(n){return Er(n,"targets")}function oB(n){return Er(n,"targetGlobal")}function ph(n){return Er(n,"targetDocuments")}function gp(n){return cM.apply(this,arguments)}function cM(){return cM=(0,ve.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==GL)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),cM.apply(this,arguments)}function aB([n,t],[e,i]){const r=Gt(n,e);return 0===r?Gt(t,i):r}class v${constructor(t){this.An=t,this.buffer=new Yn(aB),this.Rn=0}Pn(){return++this.Rn}bn(t){const e=[t,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();aB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class b${constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.Vn=!1,this.vn=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(t)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(t){var e=this;const i=this.Vn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,ve.Z)(function*(){e.vn=null,e.Vn=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(r){cp(r)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield gp(r)}yield e.Sn(t)}))}}class w${constructor(t,e){this.Dn=t,this.params=e}calculateTargetCount(t,e){return this.Dn.Cn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return pe.resolve(Qo.A);const i=new v$(e);return this.Dn.forEachTarget(t,r=>i.bn(r.sequenceNumber)).next(()=>this.Dn.xn(t,r=>i.bn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Dn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Dn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(nB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nB):this.Nn(t,e))}getCacheSize(t){return this.Dn.getCacheSize(t)}Nn(t,e){let i,r,a,u,f,_,b;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),r=this.params.maximumSequenceNumbersToCollect):r=A,u=Date.now(),this.nthSequenceNumber(t,r))).next(A=>(i=A,f=Date.now(),this.removeTargets(t,i,e))).next(A=>(a=A,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(A=>(b=Date.now(),LA()<=ih.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${A} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:A})))}}class C${constructor(t,e){this.db=t,this.garbageCollector=new w$(this,e)}Cn(t){const e=this.kn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}kn(t){let e=0;return this.xn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}xn(t,e){return this.Mn(t,(i,r)=>e(r))}addReference(t,e,i){return cD(t,i)}removeReference(t,e,i){return cD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return cD(t,e)}On(t,e){return function(i,r){let a=!1;return sB(i).zt(u=>rB(i,u,r).next(f=>(f&&(a=!0),pe.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Mn(t,(u,f)=>{if(f<=e){const _=this.On(t,u).next(b=>{if(!b)return a++,i.getEntry(t,u).next(()=>(i.removeEntry(u,xt.min()),ph(t).delete([0,Vs(u.path)])))});r.push(_)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return cD(t,e)}Mn(t,e){const i=ph(t);let r,a=Qo.A;return i.Wt({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:b})=>{0===u?(a!==Qo.A&&e(new Ge(tc(r)),a),a=b,r=_):a=Qo.A}).next(()=>{a!==Qo.A&&e(new Ge(tc(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function cD(n,t){return ph(n).put((i=n.currentSequenceNumber,{targetId:0,path:Vs(t.path),sequenceNumber:i}));var i}class lB{constructor(){this.changes=new uh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Zn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?pe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class E${constructor(t){this.M=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return _p(t).put(i)}removeEntry(t,e,i){return _p(t).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],sD(a),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Fn(t,i)))}getEntry(t,e){let i=Zn.newInvalidDocument(e);return _p(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(zb(e))},(r,a)=>{i=this.$n(e,a)}).next(()=>i)}Bn(t,e){let i={size:0,document:Zn.newInvalidDocument(e)};return _p(t).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(zb(e))},(r,a)=>{i={document:this.$n(e,a),size:lD(a)}}).next(()=>i)}getEntries(t,e){let i=ka();return this.Ln(t,e,(r,a)=>{const u=this.$n(r,a);i=i.insert(r,u)}).next(()=>i)}Un(t,e){let i=ka(),r=new Oi(Ge.comparator);return this.Ln(t,e,(a,u)=>{const f=this.$n(a,u);i=i.insert(a,f),r=r.insert(a,lD(u))}).next(()=>({documents:i,qn:r}))}Ln(t,e,i){if(e.isEmpty())return pe.resolve();let r=new Yn(dB);e.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(zb(r.first()),zb(r.last())),u=r.getIterator();let f=u.getNext();return _p(t).Wt({index:"documentKeyIndex",range:a},(_,b,T)=>{const A=Ge.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&dB(f,A)<0;)i(f,null),f=u.getNext();f&&f.isEqual(A)&&(i(f,b),f=u.hasNext()?u.getNext():null),f?T.Ut(zb(f)):T.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),sD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _p(t).qt(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=ka();for(const _ of u){const b=this.$n(Ge.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(t,e,i,r){let a=ka();const u=uB(e,i),f=uB(e,wu.max());return _p(t).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,b,T)=>{const A=this.$n(Ge.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===r&&T.done()}).next(()=>a)}newChangeBuffer(t){return new D$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return cB(t).get("remoteDocumentGlobalKey").next(e=>(Ot(!!e),e))}Fn(t,e){return cB(t).put("remoteDocumentGlobalKey",e)}$n(t,e){if(e){const i=function c$(n,t){let e;if(t.document)e=RL(n.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Ge.fromSegments(t.noDocument.path),r=hp(t.noDocument.readTime);e=Zn.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ot();{const i=Ge.fromSegments(t.unknownDocument.path),r=hp(t.unknownDocument.version);e=Zn.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ri(i[0],i[1]);return xt.fromTimestamp(r)}(t.readTime)),e}(this.M,e);if(!i.isNoDocument()||!i.version.isEqual(xt.min()))return i}return Zn.newInvalidDocument(t)}}class D$ extends lB{constructor(t,e){super(),this.Kn=t,this.trackRemovals=e,this.Gn=new uh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Yn((a,u)=>Gt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(e.push(this.Kn.removeEntry(t,a,f.readTime)),u.isValidDocument()){const _=ZL(this.Kn.M,u);r=r.add(a.path.popLast()),i+=lD(_)-f.size,e.push(this.Kn.addEntry(t,a,_))}else if(i-=f.size,this.trackRemovals){const _=ZL(this.Kn.M,u.convertToNoDocument(xt.min()));e.push(this.Kn.addEntry(t,a,_))}}),r.forEach(a=>{e.push(this.Kn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.Kn.updateMetadata(t,i)),pe.waitFor(e)}getFromCache(t,e){return this.Kn.Bn(t,e).next(i=>(this.Gn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Kn.Un(t,e).next(({documents:i,qn:r})=>(r.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function cB(n){return Er(n,"remoteDocumentGlobal")}function _p(n){return Er(n,"remoteDocumentsV14")}function zb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function uB(n,t){const e=t.documentKey.path.toArray();return[n,sD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function dB(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let a=0;a<e.length-2&&a<i.length-2;++a)if(r=Gt(e[a],i[a]),r)return r;return r=Gt(e.length,i.length),r||(r=Gt(e[e.length-2],i[i.length-2]),r||Gt(e[e.length-1],i[i.length-1]))}class T${constructor(t){this.M=t}kt(t,e,i,r){const a=new rD("createOrUpgrade",e);var f;i<1&&r>=1&&(t.createObjectStore("owner"),(f=t).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VL,{unique:!0}),f.createObjectStore("documentMutations"),hB(t),function(f){f.createObjectStore("remoteDocuments")}(t));let u=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(t),hB(t)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VL,{unique:!0});const T=_.store("mutations"),A=b.map(O=>T.put(O));return pe.waitFor(A)})}(t,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Qn(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(t),this.jn(a)))),i<7&&r>=7&&(u=u.next(()=>this.Wn(a))),i<8&&r>=8&&(u=u.next(()=>this.zn(t,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Hn(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:n$});_.createIndex("collectionPathOverlayIndex",i$,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",r$,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:z3});_.createIndex("documentKeyIndex",q3),_.createIndex("collectionGroupIndex",W3)}(t)).next(()=>this.Jn(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:J3}).createIndex("sequenceNumberIndex",X3,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:e$}).createIndex("documentKeyIndex",t$,{unique:!1})}(t)})),u}jn(t){let e=0;return t.store("remoteDocuments").Wt((i,r)=>{e+=lD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.qt().next(r=>pe.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",u).next(f=>pe.forEach(f,_=>{Ot(_.userId===a.userId);const b=Gg(this.M,_);return iB(t,a.userId,b).next(()=>{})}))}))}Wn(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Wt((u,f)=>{const _=new dn(u),b=[0,Vs(_)];a.push(e.get(b).next(T=>T?pe.resolve():e.put({targetId:0,path:Vs(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(a))})}zn(t,e){t.createObjectStore("collectionParents",{keyPath:Q3});const i=e.store("collectionParents"),r=new aM,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Vs(_)})}};return e.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const _=new dn(u);return a(_.popLast())}).next(()=>e.store("documentMutations").Wt({jt:!0},([u,f,_],b)=>{const T=tc(f);return a(T.popLast())}))}Hn(t){const e=t.store("targets");return e.Wt((i,r)=>{const a=Hb(r),u=YL(this.M,a);return e.put(u)})}Jn(t,e){const i=e.store("remoteDocuments"),r=[];return i.Wt((a,u)=>{const f=e.store("remoteDocumentsV14"),_=(b=u,b.document?new Ge(dn.fromString(b.document.name).popFirst(5)):b.noDocument?Ge.fromSegments(b.noDocument.path):b.unknownDocument?Ge.fromSegments(b.unknownDocument.path):ot()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(T))}).next(()=>pe.waitFor(r))}}function hB(n){n.createObjectStore("targetDocuments",{keyPath:Y3}).createIndex("documentTargetsIndex",K3,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Z3,{unique:!0}),n.createObjectStore("targetGlobal")}const uM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dM{constructor(t,e,i,r,a,u,f,_,b,T,A=13){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Yn=a,this.window=u,this.document=f,this.Xn=b,this.Zn=T,this.ts=A,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=O=>Promise.resolve(),!dM.vt())throw new ke(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C$(this,r),this.hs=e+"main",this.M=new WL(_),this.ls=new cl(this.hs,this.ts,new T$(this.M)),this.fs=new y$(this.referenceDelegate,this.M),this.ds=new E$(this.M),this._s=new u$,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,uM);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.fs.getHighestSequenceNumber(t))}).then(t=>{this.es=new Qo(t,this.Xn)}).then(()=>{this.ns=!0}).catch(t=>(this.ls&&this.ls.close(),Promise.reject(t)))}Ts(t){var e=this;return this.cs=function(){var i=(0,ve.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ls.Ot(function(){var e=(0,ve.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Yn.enqueueAndForget((0,ve.Z)(function*(){e.started&&(yield e.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>uD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(t).next(e=>{e||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(t)).next(e=>this.isPrimary&&!e?this.Rs(t).next(()=>!1):!!e&&this.Ps(t).next(()=>!0))).catch(t=>{if(cp(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Yn.enqueueRetryable(()=>this.cs(t)),this.isPrimary=t})}Es(t){return qb(t).get("owner").next(e=>pe.resolve(this.bs(e)))}Vs(t){return uD(t).delete(this.clientId)}vs(){var t=this;return(0,ve.Z)(function*(){if(t.isPrimary&&!t.Ss(t.us,18e5)){t.us=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Er(i,"clientMetadata");return r.qt().next(a=>{const u=t.Ds(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return pe.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(t.ws)for(const i of e)t.ws.removeItem(t.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}bs(t){return!!t&&t.ownerId===this.clientId}As(t){return this.Zn?pe.resolve(!0):qb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)){if(this.bs(e)&&this.networkEnabled)return!0;if(!this.bs(e)){if(!e.allowTabSynchronization)throw new ke(de.FAILED_PRECONDITION,uM);return!1}}return!(!this.networkEnabled||!this.inForeground)||uD(t).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ve.Z)(function*(){t.ns=!1,t.Ns(),t.os&&(t.os.cancel(),t.os=null),t.ks(),t.Ms(),yield t.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new qL(e,Qo.A);return t.Rs(i).next(()=>t.Vs(i))}),t.ls.close(),t.Os()})()}Ds(t,e){return t.filter(i=>this.Ss(i.updateTimeMs,e)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",t=>uD(t).qt().next(e=>this.Ds(e,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(t,e){return lM.Yt(t,this.M,e,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(t){return new _$(t,this.M.Jt.databaseId)}getDocumentOverlayCache(t){return oM.Yt(this.M,t)}getBundleCache(){return this._s}runTransaction(t,e,i){Fe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=14===(u=this.ts)?o$:13===u?jL:12===u?s$:11===u?HL:void ot();var u;let f;return this.ls.runTransaction(t,r,a,_=>(f=new qL(_,this.es?this.es.next():Qo.A),"readwrite-primary"===e?this.Es(f).next(b=>!!b||this.As(f)).next(b=>{if(!b)throw zi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ke(de.FAILED_PRECONDITION,GL);return i(f)}).next(b=>this.Ps(f).next(()=>b)):this.$s(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}$s(t){return qb(t).get("owner").next(e=>{if(null!==e&&this.Ss(e.leaseTimestampMs,5e3)&&!this.xs(e.ownerId)&&!this.bs(e)&&!(this.Zn||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(de.FAILED_PRECONDITION,uM)})}Ps(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qb(t).put("owner",e)}static vt(){return cl.vt()}Rs(t){const e=qb(t);return e.get("owner").next(i=>this.bs(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):pe.resolve())}Ss(t,e){const i=Date.now();return!(t<i-e||t>i&&(zi(`Detected an update time that is in the future: ${t} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(t){var e;try{const i=null!==(null===(e=this.ws)||void 0===e?void 0:e.getItem(this.Cs(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return zi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(t){zi("Failed to set zombie client id.",t)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(t){}}Cs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function qb(n){return Er(n,"owner")}function uD(n){return Er(n,"clientMetadata")}function hM(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class I${constructor(t,e,i){this.ds=t,this.Bs=e,this.indexManager=i}Ls(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKey(t,e).next(i=>this.Us(t,e,i))}Us(t,e,i){return this.ds.getEntry(t,e).next(r=>{for(const a of i)a.applyToLocalView(r);return r})}qs(t,e){t.forEach((i,r)=>{for(const a of e)a.applyToLocalView(r)})}Ks(t,e){return this.ds.getEntries(t,e).next(i=>this.Gs(t,i).next(()=>i))}Gs(t,e){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(t,e).next(i=>this.qs(e,i))}Qs(t,e,i){return Ge.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(t,e.path):zA(e)?this.Ws(t,e,i):this.zs(t,e,i);var r}js(t,e){return this.Ls(t,new Ge(e)).next(i=>{let r=KA();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(t,e,i){const r=e.collectionGroup;let a=KA();return this.indexManager.getCollectionParents(t,r).next(u=>pe.forEach(u,f=>{const _=(b=e,T=f.child(r),new Cu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.zs(t,_,i).next(b=>{b.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}zs(t,e,i){let r;return this.ds.getAllFromCollection(t,e.path,i).next(a=>(r=a,this.Bs.getAllMutationBatchesAffectingQuery(t,e))).next(a=>{for(const u of a)for(const f of u.mutations){const _=f.key;let b=r.get(_);null==b&&(b=Zn.newInvalidDocument(_),r=r.insert(_,b)),ZA(f,b,u.localWriteTime),b.isFoundDocument()||(r=r.remove(_))}}).next(()=>(r.forEach((a,u)=>{WA(e,u)||(r=r.remove(a))}),r))}}class fM{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Hs=i,this.Js=r}static Ys(t,e){let i=Dn(),r=Dn();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new fM(t,e.fromCache,i,r)}}class fB{Xs(t){this.Zs=t}Qs(t,e,i,r){return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||i.isEqual(xt.min())?this.ti(t,e):this.Zs.Ks(t,r).next(a=>{const u=this.ei(e,a);return(YE(e)||KE(e))&&this.ni(e.limitType,u,r,i)?this.ti(t,e):(LA()<=ih.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qA(e)),this.Zs.Qs(t,e,ZF(i,-1)).next(f=>(u.forEach(_=>{f=f.insert(_.key,_)}),f)))});var a}ei(t,e){let i=new Yn(sL(t));return e.forEach((r,a)=>{WA(t,a)&&(i=i.add(a))}),i}ni(t,e,i,r){if(i.size!==e.size)return!0;const a="F"===t?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}ti(t,e){return LA()<=ih.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",qA(e)),this.Zs.Qs(t,e,wu.min())}}class S${constructor(t,e,i,r){this.persistence=t,this.si=e,this.M=r,this.ii=new Oi(Gt),this.ri=new uh(a=>sp(a),xb),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(i)}ai(t){this.indexManager=this.persistence.getIndexManager(t),this.Bs=this.persistence.getMutationQueue(t,this.indexManager),this.ci=new I$(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ii))}}function pB(n,t,e,i){return new S$(n,t,e,i)}function mB(n,t){return pM.apply(this,arguments)}function pM(){return pM=(0,ve.Z)(function*(n,t){const e=qe(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.Bs.getAllMutationBatches(i).next(a=>(r=a,e.ai(t),e.Bs.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Dn();for(const b of r){u.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return e.ci.Ks(i,_).next(b=>({hi:b,removedBatchIds:u,addedBatchIds:f}))})})}),pM.apply(this,arguments)}function x$(n,t){const e=qe(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,b){const T=_.batch,A=T.keys();let O=pe.resolve();return A.forEach(B=>{O=O.next(()=>b.getEntry(f,B)).next(U=>{const ee=_.docVersions.get(B);Ot(null!==ee),U.version.compareTo(ee)<0&&(T.applyToRemoteDocument(U,_),U.isValidDocument()&&(U.setReadTime(_.commitVersion),b.addEntry(U)))})}),O.next(()=>u.Bs.removeMutationBatch(f,T))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.Bs.performConsistencyCheck(i)).next(()=>e.ci.Ks(i,r))})}function gB(n){const t=qe(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.fs.getLastRemoteSnapshotVersion(e))}function A$(n,t){const e=qe(n),i=t.snapshotVersion;let r=e.ii;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.ui.newChangeBuffer({trackRemovals:!0});r=e.ii;const f=[];t.targetChanges.forEach((b,T)=>{const A=r.get(T);if(!A)return;f.push(e.fs.removeMatchingKeys(a,b.removedDocuments,T).next(()=>e.fs.addMatchingKeys(a,b.addedDocuments,T)));let O=A.withSequenceNumber(a.currentSequenceNumber);var B,U,ee;t.targetMismatches.has(T)?O=O.withResumeToken(or.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,i)),r=r.insert(T,O),U=O,ee=b,(0===(B=A).resumeToken.approximateByteSize()||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(e.fs.updateTargetData(a,O))});let _=ka();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(_B(a,u,t.documentUpdates).next(b=>{_=b})),!i.isEqual(xt.min())){const b=e.fs.getLastRemoteSnapshotVersion(a).next(T=>e.fs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(b)}return pe.waitFor(f).next(()=>u.apply(a)).next(()=>e.ci.Gs(a,_)).next(()=>_)}).then(a=>(e.ii=r,a))}function _B(n,t,e){let i=Dn();return e.forEach(r=>i=i.add(r)),t.getEntries(n,i).next(r=>{let a=ka();return e.forEach((u,f)=>{const _=r.get(u);f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(u,f.readTime),a=a.insert(u,f)):!_.isValidDocument()||f.version.compareTo(_.version)>0||0===f.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(f),a=a.insert(u,f)):Fe("LocalStore","Ignoring outdated watch update for ",u,". Current version:",_.version," Watch version:",f.version)}),a})}function M$(n,t){const e=qe(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.Bs.getNextMutationBatchAfterBatchId(i,t)))}function Wg(n,t){const e=qe(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.fs.getTargetData(i,t).next(a=>a?(r=a,pe.resolve(r)):e.fs.allocateTargetId(i).next(u=>(r=new dh(t,u,0,i.currentSequenceNumber),e.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ii.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ii=e.ii.insert(i.targetId,i),e.ri.set(t,i.targetId)),i})}function Zg(n,t,e){return mM.apply(this,arguments)}function mM(){return mM=(0,ve.Z)(function*(n,t,e){const i=qe(n),r=i.ii.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!cp(u))throw u;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.ii=i.ii.remove(t),i.ri.delete(r.target)}),mM.apply(this,arguments)}function dD(n,t,e){const i=qe(n);let r=xt.min(),a=Dn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,b){const T=qe(f),A=T.ri.get(b);return void 0!==A?pe.resolve(T.ii.get(A)):T.fs.getTargetData(_,b)}(i,u,Ma(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.si.Qs(u,t,e?r:xt.min(),e?a:Dn())).next(f=>(bB(i,rL(t),f),{documents:f,li:a})))}function yB(n,t){const e=qe(n),i=qe(e.fs),r=e.ii.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.Et(a,t).next(u=>u?u.target:null))}function vB(n,t){const e=qe(n),i=e.oi.get(t)||xt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.ui.getAllFromCollectionGroup(r,t,ZF(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(bB(e,t,r),r))}function bB(n,t,e){let i=xt.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.oi.set(t,i)}function gM(){return gM=(0,ve.Z)(function*(n,t,e,i){const r=qe(n);let a=Dn(),u=ka();for(const b of e){const T=t.fi(b.metadata.name);b.document&&(a=a.add(T));const A=t.di(b);A.setReadTime(t._i(b.metadata.readTime)),u=u.insert(T,A)}const f=r.ui.newChangeBuffer({trackRemovals:!0}),_=yield Wg(r,(b=i,Ma(Fg(dn.fromString(`__bundle__/docs/${b}`)))));var b;return r.persistence.runTransaction("Apply bundle documents","readwrite",b=>_B(b,f,u).next(T=>(f.apply(b),T)).next(T=>r.fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>r.fs.addMatchingKeys(b,a,_.targetId)).next(()=>r.ci.Gs(b,T)).next(()=>T)))}),gM.apply(this,arguments)}function R$(n,t){return _M.apply(this,arguments)}function _M(){return _M=(0,ve.Z)(function*(n,t,e=Dn()){const i=yield Wg(n,Ma(rM(t.bundledQuery))),r=qe(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Cr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r._s.saveNamedQuery(a,t);const f=i.withResumeToken(or.EMPTY_BYTE_STRING,u);return r.ii=r.ii.insert(f.targetId,f),r.fs.updateTargetData(a,f).next(()=>r.fs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.fs.addMatchingKeys(a,e,i.targetId)).next(()=>r._s.saveNamedQuery(a,t))})}),_M.apply(this,arguments)}class O${constructor(t){this.M=t,this.wi=new Map,this.mi=new Map}getBundleMetadata(t,e){return pe.resolve(this.wi.get(e))}saveBundleMetadata(t,e){var i;return this.wi.set(e.id,{id:(i=e).id,version:i.version,createTime:Cr(i.createTime)}),pe.resolve()}getNamedQuery(t,e){return pe.resolve(this.mi.get(e))}saveNamedQuery(t,e){return this.mi.set(e.name,{name:(i=e).name,query:rM(i.bundledQuery),readTime:Cr(i.readTime)}),pe.resolve();var i}}class P${constructor(){this.overlays=new Oi(Ge.comparator),this.gi=new Map}getOverlay(t,e){return pe.resolve(this.overlays.get(e))}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.Xt(t,e,a)}),pe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.gi.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.gi.delete(i)),pe.resolve()}getOverlaysForCollection(t,e,i){const r=Ob(),a=e.length+1,u=new Ge(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!e.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return pe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Oi((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===e&&b.largestBatchId>i){let T=a.get(b.largestBatchId);null===T&&(T=Ob(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=Ob(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=r)););return pe.resolve(f)}Xt(t,e,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const u=this.gi.get(r.largestBatchId).delete(i.key);this.gi.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new iM(e,i));let a=this.gi.get(e);void 0===a&&(a=Dn(),this.gi.set(e,a)),this.gi.set(e,a.add(i.key))}}class yM{constructor(){this.yi=new Yn(Dr.pi),this.Ii=new Yn(Dr.Ti)}isEmpty(){return this.yi.isEmpty()}addReference(t,e){const i=new Dr(t,e);this.yi=this.yi.add(i),this.Ii=this.Ii.add(i)}Ei(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ai(new Dr(t,e))}Ri(t,e){t.forEach(i=>this.removeReference(i,e))}Pi(t){const e=new Ge(new dn([])),i=new Dr(e,t),r=new Dr(e,t+1),a=[];return this.Ii.forEachInRange([i,r],u=>{this.Ai(u),a.push(u.key)}),a}bi(){this.yi.forEach(t=>this.Ai(t))}Ai(t){this.yi=this.yi.delete(t),this.Ii=this.Ii.delete(t)}Vi(t){const e=new Ge(new dn([])),i=new Dr(e,t),r=new Dr(e,t+1);let a=Dn();return this.Ii.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new Dr(t,0),i=this.yi.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Dr{constructor(t,e){this.key=t,this.vi=e}static pi(t,e){return Ge.comparator(t.key,e.key)||Gt(t.vi,e.vi)}static Ti(t,e){return Gt(t.vi,e.vi)||Ge.comparator(t.key,e.key)}}class N${constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.Bs=[],this.Si=1,this.Di=new Yn(Dr.pi)}checkEmpty(t){return pe.resolve(0===this.Bs.length)}addMutationBatch(t,e,i,r){const a=this.Si;this.Si++;const u=new tM(a,e,i,r);this.Bs.push(u);for(const f of r)this.Di=this.Di.add(new Dr(f.key,a)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return pe.resolve(u)}lookupMutationBatch(t,e){return pe.resolve(this.Ci(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.xi(e+1),a=r<0?0:r;return pe.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.Bs.length?-1:this.Si-1)}getAllMutationBatches(t){return pe.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Dr(e,0),r=new Dr(e,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([i,r],u=>{const f=this.Ci(u.vi);a.push(f)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Yn(Gt);return e.forEach(r=>{const a=new Dr(r,0),u=new Dr(r,Number.POSITIVE_INFINITY);this.Di.forEachInRange([a,u],f=>{i=i.add(f.vi)})}),pe.resolve(this.Ni(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Ge.isDocumentKey(a)||(a=a.child(""));const u=new Dr(new Ge(a),0);let f=new Yn(Gt);return this.Di.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===r&&(f=f.add(_.vi)),!0)},u),pe.resolve(this.Ni(f))}Ni(t){const e=[];return t.forEach(i=>{const r=this.Ci(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ot(0===this.ki(e.batchId,"removed")),this.Bs.shift();let i=this.Di;return pe.forEach(e.mutations,r=>{const a=new Dr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Di=i})}_n(t){}containsKey(t,e){const i=new Dr(e,0),r=this.Di.firstAfterOrEqual(i);return pe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return pe.resolve()}ki(t,e){return this.xi(t)}xi(t){return 0===this.Bs.length?0:t-this.Bs[0].batchId}Ci(t){const e=this.xi(t);return e<0||e>=this.Bs.length?null:this.Bs[e]}}class F${constructor(t){this.Mi=t,this.docs=new Oi(Ge.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,u=this.Mi(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return pe.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(e))}getEntries(t,e){let i=ka();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Zn.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(t,e,i){let r=ka();const a=new Ge(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!e.isPrefixOf(f.path))break;f.path.length>e.length+1||s3(r3(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ot()}Oi(t,e){return pe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new L$(this)}getSize(t){return pe.resolve(this.size)}}class L$ extends lB{constructor(t){super(),this.Kn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Kn.addEntry(t,r)):this.Kn.removeEntry(i)}),pe.waitFor(e)}getFromCache(t,e){return this.Kn.getEntry(t,e)}getAllFromCache(t,e){return this.Kn.getEntries(t,e)}}class B${constructor(t){this.persistence=t,this.Fi=new uh(e=>sp(e),xb),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.$i=0,this.Bi=new yM,this.targetCount=0,this.Li=mp.gn()}forEachTarget(t,e){return this.Fi.forEach((i,r)=>e(r)),pe.resolve()}getLastRemoteSnapshotVersion(t){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pe.resolve(this.$i)}allocateTargetId(t){return this.highestTargetId=this.Li.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$i&&(this.$i=e),pe.resolve()}Tn(t){this.Fi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Li=new mp(e),this.highestTargetId=e),t.sequenceNumber>this.$i&&(this.$i=t.sequenceNumber)}addTargetData(t,e){return this.Tn(e),this.targetCount+=1,pe.resolve()}updateTargetData(t,e){return this.Tn(e),pe.resolve()}removeTargetData(t,e){return this.Fi.delete(e.target),this.Bi.Pi(e.targetId),this.targetCount-=1,pe.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Fi.forEach((u,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Fi.delete(u),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),pe.waitFor(a).next(()=>r)}getTargetCount(t){return pe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Fi.get(e)||null;return pe.resolve(i)}addMatchingKeys(t,e,i){return this.Bi.Ei(e,i),pe.resolve()}removeMatchingKeys(t,e,i){this.Bi.Ri(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(u=>{a.push(r.markPotentiallyOrphaned(t,u))}),pe.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.Bi.Pi(e),pe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Bi.Vi(e);return pe.resolve(i)}containsKey(t,e){return pe.resolve(this.Bi.containsKey(e))}}class V${constructor(t,e){this.Ui={},this.overlays={},this.es=new Qo(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new B$(this),this.indexManager=new g$,this.ds=new F$(i=>this.referenceDelegate.qi(i)),this.M=new WL(e),this._s=new O$(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new P$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ui[t.toKey()];return i||(i=new N$(e,this.referenceDelegate),this.Ui[t.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(t,e,i){Fe("MemoryPersistence","Starting transaction:",t);const r=new U$(this.es.next());return this.referenceDelegate.Ki(),i(r).next(a=>this.referenceDelegate.Gi(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Qi(t,e){return pe.or(Object.values(this.Ui).map(i=>()=>i.containsKey(t,e)))}}class U$ extends $L{constructor(t){super(),this.currentSequenceNumber=t}}class vM{constructor(t){this.persistence=t,this.ji=new yM,this.Wi=null}static zi(t){return new vM(t)}get Hi(){if(this.Wi)return this.Wi;throw ot()}addReference(t,e,i){return this.ji.addReference(i,e),this.Hi.delete(i.toString()),pe.resolve()}removeReference(t,e,i){return this.ji.removeReference(i,e),this.Hi.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(t,e){return this.Hi.add(e.toString()),pe.resolve()}removeTarget(t,e){this.ji.Pi(e.targetId).forEach(r=>this.Hi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.Hi.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Ki(){this.Wi=new Set}Gi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Hi,i=>{const r=Ge.fromPath(i);return this.Ji(t,r).next(a=>{a||e.removeEntry(r,xt.min())})}).next(()=>(this.Wi=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ji(t,e).next(i=>{i?this.Hi.delete(e.toString()):this.Hi.add(e.toString())})}qi(t){return 0}Ji(t,e){return pe.or([()=>pe.resolve(this.ji.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Qi(t,e)])}}function wB(n,t){return`firestore_clients_${n}_${t}`}function CB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function bM(n,t){return`firestore_targets_${n}_${t}`}class hD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Yi(t,e,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new ke(r.error.code,r.error.message))),u?new hD(t,e,r.state,a):(zi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Wb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Yi(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new ke(i.error.code,i.error.message))),a?new Wb(t,i.state,r):(zi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Xi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class fD{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Yi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=tD();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=BF(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new fD(t,a):(zi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class wM{constructor(t,e){this.clientId=t,this.onlineState=e}static Yi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new wM(e.clientId,e.onlineState):(zi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class CM{constructor(){this.activeTargetIds=tD()}Zi(t){this.activeTargetIds=this.activeTargetIds.add(t)}tr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Xi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class EM{constructor(t,e,i,r,a){this.window=t,this.Yn=e,this.persistenceKey=i,this.er=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Oi(Gt),this.started=!1,this.rr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=wB(this.persistenceKey,this.er),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.ir=this.ir.insert(this.er,new CM),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.hr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.lr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.dr=`firestore_online_state_${this.persistenceKey}`,this._r=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}static vt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ve.Z)(function*(){const e=yield t.syncEngine.Fs();for(const r of e){if(r===t.er)continue;const a=t.getItem(wB(t.persistenceKey,r));if(a){const u=fD.Yi(r,a);u&&(t.ir=t.ir.insert(u.clientId,u))}}t.wr();const i=t.storage.getItem(t.dr);if(i){const r=t.mr(i);r&&t.gr(r)}for(const r of t.rr)t.sr(r);t.rr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ar,JSON.stringify(t))}getAllActiveQueryTargets(){return this.yr(this.ir)}isActiveQueryTarget(t){let e=!1;return this.ir.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.pr(t,"pending")}updateMutationState(t,e,i){this.pr(t,e,i),this.Ir(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(bM(this.persistenceKey,t));if(i){const r=Wb.Yi(t,i);r&&(e=r.state)}}return this.Tr.Zi(t),this.wr(),e}removeLocalQueryTarget(t){this.Tr.tr(t),this.wr()}isLocalQueryTarget(t){return this.Tr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(bM(this.persistenceKey,t))}updateQueryState(t,e,i){this.Er(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Ir(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Ar(t)}notifyBundleLoaded(t){this.Rr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}sr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ur)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,ve.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Pr(i.key);return e.br(r,null)}{const r=e.Vr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Sr(r)}}else if(e.lr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(i.key===e.dr){if(null!==i.newValue){const r=e.mr(i.newValue);if(r)return e.gr(r)}}else if(i.key===e.ar){const r=function(a){let u=Qo.A;if(null!=a)try{const f=JSON.parse(a);Ot("number"==typeof f),u=f}catch(f){zi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==Qo.A&&e.sequenceNumberHandler(r)}else if(i.key===e._r){const r=e.Nr(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.kr(a)))}}else e.rr.push(i)}))}}get Tr(){return this.ir.get(this.er)}wr(){this.setItem(this.ur,this.Tr.Xi())}pr(t,e,i){const r=new hD(this.currentUser,t,e,i),a=CB(this.persistenceKey,this.currentUser,t);this.setItem(a,r.Xi())}Ir(t){const e=CB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Ar(t){this.storage.setItem(this.dr,JSON.stringify({clientId:this.er,onlineState:t}))}Er(t,e,i){const r=bM(this.persistenceKey,t),a=new Wb(t,e,i);this.setItem(r,a.Xi())}Rr(t){const e=JSON.stringify(Array.from(t));this.setItem(this._r,e)}Pr(t){const e=this.cr.exec(t);return e?e[1]:null}Vr(t,e){const i=this.Pr(t);return fD.Yi(i,e)}vr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return hD.Yi(new $r(void 0!==i[2]?i[2]:null),r,e)}Dr(t,e){const i=this.lr.exec(t),r=Number(i[1]);return Wb.Yi(r,e)}mr(t){return wM.Yi(t)}Nr(t){return JSON.parse(t)}Sr(t){var e=this;return(0,ve.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Mr(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Cr(t){return this.syncEngine.Or(t.targetId,t.state,t.error)}br(t,e){const i=e?this.ir.insert(t,e):this.ir.remove(t),r=this.yr(this.ir),a=this.yr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Fr(u,f).then(()=>{this.ir=i})}gr(t){this.ir.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}yr(t){let e=tD();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class EB{constructor(){this.$r=new CM,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.$r.Zi(t),this.Br[t]||"not-current"}updateQueryState(t,e,i){this.Br[t]=e}removeLocalQueryTarget(t){this.$r.tr(t)}isLocalQueryTarget(t){return this.$r.activeTargetIds.has(t)}clearQueryState(t){delete this.Br[t]}getAllActiveQueryTargets(){return this.$r.activeTargetIds}isActiveQueryTarget(t){return this.$r.activeTargetIds.has(t)}start(){return this.$r=new CM,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class H${Lr(t){}shutdown(){}}class DB{constructor(){this.Ur=()=>this.qr(),this.Kr=()=>this.Gr(),this.Qr=[],this.jr()}Lr(t){this.Qr.push(t)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}qr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Qr)t(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Qr)t(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const j$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G${constructor(t){this.Wr=t.Wr,this.zr=t.zr}Hr(t){this.Jr=t}Yr(t){this.Xr=t}onMessage(t){this.Zr=t}close(){this.zr()}send(t){this.Wr(t)}eo(){this.Jr()}no(t){this.Xr(t)}so(t){this.Zr(t)}}class $$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.io=(t.ssl?"https":"http")+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}oo(t,e,i,r,a){const u=this.uo(t,e);Fe("RestConnection","Sending: ",u,i);const f={};return this.ao(f,r,a),this.co(t,u,f,i).then(_=>(Fe("RestConnection","Received: ",_),_),_=>{throw bb("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ho(t,e,i,r,a){return this.oo(t,e,i,r,a)}ao(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+kg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}uo(t,e){return`${this.io}/v1/${e}:${j$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((a,u)=>{const f=new HG;f.listenOnce(BG.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case FA.NO_ERROR:const b=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(b)),a(b);break;case FA.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),u(new ke(de.DEADLINE_EXCEEDED,"Request time out"));break;case FA.HTTP_ERROR:const T=f.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const O=function(B){const U=B.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(U)>=0?U:de.UNKNOWN}(A.status);u(new ke(O,A.message))}else u(new ke(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new ke(de.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);f.send(e,"POST",_,i,15)})}lo(t,e,i){const r=[this.io,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=FG(),u=LG(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new UG({})),this.ao(f.initMessageHeaders,e,i),(0,Xt.uI)()||(0,Xt.b$)()||(0,Xt.d)()||(0,Xt.w1)()||(0,Xt.Mn)()||(0,Xt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Fe("Connection","Creating WebChannel: "+_,f);const b=a.createWebChannel(_,f);let T=!1,A=!1;const O=new G$({Wr:U=>{A?Fe("Connection","Not sending because WebChannel is closed:",U):(T||(Fe("Connection","Opening WebChannel transport."),b.open(),T=!0),Fe("Connection","WebChannel sending:",U),b.send(U))},zr:()=>b.close()}),B=(U,ee,Ce)=>{U.listen(ee,$e=>{try{Ce($e)}catch(rt){setTimeout(()=>{throw rt},0)}})};return B(b,GE.EventType.OPEN,()=>{A||Fe("Connection","WebChannel transport opened.")}),B(b,GE.EventType.CLOSE,()=>{A||(A=!0,Fe("Connection","WebChannel transport closed"),O.no())}),B(b,GE.EventType.ERROR,U=>{A||(A=!0,bb("Connection","WebChannel transport errored:",U),O.no(new ke(de.UNAVAILABLE,"The operation could not be completed")))}),B(b,GE.EventType.MESSAGE,U=>{var ee;if(!A){const Ce=U.data[0];Ot(!!Ce);const $e=Ce,rt=$e.error||(null===(ee=$e[0])||void 0===ee?void 0:ee.error);if(rt){Fe("Connection","WebChannel received error:",rt);const it=rt.status;let tt=function($t){const bn=Wi[$t];if(void 0!==bn)return bL(bn)}(it),Bt=rt.message;void 0===tt&&(tt=de.INTERNAL,Bt="Unknown error status: "+it+" with message "+rt.message),A=!0,O.no(new ke(tt,Bt)),b.close()}else Fe("Connection","WebChannel received:",Ce),O.so(Ce)}}),B(u,VG.STAT_EVENT,U=>{U.stat===AF.PROXY?Fe("Connection","Detected buffering proxy"):U.stat===AF.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.eo()},0),O}}function TB(){return"undefined"!=typeof window?window:null}function pD(){return"undefined"!=typeof document?document:null}function Zb(n){return new R3(n,!0)}class DM{constructor(t,e,i=1e3,r=1.5,a=6e4){this.Yn=t,this.timerId=e,this.fo=i,this._o=r,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}reset(){this.mo=0}Io(){this.mo=this.wo}To(t){this.cancel();const e=Math.floor(this.mo+this.Eo()),i=Math.max(0,Date.now()-this.po),r=Math.max(0,e-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.mo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.yo=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.po=Date.now(),t())),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}Ao(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}cancel(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}Eo(){return(Math.random()-.5)*this.mo}}class IB{constructor(t,e,i,r,a,u,f,_){this.Yn=t,this.Ro=i,this.Po=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new DM(t,e)}Co(){return 1===this.state||5===this.state||this.xo()}xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.No()}stop(){var t=this;return(0,ve.Z)(function*(){t.Co()&&(yield t.close(0))})()}ko(){this.state=0,this.Do.reset()}Mo(){this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,()=>this.Oo()))}Fo(t){this.$o(),this.stream.send(t)}Oo(){var t=this;return(0,ve.Z)(function*(){if(t.xo())return t.close(0)})()}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}Bo(){this.So&&(this.So.cancel(),this.So=null)}close(t,e){var i=this;return(0,ve.Z)(function*(){i.$o(),i.Bo(),i.Do.cancel(),i.Vo++,4!==t?i.Do.reset():e&&e.code===de.RESOURCE_EXHAUSTED?(zi(e.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),i.Do.Io()):e&&e.code===de.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Lo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Yr(e)})()}Lo(){}auth(){this.state=1;const t=this.Uo(this.Vo),e=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Vo===e&&this.qo(i,r)},i=>{t(()=>{const r=new ke(de.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Ko(r)})})}qo(t,e){const i=this.Uo(this.Vo);this.stream=this.Go(t,e),this.stream.Hr(()=>{i(()=>(this.state=2,this.So=this.Yn.enqueueAfterDelay(this.Po,1e4,()=>(this.xo()&&(this.state=3),Promise.resolve())),this.listener.Hr()))}),this.stream.Yr(r=>{i(()=>this.Ko(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}No(){var t=this;this.state=5,this.Do.To((0,ve.Z)(function*(){t.state=0,t.start()}))}Ko(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Uo(t){return e=>{this.Yn.enqueueAndForget(()=>this.Vo===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z$ extends IB{constructor(t,e,i,r,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.M=a}Go(t,e){return this.bo.lo("Listen",t,e)}onMessage(t){this.Do.reset();const e=function N3(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ot(),r=t.targetChange.targetIds||[],a=function(_,b){return _.N?(Ot(void 0===b||"string"==typeof b),or.fromBase64String(b||"")):(Ot(void 0===b||b instanceof Uint8Array),or.fromUint8Array(b||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&function(_){const b=void 0===_.code?de.UNKNOWN:bL(_.code);return new ke(b,_.message||"")}(u);e=new EL(i,r,a,f||null)}else if("documentChange"in t){const i=t.documentChange,r=ec(n,i.document.name),a=Cr(i.document.updateTime),u=new ls({mapValue:{fields:i.document.fields}}),f=Zn.newFoundDocument(r,a,u);e=new nD(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const i=t.documentDelete,r=ec(n,i.document),a=i.readTime?Cr(i.readTime):xt.min(),u=Zn.newNoDocument(r,a);e=new nD([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=ec(n,i.document);e=new nD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ot();{const i=t.filter,a=new E3(i.count||0);e=new CL(i.targetId,a)}}var _;return e}(this.M,t),i=function(r){if(!("targetChange"in r))return xt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?xt.min():a.readTime?Cr(a.readTime):xt.min()}(t);return this.listener.Qo(e,i)}jo(t){const e={};e.database=Bb(this.M),e.addTarget=function(r,a){let u;const f=a.target;return u=WE(f)?{documents:OL(r,f)}:{query:PL(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=SL(r,a.resumeToken):a.snapshotVersion.compareTo(xt.min())>0&&(u.readTime=Fb(r,a.snapshotVersion.toTimestamp())),u}(this.M,t);const i=function L3(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ot()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Fo(e)}Wo(t){const e={};e.database=Bb(this.M),e.removeTarget=t,this.Fo(e)}}class q$ extends IB{constructor(t,e,i,r,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.M=a,this.zo=!1}get Ho(){return this.zo}start(){this.zo=!1,this.lastStreamToken=void 0,super.start()}Lo(){this.zo&&this.Jo([])}Go(t,e){return this.bo.lo("Write",t,e)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.zo){this.Do.reset();const e=function F3(n,t){return n&&n.length>0?(Ot(void 0!==t),n.map(e=>function(i,r){let a=Cr(i.updateTime?i.updateTime:r);return a.isEqual(xt.min())&&(a=Cr(r)),new b3(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Cr(t.commitTime);return this.listener.Yo(i,e)}return Ot(!t.writeResults||0===t.writeResults.length),this.zo=!0,this.listener.Xo()}Zo(){const t={};t.database=Bb(this.M),this.Fo(t)}Jo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Vb(this.M,i))};this.Fo(e)}}class W$ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.M=r,this.tu=!1}eu(){if(this.tu)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}oo(t,e,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.oo(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}ho(t,e,i){return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ho(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(de.UNKNOWN,r.toString())})}terminate(){this.tu=!0}}class Z${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}ru(){0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.su=null,this.uu("Backend didn't respond within 10 seconds."),this.ou("Offline"),Promise.resolve())))}au(t){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ou("Offline")))}set(t){this.cu(),this.nu=0,"Online"===t&&(this.iu=!1),this.ou(t)}ou(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}uu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.iu?(zi(e),this.iu=!1):Fe("OnlineStateTracker",e)}cu(){null!==this.su&&(this.su.cancel(),this.su=null)}}class Y${constructor(t,e,i,r,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr(f=>{i.enqueueAndForget((0,ve.Z)(function*(){var _;mh(u)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ve.Z)(function*(b){const T=qe(b);T.fu.add(4),yield Yg(T),T.wu.set("Unknown"),T.fu.delete(4),yield Yb(T)}),function(b){return _.apply(this,arguments)})(u))}))}),this.wu=new Z$(i,r)}}function Yb(n){return TM.apply(this,arguments)}function TM(){return TM=(0,ve.Z)(function*(n){if(mh(n))for(const t of n.du)yield t(!0)}),TM.apply(this,arguments)}function Yg(n){return IM.apply(this,arguments)}function IM(){return IM=(0,ve.Z)(function*(n){for(const t of n.du)yield t(!1)}),IM.apply(this,arguments)}function mD(n,t){const e=qe(n);e.lu.has(t.targetId)||(e.lu.set(t.targetId,t),AM(e)?xM(e):Qg(e).xo()&&SM(e,t))}function Kb(n,t){const e=qe(n),i=Qg(e);e.lu.delete(t),i.xo()&&SB(e,t),0===e.lu.size&&(i.xo()?i.Mo():mh(e)&&e.wu.set("Unknown"))}function SM(n,t){n.mu.Z(t.targetId),Qg(n).jo(t)}function SB(n,t){n.mu.Z(t),Qg(n).Wo(t)}function xM(n){n.mu=new A3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>n.lu.get(t)||null}),Qg(n).start(),n.wu.ru()}function AM(n){return mh(n)&&!Qg(n).Co()&&n.lu.size>0}function mh(n){return 0===qe(n).fu.size}function xB(n){n.mu=void 0}function K$(n){return MM.apply(this,arguments)}function MM(){return MM=(0,ve.Z)(function*(n){n.lu.forEach((t,e)=>{SM(n,t)})}),MM.apply(this,arguments)}function Q$(n,t){return kM.apply(this,arguments)}function kM(){return kM=(0,ve.Z)(function*(n,t){xB(n),AM(n)?(n.wu.au(t),xM(n)):n.wu.set("Unknown")}),kM.apply(this,arguments)}function J$(n,t,e){return RM.apply(this,arguments)}function RM(){return RM=(0,ve.Z)(function*(n,t,e){if(n.wu.set("Online"),t instanceof EL&&2===t.state&&t.cause)try{yield(i=(0,ve.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.lu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.lu.delete(f),r.mu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield gD(n,i)}else if(t instanceof nD?n.mu.ut(t):t instanceof CL?n.mu._t(t):n.mu.ht(t),!e.isEqual(xt.min()))try{const i=yield gB(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const u=r.mu.yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=r.lu.get(_);b&&r.lu.set(_,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.lu.get(f);if(!_)return;r.lu.set(f,_.withResumeToken(or.EMPTY_BYTE_STRING,_.snapshotVersion)),SB(r,f);const b=new dh(_.target,f,1,_.sequenceNumber);SM(r,b)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield gD(n,i)}var i}),RM.apply(this,arguments)}function gD(n,t,e){return OM.apply(this,arguments)}function OM(){return OM=(0,ve.Z)(function*(n,t,e){if(!cp(t))throw t;n.fu.add(1),yield Yg(n),n.wu.set("Offline"),e||(e=()=>gB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n.fu.delete(1),yield Yb(n)}))}),OM.apply(this,arguments)}function AB(n,t){return t().catch(e=>gD(n,e,t))}function Kg(n){return PM.apply(this,arguments)}function PM(){return PM=(0,ve.Z)(function*(n){const t=qe(n),e=gh(t);let i=t.hu.length>0?t.hu[t.hu.length-1].batchId:-1;for(;X$(t);)try{const r=yield M$(t.localStore,i);if(null===r){0===t.hu.length&&e.Mo();break}i=r.batchId,ez(t,r)}catch(r){yield gD(t,r)}MB(t)&&kB(t)}),PM.apply(this,arguments)}function X$(n){return mh(n)&&n.hu.length<10}function ez(n,t){n.hu.push(t);const e=gh(n);e.xo()&&e.Ho&&e.Jo(t.mutations)}function MB(n){return mh(n)&&!gh(n).Co()&&n.hu.length>0}function kB(n){gh(n).start()}function tz(n){return NM.apply(this,arguments)}function NM(){return NM=(0,ve.Z)(function*(n){gh(n).Zo()}),NM.apply(this,arguments)}function nz(n){return FM.apply(this,arguments)}function FM(){return FM=(0,ve.Z)(function*(n){const t=gh(n);for(const e of n.hu)t.Jo(e.mutations)}),FM.apply(this,arguments)}function iz(n,t,e){return LM.apply(this,arguments)}function LM(){return LM=(0,ve.Z)(function*(n,t,e){const i=n.hu.shift(),r=nM.from(i,t,e);yield AB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Kg(n)}),LM.apply(this,arguments)}function rz(n,t){return BM.apply(this,arguments)}function BM(){return BM=(0,ve.Z)(function*(n,t){var e;t&&gh(n).Ho&&(yield(e=(0,ve.Z)(function*(i,r){if(vL(a=r.code)&&a!==de.ABORTED){const u=i.hu.shift();gh(i).ko(),yield AB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield Kg(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),MB(n)&&kB(n)}),BM.apply(this,arguments)}function RB(n,t){return VM.apply(this,arguments)}function VM(){return VM=(0,ve.Z)(function*(n,t){const e=qe(n);e.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=mh(e);e.fu.add(3),yield Yg(e),i&&e.wu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.fu.delete(3),yield Yb(e)}),VM.apply(this,arguments)}function UM(n,t){return HM.apply(this,arguments)}function HM(){return HM=(0,ve.Z)(function*(n,t){const e=qe(n);t?(e.fu.delete(2),yield Yb(e)):t||(e.fu.add(2),yield Yg(e),e.wu.set("Unknown"))}),HM.apply(this,arguments)}function Qg(n){return n.gu||(n.gu=function(t,e,i){const r=qe(t);return r.eu(),new z$(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:K$.bind(null,n),Yr:Q$.bind(null,n),Qo:J$.bind(null,n)}),n.du.push(function(){var t=(0,ve.Z)(function*(e){e?(n.gu.ko(),AM(n)?xM(n):n.wu.set("Unknown")):(yield n.gu.stop(),xB(n))});return function(e){return t.apply(this,arguments)}}())),n.gu}function gh(n){return n.yu||(n.yu=function(t,e,i){const r=qe(t);return r.eu(),new q$(e,r.bo,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Hr:tz.bind(null,n),Yr:rz.bind(null,n),Xo:nz.bind(null,n),Yo:iz.bind(null,n)}),n.du.push(function(){var t=(0,ve.Z)(function*(e){e?(n.yu.ko(),yield Kg(n)):(yield n.yu.stop(),n.hu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.hu.length} pending writes`),n.hu=[]))});return function(e){return t.apply(this,arguments)}}())),n.yu}class jM{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,a){const u=Date.now()+i,f=new jM(t,e,u,r,a);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(de.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,t){if(zi("AsyncQueue",`${t}: ${n}`),cp(n))return new ke(de.UNAVAILABLE,`${t}: ${n}`);throw n}class Xg{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Ge.comparator(e.key,i.key):(e,i)=>Ge.comparator(e.key,i.key),this.keyedMap=KA(),this.sortedSet=new Oi(this.comparator)}static emptySet(t){return new Xg(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xg)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Xg;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class OB{constructor(){this.pu=new Oi(Ge.comparator)}track(t){const e=t.doc.key,i=this.pu.get(e);i?0!==t.type&&3===i.type?this.pu=this.pu.insert(e,t):3===t.type&&1!==i.type?this.pu=this.pu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.pu=this.pu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.pu=this.pu.remove(e):1===t.type&&2===i.type?this.pu=this.pu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.pu=this.pu.insert(e,{type:2,doc:t.doc}):ot():this.pu=this.pu.insert(e,t)}Iu(){const t=[];return this.pu.inorderTraversal((e,i)=>{t.push(i)}),t}}class e_{constructor(t,e,i,r,a,u,f,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new e_(t,e,Xg.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ab(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class sz{constructor(){this.Tu=void 0,this.listeners=[]}}class oz{constructor(){this.queries=new uh(t=>iL(t),Ab),this.onlineState="Unknown",this.Eu=new Set}}function GM(n,t){return $M.apply(this,arguments)}function $M(){return $M=(0,ve.Z)(function*(n,t){const e=qe(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new sz),r)try{a.Tu=yield e.onListen(i)}catch(u){const f=Jg(u,`Initialization of query '${qA(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,a),a.listeners.push(t),t.Au(e.onlineState),a.Tu&&t.Ru(a.Tu)&&WM(e)}),$M.apply(this,arguments)}function zM(n,t){return qM.apply(this,arguments)}function qM(){return qM=(0,ve.Z)(function*(n,t){const e=qe(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),qM.apply(this,arguments)}function az(n,t){const e=qe(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const f of u.listeners)f.Ru(r)&&(i=!0);u.Tu=r}}i&&WM(e)}function lz(n,t,e){const i=qe(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function WM(n){n.Eu.forEach(t=>{t.next()})}class ZM{constructor(t,e,i){this.query=t,this.Pu=e,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=i||{}}Ru(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new e_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Pu.next(t),e=!0):this.Su(t,this.onlineState)&&(this.Du(t),e=!0),this.Vu=t,e}onError(t){this.Pu.error(t)}Au(t){this.onlineState=t;let e=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,t)&&(this.Du(this.Vu),e=!0),e}Su(t,e){return!t.fromCache||!(this.options.Cu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Du(t){t=e_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Pu.next(t)}}class cz{constructor(t,e){this.payload=t,this.byteLength=e}xu(){return"metadata"in this.payload}}class PB{constructor(t){this.M=t}fi(t){return ec(this.M,t)}di(t){return t.metadata.exists?RL(this.M,t.document,!1):Zn.newNoDocument(this.fi(t.metadata.name),this._i(t.metadata.readTime))}_i(t){return Cr(t)}}class uz{constructor(t,e,i){this.Nu=t,this.localStore=e,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NB(t)}ku(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=dn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Mu(t){const e=new Map,i=new PB(this.M);for(const r of t)if(r.metadata.queries){const a=i.fi(r.metadata.name);for(const u of r.metadata.queries){const f=(e.get(u)||Dn()).add(a);e.set(u,f)}}return e}complete(){var t=this;return(0,ve.Z)(function*(){const e=yield function k$(n,t,e,i){return gM.apply(this,arguments)}(t.localStore,new PB(t.M),t.documents,t.Nu.id),i=t.Mu(t.documents);for(const r of t.queries)yield R$(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Ou:t.collectionGroups,Fu:e}})()}}function NB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class FB{constructor(t){this.key=t}}class LB{constructor(t){this.key=t}}class BB{constructor(t,e){this.query=t,this.$u=e,this.Bu=null,this.current=!1,this.Lu=Dn(),this.mutatedKeys=Dn(),this.Uu=sL(t),this.qu=new Xg(this.Uu)}get Ku(){return this.$u}Gu(t,e){const i=e?e.Qu:new OB,r=e?e.qu:this.qu;let a=e?e.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _=YE(this.query)&&r.size===this.query.limit?r.last():null,b=KE(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((T,A)=>{const O=r.get(T),B=WA(this.query,A)?A:null,U=!!O&&this.mutatedKeys.has(O.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Ce=!1;O&&B?O.data.isEqual(B.data)?U!==ee&&(i.track({type:3,doc:B}),Ce=!0):this.ju(O,B)||(i.track({type:2,doc:B}),Ce=!0,(_&&this.Uu(B,_)>0||b&&this.Uu(B,b)<0)&&(f=!0)):!O&&B?(i.track({type:0,doc:B}),Ce=!0):O&&!B&&(i.track({type:1,doc:O}),Ce=!0,(_||b)&&(f=!0)),Ce&&(B?(u=u.add(B),a=ee?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),YE(this.query)||KE(this.query))for(;u.size>this.query.limit;){const T=YE(this.query)?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),i.track({type:1,doc:T})}return{qu:u,Qu:i,ni:f,mutatedKeys:a}}ju(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.qu;this.qu=t.qu,this.mutatedKeys=t.mutatedKeys;const a=t.Qu.Iu();a.sort((b,T)=>function(A,O){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return B(A)-B(O)}(b.type,T.type)||this.Uu(b.doc,T.doc)),this.Wu(i);const u=e?this.zu():[],f=0===this.Lu.size&&this.current?1:0,_=f!==this.Bu;return this.Bu=f,0!==a.length||_?{snapshot:new e_(this.query,t.qu,r,a,t.mutatedKeys,0===f,_,!1),Hu:u}:{Hu:u}}Au(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new OB,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}Ju(t){return!this.$u.has(t)&&!!this.qu.has(t)&&!this.qu.get(t).hasLocalMutations}Wu(t){t&&(t.addedDocuments.forEach(e=>this.$u=this.$u.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.$u=this.$u.delete(e)),this.current=t.current)}zu(){if(!this.current)return[];const t=this.Lu;this.Lu=Dn(),this.qu.forEach(i=>{this.Ju(i.key)&&(this.Lu=this.Lu.add(i.key))});const e=[];return t.forEach(i=>{this.Lu.has(i)||e.push(new LB(i))}),this.Lu.forEach(i=>{t.has(i)||e.push(new FB(i))}),e}Yu(t){this.$u=t.li,this.Lu=Dn();const e=this.Gu(t.documents);return this.applyChanges(e,!0)}Xu(){return e_.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}class dz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class hz{constructor(t){this.key=t,this.Zu=!1}}class fz{constructor(t,e,i,r,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.ta={},this.ea=new uh(f=>iL(f),Ab),this.na=new Map,this.sa=new Set,this.ia=new Oi(Ge.comparator),this.ra=new Map,this.oa=new yM,this.ua={},this.aa=new Map,this.ca=mp.yn(),this.onlineState="Unknown",this.ha=void 0}get isPrimaryClient(){return!0===this.ha}}function pz(n,t){return YM.apply(this,arguments)}function YM(){return YM=(0,ve.Z)(function*(n,t){const e=yk(n);let i,r;const a=e.ea.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.Xu();else{const u=yield Wg(e.localStore,Ma(t));e.isPrimaryClient&&mD(e.remoteStore,u);const f=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield KM(e,t,i,"current"===f)}return r}),YM.apply(this,arguments)}function KM(n,t,e,i){return QM.apply(this,arguments)}function QM(){return QM=(0,ve.Z)(function*(n,t,e,i){n.la=(T,A,O)=>{return(B=(0,ve.Z)(function*(U,ee,Ce,$e){let rt=ee.view.Gu(Ce);rt.ni&&(rt=yield dD(U.localStore,ee.query,!1).then(({documents:Bt})=>ee.view.Gu(Bt,rt)));const it=$e&&$e.targetChanges.get(ee.targetId),tt=ee.view.applyChanges(rt,U.isPrimaryClient,it);return ak(U,ee.targetId,tt.Hu),tt.snapshot}),function(U,ee,Ce,$e){return B.apply(this,arguments)})(n,T,A,O);var B};const r=yield dD(n.localStore,t,!0),a=new BB(t,r.li),u=a.Gu(r.documents),f=Nb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);ak(n,e,_.Hu);const b=new dz(t,e,a);return n.ea.set(t,b),n.na.has(e)?n.na.get(e).push(t):n.na.set(e,[t]),_.snapshot}),QM.apply(this,arguments)}function mz(n,t){return JM.apply(this,arguments)}function JM(){return JM=(0,ve.Z)(function*(n,t){const e=qe(n),i=e.ea.get(t),r=e.na.get(i.targetId);if(r.length>1)return e.na.set(i.targetId,r.filter(a=>!Ab(a,t))),void e.ea.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Zg(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Kb(e.remoteStore,i.targetId),t_(e,i.targetId)}).catch(gp))):(t_(e,i.targetId),yield Zg(e.localStore,i.targetId,!0))}),JM.apply(this,arguments)}function XM(){return XM=(0,ve.Z)(function*(n,t,e){const i=vk(n);try{const r=yield function(a,u){const f=qe(a),_=Ri.now(),b=u.reduce((A,O)=>A.add(O.key),Dn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ci.Ks(A,b).next(O=>{T=O;const B=[];for(const U of u){const ee=C3(U,T.get(U.key));null!=ee&&B.push(new lp(U.key,ee,WF(ee.value.mapValue),qi.exists(!0)))}return f.Bs.addMutationBatch(A,_,B,u)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.ua[a.currentUser.toKey()];_||(_=new Oi(Gt)),_=_.insert(u,f),a.ua[a.currentUser.toKey()]=_}(i,r.batchId,e),yield Eu(i,r.changes),yield Kg(i.remoteStore)}catch(r){const a=Jg(r,"Failed to persist write");e.reject(a)}}),XM.apply(this,arguments)}function VB(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,ve.Z)(function*(n,t){const e=qe(n);try{const i=yield A$(e.localStore,t);t.targetChanges.forEach((r,a)=>{const u=e.ra.get(a);u&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Zu=!0:r.modifiedDocuments.size>0?Ot(u.Zu):r.removedDocuments.size>0&&(Ot(u.Zu),u.Zu=!1))}),yield Eu(e,i,t)}catch(i){yield gp(i)}}),ek.apply(this,arguments)}function UB(n,t,e){const i=qe(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ea.forEach((a,u)=>{const f=u.view.Au(t);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=qe(a);f.onlineState=u;let _=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Au(u)&&(_=!0)}),_&&WM(f)}(i.eventManager,t),r.length&&i.ta.Qo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function _z(n,t,e){return tk.apply(this,arguments)}function tk(){return tk=(0,ve.Z)(function*(n,t,e){const i=qe(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ra.get(t),a=r&&r.key;if(a){let u=new Oi(Ge.comparator);u=u.insert(a,Zn.newNoDocument(a,xt.min()));const f=Dn().add(a),_=new Pb(xt.min(),new Map,new Yn(Gt),u,f);yield VB(i,_),i.ia=i.ia.remove(a),i.ra.delete(t),lk(i)}else yield Zg(i.localStore,t,!1).then(()=>t_(i,t,e)).catch(gp)}),tk.apply(this,arguments)}function yz(n,t){return nk.apply(this,arguments)}function nk(){return nk=(0,ve.Z)(function*(n,t){const e=qe(n),i=t.batch.batchId;try{const r=yield x$(e.localStore,t);ok(e,i,null),sk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Eu(e,r)}catch(r){yield gp(r)}}),nk.apply(this,arguments)}function vz(n,t,e){return ik.apply(this,arguments)}function ik(){return ik=(0,ve.Z)(function*(n,t,e){const i=qe(n);try{const r=yield function(a,u){const f=qe(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.Bs.lookupMutationBatch(_,u).next(T=>(Ot(null!==T),b=T.keys(),f.Bs.removeMutationBatch(_,T))).next(()=>f.Bs.performConsistencyCheck(_)).next(()=>f.ci.Ks(_,b))})}(i.localStore,t);ok(i,t,e),sk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Eu(i,r)}catch(r){yield gp(r)}}),ik.apply(this,arguments)}function rk(){return rk=(0,ve.Z)(function*(n,t){const e=qe(n);mh(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=qe(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.Bs.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===i)return void t.resolve();const r=e.aa.get(i)||[];r.push(t),e.aa.set(i,r)}catch(i){const r=Jg(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),rk.apply(this,arguments)}function sk(n,t){(n.aa.get(t)||[]).forEach(e=>{e.resolve()}),n.aa.delete(t)}function ok(n,t,e){const i=qe(n);let r=i.ua[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.ua[i.currentUser.toKey()]=r}}function t_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.na.get(t))n.ea.delete(i),e&&n.ta.fa(i,e);n.na.delete(t),n.isPrimaryClient&&n.oa.Pi(t).forEach(i=>{n.oa.containsKey(i)||HB(n,i)})}function HB(n,t){n.sa.delete(t.path.canonicalString());const e=n.ia.get(t);null!==e&&(Kb(n.remoteStore,e),n.ia=n.ia.remove(t),n.ra.delete(e),lk(n))}function ak(n,t,e){for(const i of e)i instanceof FB?(n.oa.addReference(i.key,t),wz(n,i)):i instanceof LB?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.oa.removeReference(i.key,t),n.oa.containsKey(i.key)||HB(n,i.key)):ot()}function wz(n,t){const e=t.key,i=e.path.canonicalString();n.ia.get(e)||n.sa.has(i)||(Fe("SyncEngine","New document in limbo: "+e),n.sa.add(i),lk(n))}function lk(n){for(;n.sa.size>0&&n.ia.size<n.maxConcurrentLimboResolutions;){const t=n.sa.values().next().value;n.sa.delete(t);const e=new Ge(dn.fromString(t)),i=n.ca.next();n.ra.set(i,new hz(e)),n.ia=n.ia.insert(e,i),mD(n.remoteStore,new dh(Ma(Fg(e.path)),i,2,Qo.A))}}function Eu(n,t,e){return ck.apply(this,arguments)}function ck(){return ck=(0,ve.Z)(function*(n,t,e){const i=qe(n),r=[],a=[],u=[];var f;i.ea.isEmpty()||(i.ea.forEach((f,_)=>{u.push(i.la(_,t,e).then(b=>{if(b){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,b.fromCache?"not-current":"current"),r.push(b);const T=fM.Ys(_.targetId,b);a.push(T)}}))}),yield Promise.all(u),i.ta.Qo(r),yield(f=(0,ve.Z)(function*(_,b){const T=qe(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>pe.forEach(b,O=>pe.forEach(O.Hs,B=>T.persistence.referenceDelegate.addReference(A,O.targetId,B)).next(()=>pe.forEach(O.Js,B=>T.persistence.referenceDelegate.removeReference(A,O.targetId,B)))))}catch(A){if(!cp(A))throw A;Fe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const O=A.targetId;if(!A.fromCache){const B=T.ii.get(O),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.ii=T.ii.insert(O,ee)}}}),function(_,b){return f.apply(this,arguments)})(i.localStore,a))}),ck.apply(this,arguments)}function Cz(n,t){return uk.apply(this,arguments)}function uk(){return uk=(0,ve.Z)(function*(n,t){const e=qe(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const i=yield mB(e.localStore,t);e.currentUser=t,(r=e).aa.forEach(u=>{u.forEach(f=>{f.reject(new ke(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.aa.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Eu(e,i.hi)}var r}),uk.apply(this,arguments)}function Ez(n,t){const e=qe(n),i=e.ra.get(t);if(i&&i.Zu)return Dn().add(i.key);{let r=Dn();const a=e.na.get(t);if(!a)return r;for(const u of a){const f=e.ea.get(u);r=r.unionWith(f.view.Ku)}return r}}function Dz(n,t){return dk.apply(this,arguments)}function dk(){return dk=(0,ve.Z)(function*(n,t){const e=qe(n),i=yield dD(e.localStore,t.query,!0),r=t.view.Yu(i);return e.isPrimaryClient&&ak(e,t.targetId,r.Hu),r}),dk.apply(this,arguments)}function Tz(n,t){return hk.apply(this,arguments)}function hk(){return hk=(0,ve.Z)(function*(n,t){const e=qe(n);return vB(e.localStore,t).then(i=>Eu(e,i))}),hk.apply(this,arguments)}function Iz(n,t,e,i){return fk.apply(this,arguments)}function fk(){return fk=(0,ve.Z)(function*(n,t,e,i){const r=qe(n),a=yield function(u,f){const _=qe(u),b=qe(_.Bs);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.fn(T,f).next(A=>A?_.ci.Ks(T,A):pe.resolve(null)))}(r.localStore,t);var f;null!==a?("pending"===e?yield Kg(r.remoteStore):"acknowledged"===e||"rejected"===e?(ok(r,t,i||null),sk(r,t),f=t,qe(qe(r.localStore).Bs)._n(f)):ot(),yield Eu(r,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)}),fk.apply(this,arguments)}function pk(){return pk=(0,ve.Z)(function*(n,t){const e=qe(n);if(yk(e),vk(e),!0===t&&!0!==e.ha){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield jB(e,i.toArray());e.ha=!0,yield UM(e.remoteStore,!0);for(const a of r)mD(e.remoteStore,a)}else if(!1===t&&!1!==e.ha){const i=[];let r=Promise.resolve();e.na.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(t_(e,u),Zg(e.localStore,u,!0))),Kb(e.remoteStore,u)}),yield r,yield jB(e,i),function(a){const u=qe(a);u.ra.forEach((f,_)=>{Kb(u.remoteStore,_)}),u.oa.bi(),u.ra=new Map,u.ia=new Oi(Ge.comparator)}(e),e.ha=!1,yield UM(e.remoteStore,!1)}}),pk.apply(this,arguments)}function jB(n,t,e){return mk.apply(this,arguments)}function mk(){return mk=(0,ve.Z)(function*(n,t,e){const i=qe(n),r=[],a=[];for(const u of t){let f;const _=i.na.get(u);if(_&&0!==_.length){f=yield Wg(i.localStore,Ma(_[0]));for(const b of _){const T=i.ea.get(b),A=yield Dz(i,T);A.snapshot&&a.push(A.snapshot)}}else{const b=yield yB(i.localStore,u);f=yield Wg(i.localStore,b),yield KM(i,GB(b),u,!1)}r.push(f)}return i.ta.Qo(a),r}),mk.apply(this,arguments)}function GB(n){return tL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function xz(n){const t=qe(n);return qe(qe(t.localStore).persistence).Fs()}function Az(n,t,e,i){return gk.apply(this,arguments)}function gk(){return gk=(0,ve.Z)(function*(n,t,e,i){const r=qe(n);if(r.ha)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const a=r.na.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield vB(r.localStore,rL(a[0])),f=Pb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Eu(r,u,f);break}case"rejected":yield Zg(r.localStore,t,!0),t_(r,t,i);break;default:ot()}}),gk.apply(this,arguments)}function Mz(n,t,e){return _k.apply(this,arguments)}function _k(){return _k=(0,ve.Z)(function*(n,t,e){const i=yk(n);if(i.ha){for(const r of t){if(i.na.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const a=yield yB(i.localStore,r),u=yield Wg(i.localStore,a);yield KM(i,GB(a),u.targetId,!1),mD(i.remoteStore,u)}for(const r of e)i.na.has(r)&&(yield Zg(i.localStore,r,!1).then(()=>{Kb(i.remoteStore,r),t_(i,r)}).catch(gp))}}),_k.apply(this,arguments)}function yk(n){const t=qe(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ez.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_z.bind(null,t),t.ta.Qo=az.bind(null,t.eventManager),t.ta.fa=lz.bind(null,t.eventManager),t}function vk(n){const t=qe(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vz.bind(null,t),t}class $B{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ve.Z)(function*(){e.M=Zb(t.databaseInfo.databaseId),e.sharedClientState=e._a(t),e.persistence=e.wa(t),yield e.persistence.start(),e.gcScheduler=e.ma(t),e.localStore=e.ga(t)})()}ma(t){return null}ga(t){return pB(this.persistence,new fB,t.initialUser,this.M)}wa(t){return new V$(vM.zi,this.M)}_a(t){return new EB}terminate(){var t=this;return(0,ve.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class zB extends $B{constructor(t,e,i){super(),this.ya=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t),yield i.ya.initialize(i,t),yield vk(i.ya.syncEngine),yield Kg(i.ya.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}ga(t){return pB(this.persistence,new fB,t.initialUser,this.M)}ma(t){return new b$(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}wa(t){const e=hM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new dM(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,TB(),pD(),this.M,this.sharedClientState,!!this.forceOwnership)}_a(t){return new EB}}class Rz extends zB{constructor(t,e){super(t,e,!1),this.ya=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ve.Z)(function*(){yield e().call(i,t);const r=i.ya.syncEngine;i.sharedClientState instanceof EM&&(i.sharedClientState.syncEngine={Mr:Iz.bind(null,r),Or:Az.bind(null,r),Fr:Mz.bind(null,r),Fs:xz.bind(null,r),kr:Tz.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var a=(0,ve.Z)(function*(u){yield function Sz(n,t){return pk.apply(this,arguments)}(i.ya.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):u||i.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}_a(t){const e=TB();if(!EM.vt(e))throw new ke(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hM(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new EM(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class bk{initialize(t,e){var i=this;return(0,ve.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>UB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Cz.bind(null,i.syncEngine),yield UM(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new oz}createDatastore(t){const e=Zb(t.databaseInfo.databaseId),i=new $$(t.databaseInfo);return new W$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=f=>UB(this.syncEngine,f,0),u=DB.vt()?new DB:new H$,new Y$(e,i,r,a,u);var e,i,r,a,u}createSyncEngine(t,e){return function(i,r,a,u,f,_,b){const T=new fz(i,r,a,u,f,_);return b&&(T.ha=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ve.Z)(function*(e){const i=qe(e);Fe("RemoteStore","RemoteStore shutting down."),i.fu.add(5),yield Yg(i),i._u.shutdown(),i.wu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function qB(n,t=10240){let e=0;return{read:()=>(0,ve.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _D{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.pa(this.observer.next,t)}error(t){this.observer.error?this.pa(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Ia(){this.muted=!0}pa(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Oz{constructor(t,e){this.Ta=t,this.M=e,this.metadata=new br,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then(i=>{i&&i.xu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ta.cancel()}getMetadata(){var t=this;return(0,ve.Z)(function*(){return t.metadata.promise})()}da(){var t=this;return(0,ve.Z)(function*(){return yield t.getMetadata(),t.Aa()})()}Aa(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Ra();if(null===e)return null;const i=t.Ea.decode(e),r=Number(i);isNaN(r)&&t.Pa(`length string (${i}) is not valid number`);const a=yield t.ba(r);return new cz(JSON.parse(a),e.length+r)})()}Va(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Ra(){var t=this;return(0,ve.Z)(function*(){for(;t.Va()<0&&!(yield t.va()););if(0===t.buffer.length)return null;const e=t.Va();e<0&&t.Pa("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}ba(t){var e=this;return(0,ve.Z)(function*(){for(;e.buffer.length<t;)(yield e.va())&&e.Pa("Reached the end of bundle when more is expected.");const i=e.Ea.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pa(t){throw this.Ta.cancel(),new Error(`Invalid bundle format: ${t}`)}va(){var t=this;return(0,ve.Z)(function*(){const e=yield t.Ta.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Pz{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ve.Z)(function*(a,u){const f=qe(a),_=Bb(f.M)+"/documents",b={documents:u.map(B=>Lb(f.M,B))},T=yield f.ho("BatchGetDocuments",_,b),A=new Map;T.forEach(B=>{const U=function P3(n,t){return"found"in t?function(e,i){Ot(!!i.found);const r=ec(e,i.found.name),a=Cr(i.found.updateTime),u=new ls({mapValue:{fields:i.found.fields}});return Zn.newFoundDocument(r,a,u)}(n,t):"missing"in t?function(e,i){Ot(!!i.missing),Ot(!!i.readTime);const r=ec(e,i.missing),a=Cr(i.readTime);return Zn.newNoDocument(r,a)}(n,t):ot()}(f.M,B);A.set(U.key.toString(),U)});const O=[];return u.forEach(B=>{const U=A.get(B.toString());Ot(!!U),O.push(U)}),O}),function(a,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Rb(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Ge.fromPath(r);t.mutations.push(new YA(a,t.precondition(a)))}),yield(i=(0,ve.Z)(function*(r,a){const u=qe(r),f=Bb(u.M)+"/documents",_={writes:a.map(b=>Vb(u.M,b))};yield u.oo("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ot();e=xt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?qi.updateTime(e):qi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(xt.min()))throw new ke(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return qi.updateTime(e)}return qi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Nz{constructor(t,e,i,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=i,this.deferred=r,this.Sa=5,this.Do=new DM(this.asyncQueue,"transaction_retry")}run(){this.Sa-=1,this.Da()}Da(){var t=this;this.Do.To((0,ve.Z)(function*(){const e=new Pz(t.datastore),i=t.Ca(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.xa(a)}))}).catch(r=>{t.xa(r)})}))}Ca(t){try{const e=this.updateFunction(t);return!tp(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}xa(t){this.Sa>0&&this.Na(t)?(this.Sa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Da(),Promise.resolve()))):this.deferred.reject(t)}Na(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!vL(e)}return!1}}class Fz{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=$r.UNAUTHENTICATED,this.clientId=OF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ve.Z)(function*(f){Fe("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Fe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ve.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Jg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function WB(n,t){return wk.apply(this,arguments)}function wk(){return wk=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ve.Z)(function*(a){i.isEqual(a)||(yield mB(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),wk.apply(this,arguments)}function ZB(n,t){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,ve.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield Ek(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>RB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>RB(t.remoteStore,a)),n.onlineComponents=t}),Ck.apply(this,arguments)}function Ek(n){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,ve.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield WB(n,new $B)),n.offlineComponents}),Dk.apply(this,arguments)}function yD(n){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,ve.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield ZB(n,new bk)),n.onlineComponents}),Tk.apply(this,arguments)}function YB(n){return Ek(n).then(t=>t.persistence)}function Ik(n){return Ek(n).then(t=>t.localStore)}function KB(n){return yD(n).then(t=>t.remoteStore)}function Sk(n){return yD(n).then(t=>t.syncEngine)}function n_(n){return xk.apply(this,arguments)}function xk(){return xk=(0,ve.Z)(function*(n){const t=yield yD(n),e=t.eventManager;return e.onListen=pz.bind(null,t.syncEngine),e.onUnlisten=mz.bind(null,t.syncEngine),e}),xk.apply(this,arguments)}function QB(n,t,e={}){const i=new br;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,f,_){const b=new _D({next:A=>{a.enqueueAndForget(()=>zM(r,T));const O=A.docs.has(u);!O&&A.fromCache?_.reject(new ke(de.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&f&&"server"===f.source?_.reject(new ke(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new ZM(Fg(u.path),b,{includeMetadataChanges:!0,Cu:!0});return GM(r,T)}(yield n_(n),n.asyncQueue,t,e,i)})),i.promise}function JB(n,t,e={}){const i=new br;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(r,a,u,f,_){const b=new _D({next:A=>{a.enqueueAndForget(()=>zM(r,T)),A.fromCache&&"server"===f.source?_.reject(new ke(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),T=new ZM(u,b,{includeMetadataChanges:!0,Cu:!0});return GM(r,T)}(yield n_(n),n.asyncQueue,t,e,i)})),i.promise}const XB=new Map;function Ak(n,t,e){if(!e)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function eV(n,t,e,i){if(!0===t&&!0===i)throw new ke(de.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function tV(n){if(!Ge.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nV(n){if(Ge.isDocumentKey(n))throw new ke(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ot()}function rn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vD(n);throw new ke(de.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function iV(n,t){if(t<=0)throw new ke(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class rV{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,eV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qb{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rV({}),this._settingsFrozen=!1,t instanceof bu?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ke(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(r.options.projectId)}(t))}get app(){if(!this._app)throw new ke(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new $G;switch(e.type){case"gapi":const i=e.client;return Ot(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new ZG(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ke(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=XB.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),XB.delete(t),e.terminate())}(this),Promise.resolve()}}class Kn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Kn(this.firestore,t,this._key)}}class cs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new cs(this.firestore,t,this._query)}}class nc extends cs{constructor(t,e,i){super(t,e,Fg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Kn(this.firestore,null,new Ge(t))}withConverter(t){return new nc(this.firestore,t,this._path)}}function sV(n,t,...e){if(n=(0,Xt.m9)(n),Ak("collection","path",t),n instanceof Qb){const i=dn.fromString(t,...e);return nV(i),new nc(n,null,i)}{if(!(n instanceof Kn||n instanceof nc))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(t,...e));return nV(i),new nc(n.firestore,null,i)}}function bD(n,t,...e){if(n=(0,Xt.m9)(n),1===arguments.length&&(t=OF.R()),Ak("doc","path",t),n instanceof Qb){const i=dn.fromString(t,...e);return tV(i),new Kn(n,null,new Ge(i))}{if(!(n instanceof Kn||n instanceof nc))throw new ke(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(dn.fromString(t,...e));return tV(i),new Kn(n.firestore,n instanceof nc?n.converter:null,new Ge(i))}}function oV(n,t){return n=(0,Xt.m9)(n),t=(0,Xt.m9)(t),(n instanceof Kn||n instanceof nc)&&(t instanceof Kn||t instanceof nc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function aV(n,t){return n=(0,Xt.m9)(n),t=(0,Xt.m9)(t),n instanceof cs&&t instanceof cs&&n.firestore===t.firestore&&Ab(n._query,t._query)&&n.converter===t.converter}class Wz{constructor(){this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new DM(this,"async_queue_retry"),this.qa=()=>{const e=pD();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Do.Ao()};const t=pD();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.qa)}get isShuttingDown(){return this.Oa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ka(),this.Ga(t)}enterRestrictedMode(t){if(!this.Oa){this.Oa=!0,this.La=t||!1;const e=pD();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.qa)}}enqueue(t){if(this.Ka(),this.Oa)return new Promise(()=>{});const e=new br;return this.Ga(()=>this.Oa&&this.La?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ma.push(t),this.Qa()))}Qa(){var t=this;return(0,ve.Z)(function*(){if(0!==t.Ma.length){try{yield t.Ma[0](),t.Ma.shift(),t.Do.reset()}catch(e){if(!cp(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.Ma.length>0&&t.Do.To(()=>t.Qa())}})()}Ga(t){const e=this.ka.then(()=>(this.Ba=!0,t().catch(i=>{throw this.$a=i,this.Ba=!1,zi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Ba=!1,i))));return this.ka=e,e}enqueueAfterDelay(t,e,i){this.Ka(),this.Ua.indexOf(t)>-1&&(e=0);const r=jM.createAndSchedule(this,t,e,i,a=>this.ja(a));return this.Fa.push(r),r}Ka(){this.$a&&ot()}verifyOperationInProgress(){}Wa(){var t=this;return(0,ve.Z)(function*(){let e;do{e=t.ka,yield e}while(e!==t.ka)})()}za(t){for(const e of this.Fa)if(e.timerId===t)return!0;return!1}Ha(t){return this.Wa().then(()=>{this.Fa.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Fa)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Wa()})}Ja(t){this.Ua.push(t)}ja(t){const e=this.Fa.indexOf(t);this.Fa.splice(e,1)}}function Mk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Zz{constructor(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ii extends Qb{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Wz,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lV(this),this._firestoreClient.terminate()}}function Zi(n){return n._firestoreClient||lV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lV(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new e3(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new Fz(n._authCredentials,n._appCheckCredentials,n._queue,i)}function cV(n,t,e){const i=new br;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield WB(n,e),yield ZB(n,t),i.resolve()}catch(r){if(!("FirebaseError"===(a=r).name?a.code===de.FAILED_PRECONDITION||a.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var a})).then(()=>i.promise)}function uV(n){if(n._initialized||n._terminated)throw new ke(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Du{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ic{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ic(or.fromBase64String(t))}catch(e){throw new ke(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ic(or.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class yp{constructor(t){this._methodName=t}}class wD{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}const r6=/^__.*__$/;class s6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new lp(t,this.data,this.fieldMask,e,this.fieldTransforms):new kb(t,this.data,e,this.fieldTransforms)}}class dV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new lp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function hV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class CD{constructor(t,e,i,r,a,u){this.settings=t,this.databaseId=e,this.M=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Xa(){return this.settings.Xa}Za(t){return new CD(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}tc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Za({path:i,ec:!1});return r.nc(t),r}sc(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Za({path:i,ec:!1});return r.Ya(),r}ic(t){return this.Za({path:void 0,ec:!0})}rc(t){return TD(t,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Ya(){if(this.path)for(let t=0;t<this.path.length;t++)this.nc(this.path.get(t))}nc(t){if(0===t.length)throw this.rc("Document fields must not be empty");if(hV(this.Xa)&&r6.test(t))throw this.rc('Document fields cannot begin and end with "__"')}}class o6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.M=i||Zb(t)}ac(t,e,i,r=!1){return new CD({Xa:t,methodName:e,uc:i,path:wr.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function vp(n){const t=n._freezeSettings(),e=Zb(n._databaseId);return new o6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ED(n,t,e,i,r,a={}){const u=n.ac(a.merge||a.mergeFields?2:0,t,e,r);Pk("Data must be an object, but it was:",u,i);const f=mV(i,u);let _,b;if(a.merge)_=new Og(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const O=Nk(t,A,e);if(!u.contains(O))throw new ke(de.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);_V(T,O)||T.push(O)}_=new Og(T),b=u.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,b=u.fieldTransforms;return new s6(new ls(f),_,b)}class Jb extends yp{_toFieldTransform(t){if(2!==t.Xa)throw t.rc(1===t.Xa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jb}}function fV(n,t,e){return new CD({Xa:3,uc:t.settings.uc,methodName:n._methodName,ec:e},t.databaseId,t.M,t.ignoreUndefinedProperties)}class kk extends yp{_toFieldTransform(t){return new Mb(t.path,new Bg)}isEqual(t){return t instanceof kk}}class a6 extends yp{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=fV(this,t,!0),i=this.cc.map(a=>bp(a,e)),r=new op(i);return new Mb(t.path,r)}isEqual(t){return this===t}}class l6 extends yp{constructor(t,e){super(t),this.cc=e}_toFieldTransform(t){const e=fV(this,t,!0),i=this.cc.map(a=>bp(a,e)),r=new ap(i);return new Mb(t.path,r)}isEqual(t){return this===t}}class c6 extends yp{constructor(t,e){super(t),this.hc=e}_toFieldTransform(t){const e=new Vg(t.M,lL(t.M,this.hc));return new Mb(t.path,e)}isEqual(t){return this===t}}function Rk(n,t,e,i){const r=n.ac(1,t,e);Pk("Data must be an object, but it was:",r,i);const a=[],u=ls.empty();Xf(i,(_,b)=>{const T=DD(t,_,e);b=(0,Xt.m9)(b);const A=r.sc(T);if(b instanceof Jb)a.push(T);else{const O=bp(b,A);null!=O&&(a.push(T),u.set(T,O))}});const f=new Og(a);return new dV(u,f,r.fieldTransforms)}function Ok(n,t,e,i,r,a){const u=n.ac(1,t,e),f=[Nk(t,i,e)],_=[r];if(a.length%2!=0)throw new ke(de.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(Nk(t,a[O])),_.push(a[O+1]);const b=[],T=ls.empty();for(let O=f.length-1;O>=0;--O)if(!_V(b,f[O])){const B=f[O];let U=_[O];U=(0,Xt.m9)(U);const ee=u.sc(B);if(U instanceof Jb)b.push(B);else{const Ce=bp(U,ee);null!=Ce&&(b.push(B),T.set(B,Ce))}}const A=new Og(b);return new dV(T,A,u.fieldTransforms)}function pV(n,t,e,i=!1){return bp(e,n.ac(i?4:3,t))}function bp(n,t){if(gV(n=(0,Xt.m9)(n)))return Pk("Unsupported field value:",t,n),mV(n,t);if(n instanceof yp)return function(e,i){if(!hV(i.Xa))throw i.rc(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.rc(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const u of e){let f=bp(u,i.ic(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,Xt.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lL(i.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ri.fromDate(e);return{timestampValue:Fb(i.M,r)}}if(e instanceof Ri){const r=new Ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Fb(i.M,r)}}if(e instanceof wD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ic)return{bytesValue:SL(i.M,e._byteString)};if(e instanceof Kn){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.rc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:QA(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.rc(`Unsupported field value: ${vD(e)}`)}(n,t)}function mV(n,t){const e={};return FF(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xf(n,(i,r)=>{const a=bp(r,t.tc(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function gV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ri||n instanceof wD||n instanceof ic||n instanceof Kn||n instanceof yp)}function Pk(n,t,e){if(!gV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vD(e);throw t.rc("an object"===i?n+" a custom object":n+" "+i)}var i}function Nk(n,t,e){if((t=(0,Xt.m9)(t))instanceof Du)return t._internalPath;if("string"==typeof t)return DD(n,t);throw TD("Field path arguments must be of type string or ",n,!1,void 0,e)}const u6=new RegExp("[~\\*/\\[\\]]");function DD(n,t,e){if(t.search(u6)>=0)throw TD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Du(...t.split("."))._internalPath}catch(i){throw TD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function TD(n,t,e,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new ke(de.INVALID_ARGUMENT,f+n+_)}function _V(n,t){return n.some(e=>e.isEqual(t))}class Xb{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new d6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ID("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class d6 extends Xb{data(){return super.data()}}function ID(n,t){return"string"==typeof t?DD(n,t):t instanceof Du?t._internalPath:t._delegate._internalPath}class wp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Tu extends Xb{constructor(t,e,i,r,a,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new e0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ID("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class e0 extends Tu{data(t={}){return super.data(t)}}class _h{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new e0(this._firestore,this._userDataWriter,i.key,i,new wp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new e0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new wp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new e0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new wp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,b=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:h6(u.type),doc:f,oldIndex:_,newIndex:b}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function h6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function yV(n,t){return n instanceof Tu&&t instanceof Tu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof _h&&t instanceof _h&&n._firestore===t._firestore&&aV(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function vV(n){if(KE(n)&&0===n.explicitOrderBy.length)throw new ke(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}function yh(n,...t){for(const e of t)n=e._apply(n);return n}class f6 extends t0{constructor(t,e,i){super(),this.lc=t,this.fc=e,this.dc=i,this.type="where"}_apply(t){const e=vp(t.firestore),i=function(r,a,u,f,_,b,T){let A;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){TV(T,b);const B=[];for(const U of T)B.push(DV(f,r,U));A={arrayValue:{values:B}}}else A=DV(f,r,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||TV(T,b),A=pV(u,"where",T,"in"===b||"not-in"===b);const O=zr.create(_,b,A);return function(B,U){if(U.S()){const Ce=$A(B);if(null!==Ce&&!Ce.isEqual(U.field))throw new ke(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ce.toString()}' and '${U.field.toString()}'`);const $e=GA(B);null!==$e&&IV(0,U.field,$e)}const ee=function(Ce,$e){for(const rt of Ce.filters)if($e.indexOf(rt.op)>=0)return rt.op;return null}(B,function(Ce){switch(Ce){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(U.op));if(null!==ee)throw new ke(de.INVALID_ARGUMENT,ee===U.op?`Invalid query. You cannot use more than one '${U.op.toString()}' filter.`:`Invalid query. You cannot use '${U.op.toString()}' filters with '${ee.toString()}' filters.`)}(r,O),O}(t._query,0,e,t.firestore._databaseId,this.lc,this.fc,this.dc);return new cs(t.firestore,t.converter,function(r,a){const u=r.filters.concat([a]);return new Cu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class m6 extends t0{constructor(t,e){super(),this.lc=t,this._c=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ng(r,a);return function(f,_){if(null===GA(f)){const b=$A(f);null!==b&&IV(0,b,_.field)}}(i,u),u}(t._query,this.lc,this._c);return new cs(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Cu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class bV extends t0{constructor(t,e,i){super(),this.type=t,this.wc=e,this.mc=i}_apply(t){return new cs(t.firestore,t.converter,nL(t._query,this.wc,this.mc))}}class wV extends t0{constructor(t,e,i){super(),this.type=t,this.gc=e,this.yc=i}_apply(t){const e=EV(t,this.type,this.gc,this.yc);return new cs(t.firestore,t.converter,(r=e,new Cu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class CV extends t0{constructor(t,e,i){super(),this.type=t,this.gc=e,this.yc=i}_apply(t){const e=EV(t,this.type,this.gc,this.yc);return new cs(t.firestore,t.converter,(r=e,new Cu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function EV(n,t,e,i){if(e[0]=(0,Xt.m9)(e[0]),e[0]instanceof Xb)return function(r,a,u,f,_){if(!f)throw new ke(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of Lg(r))if(T.field.isKeyField())b.push(ip(a,f.key));else{const A=f.data.field(T.field);if(VA(A))throw new ke(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const O=T.field.canonicalString();throw new ke(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(A)}return new ch(b,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=vp(n.firestore);return function(a,u,f,_,b,T){const A=a.explicitOrderBy;if(b.length>A.length)throw new ke(de.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<b.length;B++){const U=b[B];if(A[B].field.isKeyField()){if("string"!=typeof U)throw new ke(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof U}`);if(!zA(a)&&-1!==U.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${U}' contains a slash.`);const ee=a.path.child(dn.fromString(U));if(!Ge.isDocumentKey(ee))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const Ce=new Ge(ee);O.push(ip(u,Ce))}else{const ee=pV(f,_,U);O.push(ee)}}return new ch(O,T)}(n._query,n.firestore._databaseId,r,t,e,i)}}function DV(n,t,e){if("string"==typeof(e=(0,Xt.m9)(e))){if(""===e)throw new ke(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zA(t)&&-1!==e.indexOf("/"))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(dn.fromString(e));if(!Ge.isDocumentKey(i))throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ip(n,new Ge(i))}if(e instanceof Kn)return ip(n,e._key);throw new ke(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vD(e)}.`)}function TV(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new ke(de.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function IV(n,t,e){if(!e.isEqual(t))throw new ke(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class Fk{convertValue(t,e="none"){switch(np(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ep(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ot()}}convertObject(t,e){const i={};return Xf(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new wD(vi(t.latitude),vi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=LF(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Cb(t));default:return null}}convertTimestamp(t){const e=ah(t);return new Ri(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=dn.fromString(t);Ot(LL(i));const r=new bu(i.get(1),i.get(3)),a=new Ge(i.popFirst(5));return r.isEqual(e)||zi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function SD(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class E6 extends Fk{constructor(t){super(),this.firestore=t}convertBytes(t){return new ic(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Kn(this.firestore,null,e)}}class SV{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=vp(t)}set(t,e,i){this._verifyNotCommitted();const r=vh(t,this._firestore),a=SD(r.converter,e,i),u=ED(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,qi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=vh(t,this._firestore);let u;return u="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Du?Ok(this._dataReader,"WriteBatch.update",a._key,e,i,r):Rk(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,qi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=vh(t,this._firestore);return this._mutations=this._mutations.concat(new Rb(e._key,qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vh(n,t){if((n=(0,Xt.m9)(n)).firestore!==t)throw new ke(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Cp extends Fk{constructor(t){super(),this.firestore=t}convertBytes(t){return new ic(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Kn(this.firestore,null,e)}}function xV(n,t,e){n=rn(n,Kn);const i=rn(n.firestore,ii),r=SD(n.converter,t,e);return i_(i,[ED(vp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,qi.none())])}function AV(n,t,e,...i){n=rn(n,Kn);const r=rn(n.firestore,ii),a=vp(r);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Du?Ok(a,"updateDoc",n._key,t,e,i):Rk(a,"updateDoc",n._key,t),i_(r,[u.toMutation(n._key,qi.exists(!0))])}function MV(n,...t){var e,i,r;n=(0,Xt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Mk(t[u])||(a=t[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(Mk(t[u])){const A=t[u];t[u]=null===(e=A.next)||void 0===e?void 0:e.bind(A),t[u+1]=null===(i=A.error)||void 0===i?void 0:i.bind(A),t[u+2]=null===(r=A.complete)||void 0===r?void 0:r.bind(A)}let _,b,T;if(n instanceof Kn)b=rn(n.firestore,ii),T=Fg(n._key.path),_={next:A=>{t[u]&&t[u](Lk(b,n,A))},error:t[u+1],complete:t[u+2]};else{const A=rn(n,cs);b=rn(A.firestore,ii),T=A._query;const O=new Cp(b);_={next:B=>{t[u]&&t[u](new _h(b,O,A,B))},error:t[u+1],complete:t[u+2]},vV(n._query)}return function(A,O,B,U){const ee=new _D(U),Ce=new ZM(O,ee,B);return A.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return GM(yield n_(A),Ce)})),()=>{ee.Ia(),A.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return zM(yield n_(A),Ce)}))}}(Zi(b),T,f,_)}function i_(n,t){return function(e,i){const r=new br;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function gz(n,t,e){return XM.apply(this,arguments)}(yield Sk(e),i,r)})),r.promise}(Zi(n),t)}function Lk(n,t,e){const i=e.docs.get(t._key),r=new Cp(n);return new Tu(n,r,t._key,i,new wp(e.hasPendingWrites,e.fromCache),t.converter)}class O6 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=vp(t)}get(t){const e=vh(t,this._firestore),i=new E6(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ot();const a=r[0];if(a.isFoundDocument())return new Xb(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new Xb(this._firestore,i,e._key,null,e.converter);throw ot()})}set(t,e,i){const r=vh(t,this._firestore),a=SD(r.converter,e,i),u=ED(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const a=vh(t,this._firestore);let u;return u="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Du?Ok(this._dataReader,"Transaction.update",a._key,e,i,r):Rk(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=vh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=vh(t,this._firestore),i=new Cp(this._firestore);return super.get(t).then(r=>new Tu(this._firestore,i,e._key,r._document,new wp(!1,!1),e.converter))}}function Bk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function RV(){if("undefined"==typeof Uint8Array)throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function OV(){if(!function JG(){return"undefined"!=typeof atob}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){kg=Wf.SDK_VERSION,(0,Wf._registerComponent)(new _E.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),a=new ii(r,new qG(e.getProvider("auth-internal")),new YG(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC")),(0,Wf.registerVersion)(MF,"3.4.8",n),(0,Wf.registerVersion)(MF,"3.4.8","esm2017")}();class n0{constructor(t){this._delegate=t}static fromBase64String(t){return OV(),new n0(ic.fromBase64String(t))}static fromUint8Array(t){return RV(),new n0(ic.fromUint8Array(t))}toBase64(){return OV(),this._delegate.toBase64()}toUint8Array(){return RV(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Vk(n){return function j6(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class G6{enableIndexedDbPersistence(t,e){return function Kz(n,t){uV(n=rn(n,ii));const e=Zi(n),i=n._freezeSettings(),r=new bk;return cV(e,r,new zB(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Qz(n){uV(n=rn(n,ii));const t=Zi(n),e=n._freezeSettings(),i=new bk;return cV(t,i,new Rz(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Jz(n){if(n._initialized&&!n._terminated)throw new ke(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new br;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(e=(0,ve.Z)(function*(i){if(!cl.vt())return Promise.resolve();const r=i+"main";yield cl.delete(r)}),function(i){return e.apply(this,arguments)})(hM(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class PV{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof bu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&bb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function zz(n,t,e,i={}){var r;const a=(n=rn(n,Qb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&bb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=$r.MOCK_USER;else{u=(0,Xt.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new ke(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $r(_)}n._authCredentials=new zG(new kF(u,f))}}(this._delegate,t,e,i)}enableNetwork(){return function e6(n){return function Lz(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield YB(n),e=yield KB(n);return t.setNetworkEnabled(!0),function(i){const r=qe(i);return r.fu.delete(0),Yb(r)}(e)}))}(Zi(n=rn(n,ii)))}(this._delegate)}disableNetwork(){return function t6(n){return function Bz(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const t=yield YB(n),e=yield KB(n);return t.setNetworkEnabled(!1),(i=(0,ve.Z)(function*(r){const a=qe(r);a.fu.add(0),yield Yg(a),a.wu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Zi(n=rn(n,ii)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,eV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Xz(n){return function(t){const e=new br;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function bz(n,t){return rk.apply(this,arguments)}(yield Sk(t),e)})),e.promise}(Zi(n=rn(n,ii)))}(this._delegate)}onSnapshotsInSync(t){return function R6(n,t){return function Hz(n,t){const e=new _D(t);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield n_(n),r=e,qe(i).Eu.add(r),void r.next();var i,r})),()=>{e.Ia(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return i=yield n_(n),r=e,void qe(i).Eu.delete(r);var i,r}))}}(Zi(n=rn(n,ii)),Mk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new r_(this,sV(this._delegate,t))}catch(e){throw Us(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ra(this,bD(this._delegate,t))}catch(e){throw Us(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Hs(this,function qz(n,t){if(n=rn(n,Qb),Ak("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(de.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(e=t,new Cu(dn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Us(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function P6(n,t){return function jz(n,t){const e=new br;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const i=yield(r=n,yD(r).then(a=>a.datastore));var r;new Nz(n.asyncQueue,i,t,e).run()})),e.promise}(Zi(n=rn(n,ii)),e=>t(new O6(n,e)))}(this._delegate,e=>t(new NV(this,e)))}batch(){return Zi(this._delegate),new FV(new SV(this._delegate,t=>i_(this._delegate,t)))}loadBundle(t){return function n6(n,t){const e=Zi(n=rn(n,ii)),i=new Zz;return function Gz(n,t,e,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return qB(_,b);if(_ instanceof ArrayBuffer)return qB(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new Oz(_,u);var _}(e,Zb(t));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function kz(n,t,e){const i=qe(n);var r;(r=(0,ve.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(O,B){const U=qe(O),ee=Cr(B.createTime);return U.persistence.runTransaction("hasNewerBundle","readonly",Ce=>U._s.getBundleMetadata(Ce,B.id)).then(Ce=>!!Ce&&Ce.createTime.compareTo(ee)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=_).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(NB(_));const b=new uz(_,a.localStore,u.M);let T=yield u.da();for(;T;){const O=yield b.ku(T);O&&f._updateProgress(O),T=yield u.da()}const A=yield b.complete();return yield Eu(a,A.Fu,void 0),yield function(O,B){const U=qe(O);return U.persistence.runTransaction("Save bundle","readwrite",ee=>U._s.saveBundleMetadata(ee,B))}(a.localStore,_),f._completeWith(A.progress),Promise.resolve(A.Ou)}catch(_){return bb("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var O}),function(a,u,f){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Sk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function i6(n,t){return function $z(n,t){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(e,i){const r=qe(e);return r.persistence.runTransaction("Get named query","readonly",a=>r._s.getNamedQuery(a,i))}(yield Ik(n),t)}))}(Zi(n=rn(n,ii)),t).then(e=>e?new cs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Hs(this,e):null)}}class xD extends Fk{constructor(t){super(),this.firestore=t}convertBytes(t){return new n0(new ic(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ra.forKey(e,this.firestore,null)}}class NV{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xD(t)}get(t){const e=Dp(t);return this._delegate.get(e).then(i=>new r0(this._firestore,new Tu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Dp(t);return i?(Bk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Dp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Dp(t);return this._delegate.delete(e),this}}class FV{constructor(t){this._delegate=t}set(t,e,i){const r=Dp(t);return i?(Bk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Dp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Dp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ep{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new e0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new s0(this._firestore,i),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ep.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new Ep(t,new xD(t),e),r.set(e,a)),a}}Ep.INSTANCES=new WeakMap;class Ra{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xD(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ra(e,new Kn(e._delegate,i,new Ge(t)))}static forKey(t,e,i){return new Ra(e,new Kn(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new r_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new r_(this.firestore,sV(this._delegate,t))}catch(e){throw Us(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Xt.m9)(t))instanceof Kn&&oV(this._delegate,t)}set(t,e){e=Bk("DocumentReference.set",e);try{return e?xV(this._delegate,t,e):xV(this._delegate,t)}catch(i){throw Us(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?AV(this._delegate,t):AV(this._delegate,t,e,...i)}catch(r){throw Us(r,"updateDoc()","DocumentReference.update()")}}delete(){return function M6(n){return i_(rn(n.firestore,ii),[new Rb(n._key,qi.none())])}(this._delegate)}onSnapshot(...t){const e=LV(t),i=BV(t,r=>new r0(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return MV(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function T6(n){n=rn(n,Kn);const t=rn(n.firestore,ii),e=Zi(t),i=new Cp(t);return function Vz(n,t){const e=new br;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const f=yield function(_,b){const T=qe(_);return T.persistence.runTransaction("read document","readonly",A=>T.ci.Ls(A,b))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new ke(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Jg(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield Ik(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Tu(t,i,n._key,r,new wp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function I6(n){n=rn(n,Kn);const t=rn(n.firestore,ii);return QB(Zi(t),n._key,{source:"server"}).then(e=>Lk(t,n,e))}(this._delegate):function D6(n){n=rn(n,Kn);const t=rn(n.firestore,ii);return QB(Zi(t),n._key).then(e=>Lk(t,n,e))}(this._delegate),e.then(i=>new r0(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Ra(this.firestore,this._delegate.withConverter(t?Ep.getInstance(this.firestore,t):null))}}function Us(n,t,e){return n.message=n.message.replace(t,e),n}function LV(n){for(const t of n)if("object"==typeof t&&!Vk(t))return t;return{}}function BV(n,t){var e,i;let r;return r=Vk(n[0])?n[0]:Vk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class r0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return yV(this._delegate,t._delegate)}}class s0 extends r0{data(t){const e=this._delegate.data(t);return function GG(n,t){n||ot()}(void 0!==e),e}}class Hs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xD(t)}where(t,e,i){try{return new Hs(this.firestore,yh(this._delegate,function p6(n,t,e){const i=t,r=ID("where",n);return new f6(r,i,e)}(t,e,i)))}catch(r){throw Us(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Hs(this.firestore,yh(this._delegate,function g6(n,t="asc"){const e=t,i=ID("orderBy",n);return new m6(i,e)}(t,e)))}catch(i){throw Us(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Hs(this.firestore,yh(this._delegate,function _6(n){return iV("limit",n),new bV("limit",n,"F")}(t)))}catch(e){throw Us(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Hs(this.firestore,yh(this._delegate,function y6(n){return iV("limitToLast",n),new bV("limitToLast",n,"L")}(t)))}catch(e){throw Us(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Hs(this.firestore,yh(this._delegate,function v6(...n){return new wV("startAt",n,!0)}(...t)))}catch(e){throw Us(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Hs(this.firestore,yh(this._delegate,function b6(...n){return new wV("startAfter",n,!1)}(...t)))}catch(e){throw Us(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Hs(this.firestore,yh(this._delegate,function w6(...n){return new CV("endBefore",n,!1)}(...t)))}catch(e){throw Us(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Hs(this.firestore,yh(this._delegate,function C6(...n){return new CV("endAt",n,!0)}(...t)))}catch(e){throw Us(e,"endAt()","Query.endAt()")}}isEqual(t){return aV(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function x6(n){n=rn(n,cs);const t=rn(n.firestore,ii),e=Zi(t),i=new Cp(t);return function Uz(n,t){const e=new br;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(i=(0,ve.Z)(function*(r,a,u){try{const f=yield dD(r,a,!0),_=new BB(a,f.li),b=_.Gu(f.documents),T=_.applyChanges(b,!1);u.resolve(T.snapshot)}catch(f){const _=Jg(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield Ik(n),t,e);var i})),e.promise}(e,n._query).then(r=>new _h(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function A6(n){n=rn(n,cs);const t=rn(n.firestore,ii),e=Zi(t),i=new Cp(t);return JB(e,n._query,{source:"server"}).then(r=>new _h(t,i,n,r))}(this._delegate):function S6(n){n=rn(n,cs);const t=rn(n.firestore,ii),e=Zi(t),i=new Cp(t);return vV(n._query),JB(e,n._query).then(r=>new _h(t,i,n,r))}(this._delegate),e.then(i=>new Uk(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=LV(t),i=BV(t,r=>new Uk(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return MV(this._delegate,e,i)}withConverter(t){return new Hs(this.firestore,this._delegate.withConverter(t?Ep.getInstance(this.firestore,t):null))}}class z6{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new s0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Uk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Hs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new s0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new z6(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new s0(this._firestore,i))})}isEqual(t){return yV(this._delegate,t._delegate)}}class r_ extends Hs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ra(this.firestore,t):null}doc(t){try{return new Ra(this.firestore,void 0===t?bD(this._delegate):bD(this._delegate,t))}catch(e){throw Us(e,"doc()","CollectionReference.doc()")}}add(t){return function k6(n,t){const e=rn(n.firestore,ii),i=bD(n),r=SD(n.converter,t);return i_(e,[ED(vp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,qi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Ra(this.firestore,e))}isEqual(t){return oV(this._delegate,t._delegate)}withConverter(t){return new r_(this.firestore,this._delegate.withConverter(t?Ep.getInstance(this.firestore,t):null))}}function Dp(n){return rn(n,Kn)}class Hk{constructor(...t){this._delegate=new Du(...t)}static documentId(){return new Hk(wr.keyField().canonicalString())}isEqual(t){return(t=(0,Xt.m9)(t))instanceof Du&&this._delegate._internalPath.isEqual(t._internalPath)}}class Tp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function F6(){return new kk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Tp(t)}static delete(){const t=function N6(){return new Jb("deleteField")}();return t._methodName="FieldValue.delete",new Tp(t)}static arrayUnion(...t){const e=function L6(...n){return new a6("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Tp(e)}static arrayRemove(...t){const e=function B6(...n){return new l6("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Tp(e)}static increment(t){const e=function V6(n){return new c6("increment",n)}(t);return e._methodName="FieldValue.increment",new Tp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const q6={Firestore:PV,GeoPoint:wD,Timestamp:Ri,Blob:n0,Transaction:NV,WriteBatch:FV,DocumentReference:Ra,DocumentSnapshot:r0,Query:Hs,QueryDocumentSnapshot:s0,QuerySnapshot:Uk,CollectionReference:r_,FieldPath:Hk,FieldValue:Tp,setLogLevel:function $6(n){!function jG(n){oh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Z6(n){(function W6(n,t){n.INTERNAL.registerComponent(new _E.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},q6)))})(n,(t,e)=>new PV(t,e,new G6)),n.registerVersion("@firebase/firestore-compat","0.1.17")}(Pj.Z);var AD=P(5363),Y6=P(6063);class K6 extends lt.x{constructor(t=1/0,e=1/0,i=Y6.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;e||(i.push(t),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!t.closed;u+=i?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=e.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}function VV(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,(0,ZP.B)({connector:()=>new K6(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function UV(n,t){return(0,Bi.m)(t)?xn(()=>n,t):xn(()=>n)}var jk=P(9468);P(5867);const jV=new Map,tq={activated:!1,tokenObservers:[]},nq={initialized:!1,enabled:!1};function Tr(n){return jV.get(n)||tq}function ul(n,t){jV.set(n,t)}function kD(){return nq}class aq{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ve.Z)(function*(){e.stop();try{e.pending=new Xt.BH,yield function lq(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Xt.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const js=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $V(n){if(!Tr(n).activated)throw js.create("use-before-activation",{appName:n.name})}function qk(n,t){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,ve.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const A=yield r.getHeartbeatsHeader();A&&(i["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(t),headers:i};let u,f;try{u=yield fetch(n,a)}catch(A){throw js.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw js.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw js.create("fetch-parse-error",{originalErrorMessage:A.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}}),Wk.apply(this,arguments)}function fq(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const o0="firebase-app-check-store";let PD=null;function qV(){return PD||(PD=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(js.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(o0,{keyPath:"compositeKey"})}}catch(e){t(js.create("storage-open",{originalErrorMessage:e.message}))}}),PD)}function Zk(){return Zk=(0,ve.Z)(function*(n,t){const i=(yield qV()).transaction(o0,"readwrite"),a=i.objectStore(o0).put({compositeKey:n,value:t});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var b;f(js.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),Zk.apply(this,arguments)}const a0=new ih.Yd("@firebase/app-check");function KV(n,t){return(0,Xt.hl)()?function _q(n,t){return function WV(n,t){return Zk.apply(this,arguments)}(function YV(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{a0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function QV(){return kD().enabled}function JV(){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,ve.Z)(function*(){const n=kD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Jk.apply(this,arguments)}const Eq={error:"UNKNOWN_ERROR"};function Dq(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function ND(n){return Xk.apply(this,arguments)}function Xk(){return Xk=(0,ve.Z)(function*(n,t=!1){const e=n.app;$V(e);const i=Tr(e);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&FD(_)&&(r=_)}if(!t&&r&&FD(r))return{token:r.token};let f,u=!1;if(QV()){i.exchangeTokenPromise||(i.exchangeTokenPromise=qk(fq(e,yield JV()),n.heartbeatServiceProvider).then(b=>(i.exchangeTokenPromise=void 0,b)),u=!0);const _=yield i.exchangeTokenPromise;return yield KV(e,_),ul(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?a0.warn(_.message):a0.error(_),a=_}return r?(f={token:r.token},ul(e,Object.assign(Object.assign({},i),{token:r})),yield KV(e,r)):f=Iq(a),u&&e2(e,f),f}),Xk.apply(this,arguments)}function tR(n,t){const e=Tr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ul(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function XV(n){const{app:t}=n,e=Tr(t);let i=e.tokenRefresher;i||(i=function Tq(n){const{app:t}=n;return new aq((0,ve.Z)(function*(){let i;if(i=Tr(t).token?yield ND(n,!0):yield ND(n),i.error)throw i.error}),()=>!0,()=>{const e=Tr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),ul(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function e2(n,t){const e=Tr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function FD(n){return n.expireTimeMillis-Date.now()>0}function Iq(n){return{token:Dq(Eq),error:n}}class Sq{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Tr(this.app);for(const e of t)tR(this.app,e.next);return Promise.resolve()}}const c2="app-check-internal";!function Hq(){(0,Wf._registerComponent)(new _E.wA("app-check",n=>function xq(n,t){return new Sq(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(c2).initialize()})),(0,Wf._registerComponent)(new _E.wA(c2,n=>function Aq(n){return{getToken:t=>ND(n,t),addTokenListener:t=>function eR(n,t,e,i){const{app:r}=n,a=Tr(r),u={next:e,error:i,type:t};if(ul(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&FD(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),XV(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>XV(n))}(n,"INTERNAL",t),removeTokenListener:t=>tR(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wf.registerVersion)("@firebase/app-check","0.5.6")}();class sR{constructor(){return(0,Ur.vb)("app-check")}}"undefined"!=typeof window&&window;var qq=P(127);const d2=new l.OlP("angularfire2.auth.use-emulator"),h2=new l.OlP("angularfire2.auth.settings"),f2=new l.OlP("angularfire2.auth.tenant-id"),p2=new l.OlP("angularfire2.auth.langugage-code"),m2=new l.OlP("angularfire2.auth.use-device-language"),g2=new l.OlP("angularfire.auth.persistence"),_2=(n,t,e,i,r,a,u,f)=>(0,ll.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))_.settings[b]=T;return f&&_.setPersistence(f),_},[e,i,r,a,u,f]);let y2=(()=>{class n{constructor(e,i,r,a,u,f,_,b,T,A,O,B){const U=new lt.x,ee=Xe(void 0).pipe((0,AD.Q)(u.outsideAngular),xn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,820)))),(0,vt.U)(()=>(0,ll.on)(e,a,i)),(0,vt.U)(Ce=>_2(Ce,a,f,b,T,A,_,O)),VV({bufferSize:1,refCount:!1}));if(mi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Xe(null);else{ee.pipe(uo()).subscribe();const $e=ee.pipe(xn(tt=>tt.getRedirectResult().then(Bt=>Bt,()=>null)),Ur.iC,VV({bufferSize:1,refCount:!1})),rt=ee.pipe(xn(tt=>new qn.y(Bt=>({unsubscribe:a.runOutsideAngular(()=>tt.onAuthStateChanged($t=>Bt.next($t),$t=>Bt.error($t),()=>Bt.complete()))})))),it=ee.pipe(xn(tt=>new qn.y(Bt=>({unsubscribe:a.runOutsideAngular(()=>tt.onIdTokenChanged($t=>Bt.next($t),$t=>Bt.error($t),()=>Bt.complete()))}))));this.authState=$e.pipe(UV(rt),(0,jk.R)(u.outsideAngular),(0,AD.Q)(u.insideAngular)),this.user=$e.pipe(UV(it),(0,jk.R)(u.outsideAngular),(0,AD.Q)(u.insideAngular)),this.idToken=this.user.pipe(xn(tt=>tt?(0,On.D)(tt.getIdToken()):Xe(null))),this.idTokenResult=this.user.pipe(xn(tt=>tt?(0,On.D)(tt.getIdTokenResult()):Xe(null))),this.credential=(0,Yo.T)($e,U,this.authState.pipe(In(tt=>!tt))).pipe((0,vt.U)(tt=>(null==tt?void 0:tt.user)?tt:null),(0,jk.R)(u.outsideAngular),(0,AD.Q)(u.insideAngular))}return(0,ll.pX)(this,ee,a,{spy:{apply:(Ce,$e,rt)=>{(Ce.startsWith("signIn")||Ce.startsWith("createUser"))&&rt.then(it=>U.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ll.Dh),l.LFG(ll.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ur.HU),l.LFG(d2,8),l.LFG(h2,8),l.LFG(f2,8),l.LFG(p2,8),l.LFG(m2,8),l.LFG(g2,8),l.LFG(sR,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function v2(n,t){return function Zq(n,t=Lm.z){return new qn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function aR(n,t){return v2(n,t).pipe((0,vt.U)(e=>({payload:e,type:"query"})))}function BD(n,t){return aR(n,t).pipe(Tn(void 0),zx(),(0,vt.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(T=>T.doc.ref.isEqual(u.ref)),b=null==e?void 0:e.payload.docs.find(T=>T.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function b2(n,t,e){return BD(n,e).pipe(Si((i,r)=>function Kq(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Qq(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return lR(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return lR(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return lR(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),Sf(),(0,vt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function lR(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function w2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class C2{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=BD(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,vt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Tn(void 0),zx(),In(([i,r])=>r.length>0||!i),(0,vt.U)(([i,r])=>r),Ur.iC)}auditTrail(t){return this.stateChanges(t).pipe(Si((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=w2(t);return b2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}valueChanges(t={}){return aR(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Ur.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(Ur.iC)}add(t){return this.ref.add(t)}doc(t){return new E2(this.ref.doc(t),this.afs)}}class E2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=I2(i,e);return new C2(r,a,this.afs)}snapshotChanges(){return function Yq(n,t){return v2(n,t).pipe(Tn(void 0),zx(),(0,vt.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,On.D)(this.ref.get(t)).pipe(Ur.iC)}}class Jq{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?BD(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),In(e=>e.length>0),Ur.iC):BD(this.query,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}auditTrail(t){return this.stateChanges(t).pipe(Si((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=w2(t);return b2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Ur.iC)}valueChanges(t={}){return aR(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Ur.iC)}get(t){return(0,On.D)(this.query.get(t)).pipe(Ur.iC)}}const D2=new l.OlP("angularfire2.enableFirestorePersistence"),T2=new l.OlP("angularfire2.firestore.persistenceSettings"),Xq=new l.OlP("angularfire2.firestore.settings"),eW=new l.OlP("angularfire2.firestore.use-emulator");function I2(n,t=(e=>e)){return{query:t(n),ref:n}}let cR=(()=>{class n{constructor(e,i,r,a,u,f,_,b,T,A,O,B,U,ee,Ce,$e,rt){this.schedulers=_;const it=(0,ll.on)(e,f,i),tt=T;A&&_2(it,f,O,U,ee,Ce,B,$e),[this.firestore,this.persistenceEnabled$]=(0,ll.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const Bt=f.runOutsideAngular(()=>it.firestore());if(a&&Bt.settings(a),tt&&Bt.useEmulator(...tt),r&&!mi(u)){const $t=()=>{try{return(0,On.D)(Bt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(bn){return"undefined"!=typeof console&&console.warn(bn),Xe(!1)}};return[Bt,f.runOutsideAngular($t)]}return[Bt,Xe(!1)]},[a,tt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=I2(r,i),f=this.schedulers.ngZone.run(()=>a);return new C2(f,u,this)}collectionGroup(e,i){const r=i||(u=>u),a=this.firestore.collectionGroup(e);return new Jq(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new E2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ll.Dh),l.LFG(ll.xv,8),l.LFG(D2,8),l.LFG(Xq,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ur.HU),l.LFG(T2,8),l.LFG(eW,8),l.LFG(y2,8),l.LFG(d2,8),l.LFG(h2,8),l.LFG(f2,8),l.LFG(p2,8),l.LFG(m2,8),l.LFG(g2,8),l.LFG(sR,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),tW=(()=>{class n{constructor(){qq.Z.registerVersion("angularfire",Ur.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:D2,useValue:!0},{provide:T2,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[cR]}),n})(),nW=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-toolbar"]],decls:10,vars:0,consts:[["role","banner",1,"toolbar"],[1,"toolbar-card"],[1,"spacer"]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon"),l._uU(3,"casino"),l.qZA()(),l._UZ(4,"div",2),l.TgZ(5,"div",1)(6,"span"),l._uU(7,"Skyjo"),l.qZA()(),l._UZ(8,"div",2)(9,"div",1),l.qZA())},directives:[eN],styles:[".spacer[_ngcontent-%COMP%]{flex:1}.toolbar[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;height:60px;display:flex;align-items:center;background-color:#7f1734;color:#fff;font-weight:600}.toolbar-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#7f1734;color:#fff;font-weight:600;margin:20px}.newGameButton[_ngcontent-%COMP%]{background-color:#fff;color:#7f1734}"]}),n})();function iW(n,t){if(1&n&&(l.TgZ(0,"th",13)(1,"div"),l._uU(2),l.qZA()()),2&n){const e=l.oxw().$implicit;l.xp6(2),l.Oqu(e.header)}}function rW(n,t){if(1&n&&(l.TgZ(0,"td",14)(1,"div"),l._uU(2),l.qZA()()),2&n){const e=t.$implicit,i=l.oxw().$implicit;l.xp6(2),l.Oqu(i.cell(e))}}function sW(n,t){if(1&n&&(l.TgZ(0,"td",15),l._uU(1),l.qZA()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.footer()," ")}}function oW(n,t){1&n&&(l.ynx(0,10),l.YNc(1,iW,3,1,"th",11),l.YNc(2,rW,3,1,"td",12),l.YNc(3,sW,2,1,"td",3),l.BQk()),2&n&&l.Q6J("matColumnDef",t.$implicit.columnDef)}function aW(n,t){if(1&n&&(l.TgZ(0,"td",15),l._uU(1),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.hij(" ",e.rounds.length+1," ")}}function lW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",19),l.NdJ("click",function(){l.CHM(e);const r=l.oxw(2).index;return l.oxw().playerScoreInput[r]=""}),l.TgZ(1,"mat-icon"),l._uU(2,"close"),l.qZA()()}}function cW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",15)(1,"form")(2,"mat-form-field",16)(3,"input",17),l.NdJ("ngModelChange",function(r){l.CHM(e);const a=l.oxw().index;return l.oxw().playerScoreInput[a]=r}),l.qZA(),l.YNc(4,lW,3,0,"button",18),l.qZA()()()}if(2&n){const e=l.oxw().index,i=l.oxw();l.xp6(3),l.Q6J("ngModel",i.playerScoreInput[e]),l.xp6(1),l.Q6J("ngIf",i.playerScoreInput[e])}}function uW(n,t){if(1&n&&(l.ynx(0,10),l.YNc(1,cW,5,2,"td",3),l.BQk()),2&n){const e=t.index,i=l.oxw();l.Q6J("matColumnDef",i.displayedFormColumns[e+1])}}function dW(n,t){1&n&&l._UZ(0,"tr",20)}function hW(n,t){1&n&&l._UZ(0,"tr",21)}function fW(n,t){1&n&&l._UZ(0,"tr",22)}function pW(n,t){1&n&&l._UZ(0,"tr",22)}function mW(n,t){if(1&n&&(l.TgZ(0,"mat-grid-list",6)(1,"mat-grid-tile")(2,"mat-list")(3,"mat-list-item"),l._uU(4),l.qZA()()(),l.TgZ(5,"mat-grid-tile")(6,"mat-list")(7,"mat-list-item"),l._uU(8),l.qZA()()(),l._UZ(9,"mat-divider"),l.qZA()),2&n){const e=t.index,i=l.oxw();l.xp6(4),l.hij(" ",i.data.playersName[e]," "),l.xp6(4),l.hij(" ",i.data.scores[e]," ")}}let gW=(()=>{class n{constructor(e,i,r){this.dialog=e,this.store=i,this.dashboardComponent=r,this.playerScoreInput=[],this.scorePlayers=[],this.rounds=[];const a=JSON.parse(localStorage.getItem("playerList")||"{}");void 0===a.playersName||a.playersName===[]?(this.dashboardComponent.selectedIndex=0,this.dashboardComponent.activate=!1):(this.dashboardComponent.selectedIndex=1,this.dashboardComponent.activate=!0),this.players=a,localStorage.setItem("playerList",JSON.stringify(this.players)),this.rounds=JSON.parse(localStorage.getItem("roundList")||"[]"),this.columns=this.setColumns(),this.displayedColumns=this.columns.map(u=>u.columnDef),this.displayedFormColumns=this.columns.map(u=>u.formDef)}ngOnInit(){}newGame(e){e||window.confirm("Cr\xe9er une nouvelle partie ? \nCette action supprimera la partie en cours.")&&(localStorage.clear(),this.dashboardComponent.selectedIndex=0,this.dashboardComponent.activate=!1),localStorage.clear(),this.dashboardComponent.selectedIndex=2,this.dashboardComponent.activate=!1}getTotal(e){if(0===this.rounds.length||e>this.players.nbPlayers)return 0;let i=0;return this.rounds.forEach(r=>{i+=r.scores[e-1]}),i}counter(){return this.players.nbPlayers?new Array(this.players.nbPlayers):[]}setColumns(){const e=[{columnDef:"round",formDef:"newRound",header:"Round",cell:i=>`${i.round_id} `,footer:()=>"Total"}];for(let i=0;i<this.players.nbPlayers;i++)e.push({columnDef:"player"+i,formDef:"player"+i+"Form",header:this.players.playersName[i],cell:u=>`${u.scores[i]}`,footer:()=>this.getTotal(i+1).toString()});return e}correctInputFormat(){for(let e=0;e<this.players.nbPlayers;e++)if(isNaN(this.scorePlayers[e]))return!1;return!0}addRound(){this.scorePlayers=[],this.playerScoreInput.forEach(e=>{this.scorePlayers.push(parseInt(e))}),this.correctInputFormat()&&this.dialog.open(_W,{width:"500px",data:{nbPlayers:this.players.nbPlayers,playersName:this.players.playersName,scores:this.scorePlayers}}).afterClosed().subscribe(i=>{i&&(this.rounds.push({round_id:this.rounds.length+1,scores:this.scorePlayers}),localStorage.setItem("roundList",JSON.stringify(this.rounds)),this.columns=this.setColumns(),this.table.renderRows(),this.playerScoreInput=[])})}saveGame(){var e=this;return(0,ve.Z)(function*(){if(window.confirm("Enregistrer la partie ? \nCette action est irr\xe9versible.")){let i=e.players.playersName;const r=e.computeTotal(),a={players:i,nbPlayers:e.players.nbPlayers,nbRounds:e.rounds.length,rounds:e.rounds,total:r,winner:e.computeWinner(r),date:new Date};e.store.collection("gamesData").add(a),e.newGame(!0)}})()}computeTotal(){let e=[];for(let i=0;i<this.players.nbPlayers;i++){const r=this.getTotal(i+1)||0;e.push(r)}return e}computeWinner(e){const i=e.indexOf(Math.min(...e));return this.players.playersName[i]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(vg),l.Y36(cR),l.Y36(md))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-current-game"]],viewQuery:function(e,i){if(1&e&&l.Gf(dg,5),2&e){let r;l.iGM(r=l.CRH())&&(i.table=r.first)}},decls:22,vars:8,consts:[["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["matColumnDef","newRound"],["mat-footer-cell","",4,"matFooterCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["cols","3","rowHeight","100px"],["mat-raised-button","",1,"newRoundButton",3,"click"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],["appearance","outline",1,"formNewRound"],["matInput","","type","text","name","first",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,i){1&e&&(l.TgZ(0,"mat-card")(1,"table",0),l.YNc(2,oW,4,1,"ng-container",1),l.ynx(3,2),l.YNc(4,aW,2,1,"td",3),l.BQk(),l.YNc(5,uW,2,1,"ng-container",1),l.YNc(6,dW,1,0,"tr",4),l.YNc(7,hW,1,0,"tr",5),l.YNc(8,fW,1,0,"tr",6),l.YNc(9,pW,1,0,"tr",7),l.qZA(),l.TgZ(10,"mat-grid-list",8)(11,"mat-grid-tile")(12,"button",9),l.NdJ("click",function(){return i.saveGame()}),l._uU(13,"Sauvegarder"),l.qZA()(),l.TgZ(14,"mat-grid-tile")(15,"button",9),l.NdJ("click",function(){return i.addRound()}),l._uU(16,"Ajouter la manche"),l.qZA()(),l.TgZ(17,"mat-grid-tile")(18,"button",9),l.NdJ("click",function(){return i.newGame(!1)}),l.TgZ(19,"mat-icon"),l._uU(20,"gesture"),l.qZA(),l._uU(21," Nouvelle Partie"),l.qZA()()()()),2&e&&(l.xp6(1),l.Q6J("dataSource",i.rounds),l.xp6(1),l.Q6J("ngForOf",i.columns),l.xp6(3),l.Q6J("ngForOf",i.counter()),l.xp6(1),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(1),l.Q6J("matFooterRowDef",i.displayedFormColumns),l.xp6(1),l.Q6J("matFooterRowDef",i.displayedColumns)("matFooterRowDefSticky",!0))},directives:[jP,dg,Un,hg,Dv,Jd,Lf,Sv,Tv,Iv,bP,sP,Dg,R1,HP,Wv,Cx,dE,ai,Ym,Gv,eN,FC,Av,xv,BC,LC,Mv,oN,Gx],styles:[".newRoundButton[_ngcontent-%COMP%]{color:#fff;background-color:#7f1734;margin-top:20px}.formNewRound[_ngcontent-%COMP%]{padding-top:10%;width:75px;text-align:center}.mat-footer-cell[_ngcontent-%COMP%]{width:10%;padding-left:1%;padding-right:1%;border-right:1px solid;font-weight:700}.mat-header-cell[_ngcontent-%COMP%]{width:10%;padding-left:1%;padding-right:1%;background-color:#7f1734;border-right:1px solid;border-color:#fff;color:#fff;font-weight:700;font-size:large;align-items:center;text-align:center}.mat-cell[_ngcontent-%COMP%]{width:10%;padding-left:1%;padding-right:1%;border-right:1px solid}.mat-column-round[_ngcontent-%COMP%], .mat-column-newRound[_ngcontent-%COMP%]{width:5%;padding-right:2%}span[_ngcontent-%COMP%]{font-size:xx-large}table[_ngcontent-%COMP%]{border-left:1px solid;border-right:1px solid;border-top:1px solid;border-bottom:1px solid;border-collapse:collapse;table-layout:fixed;width:90%;margin-right:5%;margin-left:5%}.mat-table-sticky[_ngcontent-%COMP%]{border-top:2px solid #e0e0e0}.mat-card[_ngcontent-%COMP%]{width:90%;margin-right:5%;margin-left:5%}"]}),n})(),_W=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}counter(){return this.data.nbPlayers?new Array(this.data.nbPlayers):[]}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Hf),l.Y36(KC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["addRoundValidate"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content","",2,"height","fit-content"],["cols","2","rowHeight","50px",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["cols","2","rowHeight","50px"]],template:function(e,i){1&e&&(l.TgZ(0,"h1",0),l._uU(1,"Scores"),l.qZA(),l.TgZ(2,"div",1),l.YNc(3,mW,10,2,"mat-grid-list",2),l.qZA(),l.TgZ(4,"div",3)(5,"button",4),l._uU(6,"Annuler"),l.qZA(),l.TgZ(7,"button",5),l._uU(8,"Valider"),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("ngForOf",i.counter()),l.xp6(2),l.Q6J("mat-dialog-close",!1),l.xp6(2),l.Q6J("mat-dialog-close",!0))},directives:[XC,px,Un,oN,Gx,Ij,Sj,gj,mx,Ym,fx],encapsulation:2}),n})();function yW(n,t){1&n&&l.Hsn(0)}const S2=["*"];function vW(n,t){}const bW=function(n){return{animationDuration:n}},wW=function(n,t){return{value:n,params:t}},CW=["tabListContainer"],EW=["tabList"],DW=["tabListInner"],TW=["nextPaginator"],IW=["previousPaginator"],SW=["tabBodyWrapper"],xW=["tabHeader"];function AW(n,t){}function MW(n,t){if(1&n&&l.YNc(0,AW,0,0,"ng-template",10),2&n){const e=l.oxw().$implicit;l.Q6J("cdkPortalOutlet",e.templateLabel)}}function kW(n,t){if(1&n&&l._uU(0),2&n){const e=l.oxw().$implicit;l.Oqu(e.textLabel)}}function RW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",6),l.NdJ("click",function(){const r=l.CHM(e),a=r.$implicit,u=r.index,f=l.oxw(),_=l.MAs(1);return f._handleClick(a,_,u)})("cdkFocusChange",function(r){const u=l.CHM(e).index;return l.oxw()._tabFocusChanged(r,u)}),l.TgZ(1,"div",7),l.YNc(2,MW,1,1,"ng-template",8),l.YNc(3,kW,1,1,"ng-template",null,9,l.W1O),l.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=l.MAs(4),a=l.oxw();l.ekj("mat-tab-label-active",a.selectedIndex===i),l.Q6J("id",a._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||a.disableRipple),l.uIk("tabIndex",a._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(i))("aria-selected",a.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),l.xp6(2),l.Q6J("ngIf",e.templateLabel)("ngIfElse",r)}}function OW(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"mat-tab-body",11),l.NdJ("_onCentered",function(){return l.CHM(e),l.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return l.CHM(e),l.oxw()._setTabBodyWrapperHeight(r)}),l.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=l.oxw();l.ekj("mat-tab-body-active",r.selectedIndex===i),l.Q6J("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),l.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const PW=new l.OlP("MatInkBarPositioner",{providedIn:"root",factory:function NW(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let x2=(()=>{class n{constructor(e,i,r,a){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=a}alignToElement(e){this.show(),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(PW),l.Y36(rr,8))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const A2=new l.OlP("MatTabContent");let FW=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTabContent",""]],features:[l._Bn([{provide:A2,useExisting:n}])]}),n})();const LW=new l.OlP("MatTabLabel"),BW=new l.OlP("MAT_TAB"),VW=Gd(class{}),M2=new l.OlP("MAT_TAB_GROUP");let k2=(()=>{class n extends VW{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new lt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Bf(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(M2,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,LW,5),l.Suo(r,A2,7,l.Rgc)),2&e){let a;l.iGM(a=l.CRH())&&(i.templateLabel=a.first),l.iGM(a=l.CRH())&&(i._explicitContent=a.first)}},viewQuery:function(e,i){if(1&e&&l.Gf(l.Rgc,7),2&e){let r;l.iGM(r=l.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[l._Bn([{provide:BW,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:S2,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.YNc(0,yW,1,0,"ng-template"))},encapsulation:2}),n})();const UW={translateTab:_d("translateTab",[go("center, void, left-origin-center, right-origin-center",yi({transform:"none"})),go("left",yi({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),go("right",yi({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),_a("* => left, * => right, left => center, right => center",Xa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),_a("void => left-origin-center",[yi({transform:"translate3d(-100%, 0, 0)"}),Xa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),_a("void => right-origin-center",[yi({transform:"translate3d(100%, 0, 0)"}),Xa("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let HW=(()=>{class n extends Xd{constructor(e,i,r,a){super(e,i,a),this._host=r,this._centeringSub=Sn.w0.EMPTY,this._leavingSub=Sn.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Tn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36((0,l.Gpc)(()=>R2)),l.Y36(Q))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[l.qOj]}),n})(),jW=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Sn.w0.EMPTY,this._translateTabComplete=new lt.x,this._onCentering=new l.vpe,this._beforeCentering=new l.vpe,this._afterLeavingCenter=new l.vpe,this._onCentered=new l.vpe(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(a=>{this._computePositionAnimationState(a),r.markForCheck()})),this._translateTabComplete.pipe(Sf((a,u)=>a.fromState===u.fromState&&a.toState===u.toState)).subscribe(a=>{this._isCenterPosition(a.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(a.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ss,8),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),R2=(()=>{class n extends jW{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(ss,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&l.Gf(Xd,5),2&e){let r;l.iGM(r=l.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[l.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(l.TgZ(0,"div",0,1),l.NdJ("@translateTab.start",function(a){return i._onTranslateTabStarted(a)})("@translateTab.done",function(a){return i._translateTabComplete.next(a)}),l.YNc(2,vW,0,0,"ng-template",2),l.qZA()),2&e&&l.Q6J("@translateTab",l.WLB(3,wW,i._position,l.VKq(1,bW,i.animationDuration)))},directives:[HW],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[UW.translateTab]}}),n})();const O2=new l.OlP("MAT_TABS_CONFIG"),GW=Gd(class{});let P2=(()=>{class n extends GW{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(l.uIk("aria-disabled",!!i.disabled),l.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[l.qOj]}),n})();const N2=Zl({passive:!0});let qW=(()=>{class n{constructor(e,i,r,a,u,f,_){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=a,this._ngZone=u,this._platform=f,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new lt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new lt.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new l.vpe,this.indexFocused=new l.vpe,u.runOutsideAngular(()=>{uu(e.nativeElement,"mouseleave").pipe(Tt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Vr(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){uu(this._previousPaginator.nativeElement,"touchstart",N2).pipe(Tt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),uu(this._nextPaginator.nativeElement,"touchstart",N2).pipe(Tt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Xe("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new $y(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Pn.q)(1)).subscribe(r),(0,Yo.T)(e,i,this._items.changes).pipe(Tt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Tt(this._destroyed)).subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!zo(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:u}=i.elementRef.nativeElement;let f,_;"ltr"==this._getLayoutDirection()?(f=a,_=f+u):(_=this._tabListInner.nativeElement.offsetWidth-a,f=_-u);const b=this.scrollDistance,T=this.scrollDistance+r;f<b?this.scrollDistance-=b-f+60:_>T&&(this.scrollDistance+=_-T+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),av(650,100).pipe(Tt((0,Yo.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:a}=this._scrollHeader(e);(0===a||a>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Kl),l.Y36(ss,8),l.Y36(l.R0b),l.Y36(ki),l.Y36(rr,8))},n.\u0275dir=l.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),WW=(()=>{class n extends qW{constructor(e,i,r,a,u,f,_){super(e,i,r,a,u,f,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Yt(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Kl),l.Y36(ss,8),l.Y36(l.R0b),l.Y36(ki),l.Y36(rr,8))},n.\u0275dir=l.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[l.qOj]}),n})(),ZW=(()=>{class n extends WW{constructor(e,i,r,a,u,f,_){super(e,i,r,a,u,f,_)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Kl),l.Y36(ss,8),l.Y36(l.R0b),l.Y36(ki),l.Y36(rr,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,P2,4),2&e){let a;l.iGM(a=l.CRH())&&(i._items=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(x2,7),l.Gf(CW,7),l.Gf(EW,7),l.Gf(DW,7),l.Gf(TW,5),l.Gf(IW,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._inkBar=r.first),l.iGM(r=l.CRH())&&(i._tabListContainer=r.first),l.iGM(r=l.CRH())&&(i._tabList=r.first),l.iGM(r=l.CRH())&&(i._tabListInner=r.first),l.iGM(r=l.CRH())&&(i._nextPaginator=r.first),l.iGM(r=l.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[l.qOj],ngContentSelectors:S2,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"button",0,1),l.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(a){return i._handlePaginatorPress("before",a)})("touchend",function(){return i._stopInterval()}),l._UZ(2,"div",2),l.qZA(),l.TgZ(3,"div",3,4),l.NdJ("keydown",function(a){return i._handleKeydown(a)}),l.TgZ(5,"div",5,6),l.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),l.TgZ(7,"div",7,8),l.Hsn(9),l.qZA(),l._UZ(10,"mat-ink-bar"),l.qZA()(),l.TgZ(11,"button",9,10),l.NdJ("mousedown",function(a){return i._handlePaginatorPress("after",a)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),l._UZ(13,"div",2),l.qZA()),2&e&&(l.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),l.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),l.xp6(5),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),l.xp6(6),l.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),l.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[qo,Bw,x2],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),YW=0;class KW{}const QW=Mf(ol(class{constructor(n){this._elementRef=n}}),"primary");let JW=(()=>{class n extends QW{constructor(e,i,r,a){var u;super(e),this._changeDetectorRef=i,this._animationMode=a,this._tabs=new l.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Sn.w0.EMPTY,this._tabLabelSubscription=Sn.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new l.vpe,this.focusChange=new l.vpe,this.animationDone=new l.vpe,this.selectedTabChange=new l.vpe(!0),this._groupId=YW++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(u=null==r?void 0:r.contentTabIndex)&&void 0!==u?u:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Yt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Vr(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Vr(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,a)=>r.isActive=a===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let a=0;a<i.length;a++)if(i[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,r=i[a];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Tn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new KW;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Yo.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){var r;return e.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(O2,8),l.Y36(rr,8))},n.\u0275dir=l.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[l.qOj]}),n})(),XW=(()=>{class n extends JW{constructor(e,i,r,a){super(e,i,r,a)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(O2,8),l.Y36(rr,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,k2,5),2&e){let a;l.iGM(a=l.CRH())&&(i._allTabs=a)}},viewQuery:function(e,i){if(1&e&&(l.Gf(SW,5),l.Gf(xW,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._tabBodyWrapper=r.first),l.iGM(r=l.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[l._Bn([{provide:M2,useExisting:n}]),l.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(l.TgZ(0,"mat-tab-header",0,1),l.NdJ("indexFocused",function(a){return i._focusChanged(a)})("selectFocusedIndex",function(a){return i.selectedIndex=a}),l.YNc(2,RW,5,15,"div",2),l.qZA(),l.TgZ(3,"div",3,4),l.YNc(5,OW,1,10,"mat-tab-body",5),l.qZA()),2&e&&(l.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),l.xp6(2),l.Q6J("ngForOf",i._tabs),l.xp6(1),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),l.xp6(2),l.Q6J("ngForOf",i._tabs))},directives:[ZW,R2,Un,P2,qo,sS,ps,ai,Xd],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),e5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi,cn,fg,Wm,jy,tC],cn]}),n})(),t5=0;const uR=new l.OlP("CdkAccordion");let n5=(()=>{class n{constructor(){this._stateChanges=new lt.x,this._openCloseAllActions=new lt.x,this.id="cdk-accordion-"+t5++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Yt(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[l._Bn([{provide:uR,useExisting:n}]),l.TTD]}),n})(),r5=0,s5=(()=>{class n{constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Sn.w0.EMPTY,this.closed=new l.vpe,this.opened=new l.vpe,this.destroyed=new l.vpe,this.expandedChange=new l.vpe,this.id="cdk-accordion-child-"+r5++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((a,u)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===u&&this.id!==a&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Yt(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Yt(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(uR,12),l.Y36(l.sBO),l.Y36(tv))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[l._Bn([{provide:uR,useValue:void 0}])]}),n})(),o5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const a5=["body"];function l5(n,t){}const c5=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],u5=["mat-expansion-panel-header","*","mat-action-row"];function d5(n,t){if(1&n&&l._UZ(0,"span",2),2&n){const e=l.oxw();l.Q6J("@indicatorRotate",e._getExpandedState())}}const h5=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],f5=["mat-panel-title","mat-panel-description","*"],dR=new l.OlP("MAT_ACCORDION"),L2="225ms cubic-bezier(0.4,0.0,0.2,1)",B2={indicatorRotate:_d("indicatorRotate",[go("collapsed, void",yi({transform:"rotate(0deg)"})),go("expanded",yi({transform:"rotate(180deg)"})),_a("expanded <=> collapsed, void => collapsed",Xa(L2))]),bodyExpansion:_d("bodyExpansion",[go("collapsed, void",yi({height:"0px",visibility:"hidden"})),go("expanded",yi({height:"*",visibility:"visible"})),_a("expanded <=> collapsed, void => collapsed",Xa(L2))])};let p5=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),m5=0;const V2=new l.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let U2=(()=>{class n extends s5{constructor(e,i,r,a,u,f,_){super(e,i,r),this._viewContainerRef=a,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new l.vpe,this.afterCollapse=new l.vpe,this._inputChanges=new lt.x,this._headerId="mat-expansion-panel-header-"+m5++,this._bodyAnimationDone=new lt.x,this.accordion=e,this._document=u,this._bodyAnimationDone.pipe(Sf((b,T)=>b.fromState===T.fromState&&b.toState===T.toState)).subscribe(b=>{"void"!==b.fromState&&("expanded"===b.toState?this.afterExpand.emit():"collapsed"===b.toState&&this.afterCollapse.emit())}),_&&(this.hideToggle=_.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Yt(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Tn(null),In(()=>this.expanded&&!this._portal),(0,Pn.q)(1)).subscribe(()=>{this._portal=new Bf(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(dR,12),l.Y36(l.sBO),l.Y36(tv),l.Y36(l.s_b),l.Y36(Q),l.Y36(rr,8),l.Y36(V2,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,p5,5),2&e){let a;l.iGM(a=l.CRH())&&(i._lazyContent=a.first)}},viewQuery:function(e,i){if(1&e&&l.Gf(a5,5),2&e){let r;l.iGM(r=l.CRH())&&(i._body=r.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&l.ekj("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[l._Bn([{provide:dR,useValue:void 0}]),l.qOj,l.TTD],ngContentSelectors:u5,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(l.F$t(c5),l.Hsn(0),l.TgZ(1,"div",0,1),l.NdJ("@bodyExpansion.done",function(a){return i._bodyAnimationDone.next(a)}),l.TgZ(3,"div",2),l.Hsn(4,1),l.YNc(5,l5,0,0,"ng-template",3),l.qZA(),l.Hsn(6,2),l.qZA()),2&e&&(l.xp6(1),l.Q6J("@bodyExpansion",i._getExpandedState())("id",i.id),l.uIk("aria-labelledby",i._headerId),l.xp6(4),l.Q6J("cdkPortalOutlet",i._portal))},directives:[Xd],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[B2.bodyExpansion]},changeDetection:0}),n})();class g5{}const _5=kf(g5);let H2=(()=>{class n extends _5{constructor(e,i,r,a,u,f,_){super(),this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=a,this._animationMode=f,this._parentChangeSubscription=Sn.w0.EMPTY;const b=e.accordion?e.accordion._stateChanges.pipe(In(T=>!(!T.hideToggle&&!T.togglePosition))):co.E;this.tabIndex=parseInt(_||"")||0,this._parentChangeSubscription=(0,Yo.T)(e.opened,e.closed,b,e._inputChanges.pipe(In(T=>!!(T.hideToggle||T.disabled||T.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(In(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),u&&(this.expandedHeight=u.expandedHeight,this.collapsedHeight=u.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:zo(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(U2,1),l.Y36(l.SBq),l.Y36(au),l.Y36(l.sBO),l.Y36(V2,8),l.Y36(rr,8),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&l.NdJ("click",function(){return i._toggle()})("keydown",function(a){return i._keydown(a)}),2&e&&(l.uIk("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),l.Udp("height",i._getHeaderHeight()),l.ekj("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[l.qOj],ngContentSelectors:f5,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(l.F$t(h5),l.TgZ(0,"span",0),l.Hsn(1),l.Hsn(2,1),l.Hsn(3,2),l.qZA(),l.YNc(4,d5,1,1,"span",1)),2&e&&(l.xp6(4),l.Q6J("ngIf",i._showToggle()))},directives:[ai],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[B2.indicatorRotate]},changeDetection:0}),n})(),y5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-panel-description"]],hostAttrs:[1,"mat-expansion-panel-header-description"]}),n})(),v5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),b5=(()=>{class n extends n5{constructor(){super(...arguments),this._ownHeaders=new l.n_E,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Yt(e)}ngAfterContentInit(){this._headers.changes.pipe(Tn(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new $y(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,H2,5),2&e){let a;l.iGM(a=l.CRH())&&(i._headers=a)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[l._Bn([{provide:dR,useExisting:n}]),l.qOj]}),n})(),w5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi,cn,o5,fg]]}),n})();function C5(n,t){if(1&n&&(l.TgZ(0,"div",2),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function E5(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1," Rounds "),l.qZA())}function D5(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e.round_id," ")}}function T5(n,t){1&n&&(l.TgZ(0,"td",18),l._uU(1," Total "),l.qZA())}function I5(n,t){if(1&n&&(l.TgZ(0,"th",16),l._uU(1),l.qZA()),2&n){const e=l.oxw().index,i=l.oxw().$implicit;l.xp6(1),l.hij(" ",i.players[e]," ")}}function S5(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit,i=l.oxw().index;l.xp6(1),l.hij(" ",e.scores[i]," ")}}function x5(n,t){if(1&n&&(l.TgZ(0,"td",18),l._uU(1),l.qZA()),2&n){const e=l.oxw().index,i=l.oxw().$implicit;l.xp6(1),l.hij(" ",i.total[e]," ")}}function A5(n,t){if(1&n&&(l.ynx(0,19),l.YNc(1,I5,2,1,"th",9),l.YNc(2,S5,2,1,"td",10),l.YNc(3,x5,2,1,"td",11),l.BQk()),2&n){const e=t.index,i=l.oxw().$implicit,r=l.oxw();l.Q6J("matColumnDef",r.displayedColumns(i.nbPlayers)[e+1])}}function M5(n,t){1&n&&l._UZ(0,"tr",20)}function k5(n,t){1&n&&l._UZ(0,"tr",21)}function R5(n,t){1&n&&l._UZ(0,"tr",22)}function O5(n,t){if(1&n&&(l.TgZ(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title",1)(3,"div",2),l._uU(4),l.qZA(),l.TgZ(5,"h4",2),l._uU(6),l.qZA()(),l.TgZ(7,"mat-panel-description",3),l.YNc(8,C5,2,1,"div",4),l.qZA(),l.TgZ(9,"mat-panel-description",5)(10,"h4",6),l._uU(11),l.qZA()()(),l.TgZ(12,"table",7),l.ynx(13,8),l.YNc(14,E5,2,0,"th",9),l.YNc(15,D5,2,1,"td",10),l.YNc(16,T5,2,0,"td",11),l.BQk(),l.YNc(17,A5,4,1,"ng-container",12),l.YNc(18,M5,1,0,"tr",13),l.YNc(19,k5,1,0,"tr",14),l.YNc(20,R5,1,0,"tr",15),l.qZA()()),2&n){const e=t.$implicit,i=l.oxw();l.xp6(4),l.Oqu(i.data.length-i.data.indexOf(e)),l.xp6(2),l.Oqu(i.getDay(e.date)),l.xp6(2),l.Q6J("ngForOf",e.players),l.xp6(3),l.hij("Gagnante : ",e.winner,""),l.xp6(1),l.Q6J("dataSource",e.rounds),l.xp6(5),l.Q6J("ngForOf",i.counter(e.nbPlayers)),l.xp6(1),l.Q6J("matHeaderRowDef",i.displayedColumns(e.nbPlayers)),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns(e.nbPlayers)),l.xp6(1),l.Q6J("matFooterRowDef",i.displayedColumns(e.nbPlayers))("matFooterRowDefSticky",!0)}}let P5=(()=>{class n{constructor(e){this.store=e,this.data=[]}ngOnInit(){this.store.collection("gamesData",i=>i.orderBy("date","desc")).valueChanges().subscribe(i=>this.data=i)}displayedColumns(e){let i=["round_id"];for(let r=1;r<e+1;r++)i.push("player"+r);return i}getDay(e){const i=new Date(1e3*e.seconds),r=i.getDate(),a=i.getMonth()+1,u=i.getFullYear();let f="";switch(a){case 1:f="Janvier";break;case 2:f="F\xe9vrier";break;case 3:f="Mars";break;case 4:f="Avril";break;case 5:f="Mai";break;case 6:f="Juin";break;case 7:f="Juillet";break;case 8:f="Ao\xfbt";break;case 9:f="Septembre";break;case 10:f="Octobre";break;case 11:f="Novembre";break;case 12:f="D\xe9cembre";break;default:f=`${a}`}return`${r} ${f} ${u}`}counter(e){return e?new Array(e):[]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(cR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-scores"]],decls:2,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"game"],[1,"space"],[1,"players"],["class","space",4,"ngFor","ngForOf"],[1,"date"],[1,"winner"],["mat-table","",3,"dataSource"],["matColumnDef","round_id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef","matFooterRowDefSticky"],["mat-header-cell",""],["mat-cell",""],["mat-footer-cell",""],[3,"matColumnDef"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(e,i){1&e&&(l.TgZ(0,"mat-accordion"),l.YNc(1,O5,21,10,"mat-expansion-panel",0),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",i.data))},directives:[b5,Un,U2,H2,v5,y5,dg,hg,Dv,Jd,Lf,Sv,Tv,Iv,FC,Av,xv,BC,LC,Mv],styles:[".space[_ngcontent-%COMP%]{margin:10px;text-align:left}.date[_ngcontent-%COMP%]{justify-content:right}.players[_ngcontent-%COMP%]{justify-content:left}.game[_ngcontent-%COMP%]{width:20px;justify-content:left}.mat-footer-cell[_ngcontent-%COMP%]{width:100px;padding-left:10px;padding-right:10px;font-weight:700}.mat-header-cell[_ngcontent-%COMP%]{width:100px;padding-left:10px;padding-right:10px;background-color:#7f1734;color:#fff;font-weight:700;font-size:large;align-items:center;text-align:center}.mat-cell[_ngcontent-%COMP%]{width:100px;padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]{border-left:1px solid;border-right:1px solid;border-top:1px solid;border-bottom:1px solid;border-collapse:collapse;table-layout:fixed;margin-right:5%;margin-left:5%}"]}),n})(),N5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[_w]}),n.\u0275inj=l.cJS({providers:[md,WP],imports:[[ra,eT,$D,Mm,bS,Zo,I1,tE,pH,aH,YH,oj,_H,LH,lH,mj,aN,Oj,ll.hO.initializeApp(pN_firebase,"scoreboard-47ae9"),tW,e5,w5]]}),n})();l.B6R(md,[nW,XW,k2,WP,FW,gW,P5],[]),(0,l.G48)(),gc().bootstrapModule(N5).catch(n=>console.error(n))},5867:(at,De,P)=>{P.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.6.11","app")},127:(at,De,P)=>{P.d(De,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.6.11","app-compat")},820:(at,De,P)=>{P.r(De);var l=P(5861),K=P(3942),N=P(2090),ae=P(9681),te=P(655),me=P(1877),Q=P(4859);const Oe=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Le=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},fe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new me.Yd("@firebase/auth");function We(y,...p){Je.logLevel<=me.in.ERROR&&Je.error(`Auth (${ae.SDK_VERSION}): ${y}`,...p)}function Te(y,...p){throw Ue(y,...p)}function ye(y,...p){return Ue(y,...p)}function be(y,p,g){const w=Object.assign(Object.assign({},Le()),{[p]:g});return new N.LL("auth","Firebase",w).create(p,{appName:y.name})}function He(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Te(y,"argument-error"),be(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return fe.create(y,...p)}function ie(y,p,...g){if(!y)throw Ue(p,...g)}function W(y){const p="INTERNAL ASSERTION FAILED: "+y;throw We(p),new Error(p)}function re(y,p){y||W(p)}const ge=new Map;function se(y){re(y instanceof Function,"Expected a class definition");let p=ge.get(y);return p?(re(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ge.set(y,p),p)}function It(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function en(){return"http:"===Bn()||"https:"===Bn()}function Bn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class fn{constructor(p,g){this.shortDelay=p,this.longDelay=g,re(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function dt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pn(y,p){re(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Sr{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void W("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void W("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void W("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},us=new fn(3e4,6e4);function tn(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function qt(y,p,g,w){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(y,p,g,w,S={}){return ar(y,S,(0,l.Z)(function*(){let R={},q={};w&&("GET"===p?q=w:R={body:JSON.stringify(w)});const oe=(0,N.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),Sr.fetch()(Ni(y,y.config.apiHost,g,oe),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function ar(y,p,g){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},sn),p);try{const S=new ds(y),R=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw hs(y,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const oe=R.ok?q.errorMessage:q.error.message,[Ve,Qe]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw hs(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ve)throw hs(y,"email-already-in-use",q);const bt=w[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw be(y,bt,Qe);Te(y,bt)}}catch(S){if(S instanceof N.ZR)throw S;Te(y,"network-request-failed")}})).apply(this,arguments)}function Pi(y,p,g,w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(y,p,g,w,S={}){const R=yield qt(y,p,g,w,S);return"mfaPendingCredential"in R&&Te(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ni(y,p,g,w){const S=`${p}${g}?${w}`;return y.config.emulator?pn(y.config,S):`${y.config.apiScheme}://${S}`}class ds{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(ye(this.auth,"network-request-failed")),us.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hs(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const S=ye(y,p,w);return S.customData._tokenResponse=g,S}function Yi(){return(Yi=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ri(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lr(y,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function wn(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Oa(){return(Oa=(0,l.Z)(function*(y,p=!1){const g=(0,N.m9)(y),w=yield g.getIdToken(p),S=st(w);ie(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const R="object"==typeof S.firebase?S.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:S,token:w,authTime:wn(Wt(S.auth_time)),issuedAtTime:wn(Wt(S.iat)),expirationTime:wn(Wt(S.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(y){return 1e3*Number(y)}function st(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return We("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(g);return S?JSON.parse(S):(We("Failed to decode base64 JWT payload"),null)}catch(S){return We("Caught error parsing JWT payload as JSON",S),null}}function hi(y,p){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof N.ZR&&zt(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function zt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class bo{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class bi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wn(this.lastLoginAt),this.creationTime=wn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(y){return ft.apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),S=yield hi(y,lr(g,{idToken:w}));ie(null==S?void 0:S.users.length,g,"internal-error");const R=S.users[0];y._notifyReloadListener(R);const q=(null===(p=R.providerUserInfo)||void 0===p?void 0:p.length)?Ie(R.providerUserInfo):[],oe=Ze(y.providerData,q),bt=!!y.isAnonymous&&!(y.email&&R.passwordHash||(null==oe?void 0:oe.length)),ct={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:oe,metadata:new bi(R.createdAt,R.lastLoginAt),isAnonymous:bt};Object.assign(y,ct)})).apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(y){const p=(0,N.m9)(y);yield fi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ze(y,p){return[...y.filter(w=>!p.some(S=>S.providerId===w.providerId)),...p]}function Ie(y){return y.map(p=>{var{providerId:g}=p,w=(0,te._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function pt(){return(pt=(0,l.Z)(function*(y,p){const g=yield ar(y,{},(0,l.Z)(function*(){const w=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:R}=y.config,q=Ni(y,S,"/v1/token",`key=${R}`),oe=yield y._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Sr.fetch()(q,{method:"POST",headers:oe,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ie(p.idToken,"internal-error"),ie(void 0!==p.idToken,"internal-error"),ie(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Ct(y){const p=st(y);return ie(p,"internal-error"),ie(void 0!==p.exp,"internal-error"),ie(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,l.Z)(function*(){return ie(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:R,expiresIn:q}=yield function Ye(y,p){return pt.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(S,R,Number(q))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:S,expirationTime:R}=g,q=new jt;return w&&(ie("string"==typeof w,"internal-error",{appName:p}),q.refreshToken=w),S&&(ie("string"==typeof S,"internal-error",{appName:p}),q.accessToken=S),R&&(ie("number"==typeof R,"internal-error",{appName:p}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return W("not implemented")}}function Vt(y,p){ie("string"==typeof y||void 0===y,"internal-error",{appName:p})}class H{constructor(p){var{uid:g,auth:w,stsTokenManager:S}=p,R=(0,te._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new bi(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const w=yield hi(g,g.stsTokenManager.getToken(g.auth,p));return ie(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function zs(y){return Oa.apply(this,arguments)}(this,p)}reload(){return function wi(y){return Ht.apply(this,arguments)}(this)}_assign(p){this!==p&&(ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new H(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield fi(w)),yield w.auth._persistUserIfCurrent(w),S&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield hi(p,function ht(y,p){return Yi.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,S,R,q,oe,Ve,Qe,bt;const ct=null!==(w=g.displayName)&&void 0!==w?w:void 0,Ln=null!==(S=g.email)&&void 0!==S?S:void 0,is=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,Qc=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Ul=null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,Hl=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,Jh=null!==(Qe=g.createdAt)&&void 0!==Qe?Qe:void 0,R_=null!==(bt=g.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:ma,emailVerified:ud,isAnonymous:dd,providerData:Xh,stsTokenManager:hd}=g;ie(ma&&hd,p,"internal-error");const Br=jt.fromJSON(this.name,hd);ie("string"==typeof ma,p,"internal-error"),Vt(ct,p.name),Vt(Ln,p.name),ie("boolean"==typeof ud,p,"internal-error"),ie("boolean"==typeof dd,p,"internal-error"),Vt(is,p.name),Vt(Qc,p.name),Vt(Ul,p.name),Vt(Hl,p.name),Vt(Jh,p.name),Vt(R_,p.name);const ef=new H({uid:ma,auth:p,email:Ln,emailVerified:ud,displayName:ct,isAnonymous:dd,photoURL:Qc,phoneNumber:is,tenantId:Ul,stsTokenManager:Br,createdAt:Jh,lastLoginAt:R_});return Xh&&Array.isArray(Xh)&&(ef.providerData=Xh.map(tm=>Object.assign({},tm))),Hl&&(ef._redirectEventId=Hl),ef}static _fromIdTokenResponse(p,g,w=!1){return(0,l.Z)(function*(){const S=new jt;S.updateFromServerResponse(g);const R=new H({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:w});return yield fi(R),R})()}}const z=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,w){var S=this;return(0,l.Z)(function*(){S.storage[g]=w})()}_get(g){var w=this;return(0,l.Z)(function*(){const S=w.storage[g];return void 0===S?null:S})()}_remove(g){var w=this;return(0,l.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function ue(y,p,g){return`firebase:${y}:${p}:${g}`}class J{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:S,name:R}=this.auth;this.fullUserKey=ue(this.userKey,S.apiKey,R),this.fullPersistenceKey=ue("persistence",S.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?H._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,l.Z)(function*(){if(!g.length)return new J(se(z),p,w);const S=(yield Promise.all(g.map(function(){var Qe=(0,l.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let R=S[0]||se(z);const q=ue(w,p.config.apiKey,p.name);let oe=null;for(const Qe of g)try{const bt=yield Qe._get(q);if(bt){const ct=H._fromJSON(p,bt);Qe!==R&&(oe=ct),R=Qe;break}}catch(bt){}const Ve=S.filter(Qe=>Qe._shouldAllowMigration);return R._shouldAllowMigration&&Ve.length?(R=Ve[0],oe&&(yield R._set(q,oe.toJSON())),yield Promise.all(g.map(function(){var Qe=(0,l.Z)(function*(bt){if(bt!==R)try{yield bt._remove(q)}catch(ct){}});return function(bt){return Qe.apply(this,arguments)}}())),new J(R,p,w)):new J(R,p,w)})()}}function Be(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Zt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(yt(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(gn(p))return"Webos";if(Kt(p))return"Safari";if((p.includes("chrome/")||Ci(p))&&!p.includes("edge/"))return"Chrome";if(kn(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function yt(y=(0,N.z$)()){return/firefox\//i.test(y)}function Kt(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ci(y=(0,N.z$)()){return/crios\//i.test(y)}function Zt(y=(0,N.z$)()){return/iemobile/i.test(y)}function kn(y=(0,N.z$)()){return/android/i.test(y)}function Pt(y=(0,N.z$)()){return/blackberry/i.test(y)}function gn(y=(0,N.z$)()){return/webos/i.test(y)}function oi(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)}function fs(y=(0,N.z$)()){return oi(y)||kn(y)||gn(y)||Pt(y)||/windows phone/i.test(y)||Zt(y)}function Na(y,p=[]){let g;switch(y){case"Browser":g=Be((0,N.z$)());break;case"Worker":g=`${Be((0,N.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ae.SDK_VERSION}/${w}`}class cr{constructor(p,g,w){this.app=p,this.heartbeatServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nt(this),this.idTokenSubscription=new Nt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=se(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,R;if(!w._deleted&&(w.persistenceManager=yield J.create(w,p),!w._deleted)){if(null===(S=w._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(q){}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(R=w.currentUser)||void 0===R?void 0:R.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var w;let S=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const R=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,q=null==S?void 0:S._redirectEventId,oe=yield g.tryRedirectSignIn(p);(!R||R===q)&&(null==oe?void 0:oe.user)&&(S=oe.user)}return S?S._redirectEventId?(ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield fi(p)}catch(w){if("auth/network-request-failed"!==w.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function _t(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const w=p?(0,N.m9)(p):null;return w&&ie(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){if(!g._deleted)return p&&ie(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,l.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,l.Z)(function*(){const S=yield w.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&se(p)||g._popupRedirectResolver;ie(w,g,"argument-error"),g.redirectPersistenceManager=yield J.create(g,[se(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var w,S;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,S){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof g?p.addObserver(g,w,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Na(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(w["X-Firebase-Client"]=S),w})()}}function Pe(y){return(0,N.m9)(y)}class Nt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function pi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Gn(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class on{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return W("not implemented")}_getIdTokenResponse(p){return W("not implemented")}_linkToIdToken(p,g){return W("not implemented")}_getReauthenticationResolver(p){return W("not implemented")}}function Vn(y,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:resetPassword",tn(y,p))})).apply(this,arguments)}function kt(y,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ps(y,p){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:update",tn(y,p))})).apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithPassword",tn(y,p))})).apply(this,arguments)}function ms(y,p){return gs.apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:sendOobCode",tn(y,p))})).apply(this,arguments)}function ai(y,p){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function hl(y,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function Ki(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function sc(y,p){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(y,p){return ms(y,p)})).apply(this,arguments)}function Qi(){return(Qi=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,p))})).apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithEmailLink",tn(y,p))})).apply(this,arguments)}class ml extends on{constructor(p,g,w,S=null){super("password",w),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new ml(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new ml(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function Zs(y,p){return Un.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function pl(y,p){return Qi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return kt(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function xu(y,p){return Au.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function $n(y,p){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithIdp",tn(y,p))})).apply(this,arguments)}class _s extends on{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new _s(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S}=g,R=(0,te._T)(g,["providerId","signInMethod"]);if(!w||!S)return null;const q=new _s(w,S);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(p){return $n(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,$n(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$n(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,N.xO)(g)}return p}}function Mp(y,p){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:sendVerificationCode",tn(y,p))})).apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,p))})).apply(this,arguments)}function Ru(){return(Ru=(0,l.Z)(function*(y,p){const g=yield Pi(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,p));if(g.temporaryProof)throw hs(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Rp={USER_NOT_FOUND:"user-not-found"};function Ou(){return(Ou=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithPhoneNumber",tn(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Rp)})).apply(this,arguments)}class Xo extends on{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Xo({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Xo({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function oc(y,p){return Ks.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function kp(y,p){return Ru.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Op(y,p){return Ou.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:R}=p;return w||g||S||R?new Xo({verificationId:g,verificationCode:w,phoneNumber:S,temporaryProof:R}):null}}class Eo{constructor(p){var g,w,S,R,q,oe;const Ve=(0,N.zd)((0,N.pd)(p)),Qe=null!==(g=Ve.apiKey)&&void 0!==g?g:null,bt=null!==(w=Ve.oobCode)&&void 0!==w?w:null,ct=function s_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);ie(Qe&&bt&&ct,"argument-error"),this.apiKey=Qe,this.operation=ct,this.code=bt,this.continueUrl=null!==(R=Ve.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=Ve.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(oe=Ve.tenantId)&&void 0!==oe?oe:null}static parseLink(p){const g=function gl(y){const p=(0,N.zd)((0,N.pd)(y)).link,g=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,w=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(w?(0,N.zd)((0,N.pd)(w)).link:null)||w||g||p||y}(p);try{return new Eo(g)}catch(w){return null}}}let ac=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return ml._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const S=Eo.parseLink(w);return ie(S,"argument-error"),ml._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Qs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ji extends Qs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ea extends Ji{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),_s._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ie(p.idToken||p.accessToken,"argument-error"),_s._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ea.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ea.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:S,pendingToken:R,nonce:q,providerId:oe}=p;if(!w&&!S&&!g&&!R||!oe)return null;try{return new ea(oe)._credential({idToken:g,accessToken:w,nonce:q,pendingToken:R})}catch(Ve){return null}}}let Do=(()=>{class y extends Ji{constructor(){super("facebook.com")}static credential(g){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),La=(()=>{class y extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:S}=g;if(!w&&!S)return null;try{return y.credential(w,S)}catch(R){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Pu=(()=>{class y extends Ji{constructor(){super("github.com")}static credential(g){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(w){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xi extends on{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return $n(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,$n(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,$n(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:S,pendingToken:R}=g;return w&&S&&R&&w===S?new Xi(w,R):null}static _create(p,g){return new Xi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ur extends Qs{constructor(p){ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ur.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ur.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Xi.fromJSON(p);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Xi._create(w,g)}catch(S){return null}}}let _l=(()=>{class y extends Ji{constructor(){super("twitter.com")}static credential(g,w){return _s._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:S}=g;if(!w||!S)return null;try{return y.credential(w,S)}catch(R){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function yl(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signUp",tn(y,p))})).apply(this,arguments)}class mi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,S=!1){return(0,l.Z)(function*(){const R=yield H._fromIdTokenResponse(p,w,S),q=Eh(w);return new mi({user:R,providerId:q,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const S=Eh(w);return new mi({user:p,providerId:S,_tokenResponse:w,operationType:g})})()}}function Eh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Nu(){return(Nu=(0,l.Z)(function*(y){var p;const g=Pe(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new mi({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield yl(g,{returnSecureToken:!0}),S=yield mi._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class bl extends N.ZR{constructor(p,g,w,S){var R;super(g.code,g.message),this.operationType=w,this.user=S,Object.setPrototypeOf(this,bl.prototype),this.customData={appName:p.name,tenantId:null!==(R=p.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,S){return new bl(p,g,w,S)}}function wl(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?bl._fromErrorAndOperation(y,R,p,w):R})}function ys(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function lc(){return(lc=(0,l.Z)(function*(y,p){const g=(0,N.m9)(y);yield Xs(!0,g,p);const{providerUserInfo:w}=yield ri(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=ys(w||[]);return g.providerData=g.providerData.filter(R=>S.has(R.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function yn(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(y,p,g=!1){const w=yield hi(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return mi._forOperation(y,"link",w)})).apply(this,arguments)}function Xs(y,p,g){return ln.apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(y,p,g){yield fi(p);const S=!1===y?"provider-already-linked":"no-such-provider";ie(ys(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Fu(y,p){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(y,p,g=!1){const{auth:w}=y,S="reauthenticate";try{const R=yield hi(y,wl(w,S,p,y),g);ie(R.idToken,w,"internal-error");const q=st(R.idToken);ie(q,w,"internal-error");const{sub:oe}=q;return ie(y.uid===oe,w,"user-mismatch"),mi._forOperation(y,S,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Te(w,"user-mismatch"),R}})).apply(this,arguments)}function Io(y,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(y,p,g=!1){const w="signIn",S=yield wl(y,w,p),R=yield mi._fromIdTokenResponse(y,w,S);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function Hn(y,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(y,p){return Io(Pe(y),p)})).apply(this,arguments)}function xr(y,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(y,p){const g=(0,N.m9)(y);return yield Xs(!1,g,p.providerId),yn(g,p)})).apply(this,arguments)}function eo(y,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,l.Z)(function*(y,p){return Fu((0,N.m9)(y),p)})).apply(this,arguments)}function Cl(y,p){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(y,p){return Pi(y,"POST","/v1/accounts:signInWithCustomToken",tn(y,p))})).apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(y,p){const g=Pe(y),w=yield Cl(g,{token:p,returnSecureToken:!0}),S=yield mi._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class mt{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?El._fromServerResponse(p,g):Te(p,"internal-error")}}class El extends mt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new El(g)}}function Ua(y,p,g){var w;ie((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),ie(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Tl(){return(Tl=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&Ua(w,S,g),yield hl(w,S)})).apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(y,p,g){yield Vn((0,N.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Ee(){return(Ee=(0,l.Z)(function*(y,p){yield ps((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ut(y,p){return dc.apply(this,arguments)}function dc(){return(dc=(0,l.Z)(function*(y,p){const g=(0,N.m9)(y),w=yield Vn(g,{oobCode:p}),S=w.requestType;switch(ie(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(w.mfaInfo,g,"internal-error");default:ie(w.email,g,"internal-error")}let R=null;return w.mfaInfo&&(R=mt._fromServerResponse(Pe(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:R},operation:S}})).apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(y,p){const{data:g}=yield Ut((0,N.m9)(y),p);return g.email})).apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(y,p,g){const w=Pe(y),S=yield yl(w,{returnSecureToken:!0,email:p,password:g}),R=yield mi._fromIdTokenResponse(w,"signIn",S);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};ie(g.handleCodeInApp,w,"argument-error"),g&&Ua(w,S,g),yield Ki(w,S)})).apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y),S=ac.credentialWithLink(p,g||It());return ie(S._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Hn(w,S)})).apply(this,arguments)}function gi(y,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:createAuthUri",tn(y,p))})).apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:en()?It():"http://localhost"},{signinMethods:S}=yield gi((0,N.m9)(y),w);return S||[]})).apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(y,p){const g=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ua(g.auth,S,p);const{email:R}=yield ai(g.auth,S);R!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Ua(w.auth,R,g);const{email:q}=yield sc(w.auth,R);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function gc(y,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(y,p){return qt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,N.m9)(y),R={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield hi(w,gc(w.auth,R));w.displayName=q.displayName||null,w.photoURL=q.photoUrl||null;const oe=w.providerData.find(({providerId:Ve})=>"password"===Ve);oe&&(oe.displayName=w.displayName,oe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(q)})).apply(this,arguments)}function vc(y,p,g){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(y,p,g){const{auth:w}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(R.email=p),g&&(R.password=g);const q=yield hi(y,kt(w,R));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class xo{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Uu extends xo{constructor(p,g,w,S){super(p,g,w),this.username=S}}class Hu extends xo{constructor(p,g){super(p,"facebook.com",g)}}class Ao extends Uu{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class so extends xo{constructor(p,g){super(p,"google.com",g)}}class bc extends Uu{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Ti(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Vu(y){var p,g;if(!y)return null;const{providerId:w}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&(null==y?void 0:y.idToken)){const q=null===(g=null===(p=st(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new xo(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!w)return null;switch(w){case"facebook.com":return new Hu(R,S);case"github.com":return new Ao(R,S);case"google.com":return new so(R,S);case"twitter.com":return new bc(R,S,y.screenName||null);case"custom":case"anonymous":return new xo(R,null);default:return new xo(R,w,S)}}(g)}class bs{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new bs("enroll",p)}static _fromMfaPendingCredential(p){return new bs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return bs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return bs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ja{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Pe(p),S=g.customData._serverResponse,R=(S.mfaInfo||[]).map(oe=>mt._fromServerResponse(w,oe));ie(S.mfaPendingCredential,w,"internal-error");const q=bs._fromMfaPendingCredential(S.mfaPendingCredential);return new ja(q,R,function(){var oe=(0,l.Z)(function*(Ve){const Qe=yield Ve._process(w,q);delete S.mfaInfo,delete S.mfaPendingCredential;const bt=Object.assign(Object.assign({},S),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(g.operationType){case"signIn":const ct=yield mi._fromIdTokenResponse(w,g.operationType,bt);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return ie(g.user,w,"internal-error"),mi._forOperation(g.user,g.operationType,bt);default:Te(w,"internal-error")}});return function(Ve){return oe.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function zn(y,p){return qt(y,"POST","/v2/accounts/mfaEnrollment:start",tn(y,p))}class ws{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>mt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new ws(p)}getSession(){var p=this;return(0,l.Z)(function*(){return bs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var w=this;return(0,l.Z)(function*(){const S=p,R=yield w.getSession(),q=yield hi(w.user,S._process(w.user.auth,R,g));return yield w.user._updateTokensIfNecessary(q),w.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,S=yield g.user.getIdToken(),R=yield hi(g.user,function Np(y,p){return qt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",tn(y,p))}(g.user.auth,{idToken:S,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==w),yield g.user._updateTokensIfNecessary(R);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const sa=new WeakMap,Ec="__sak";class Qr{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const jn=(()=>{class y extends Qr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const y=(0,N.z$)();return Kt(y)||oi(y)}()&&function Jn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=fs(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const S=this.storage.getItem(w),R=this.localCache[w];S!==R&&g(w,R,S)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((oe,Ve,Qe)=>{this.notifyListeners(oe,Qe)});const S=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(S);if(g.newValue!==oe)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!w)return}const R=()=>{const oe=this.storage.getItem(S);!w&&this.localCache[S]===oe||this.notifyListeners(S,oe)},q=this.storage.getItem(S);!function Pa(){return(0,N.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var S=()=>super._set,R=this;return(0,l.Z)(function*(){yield S().call(R,g,w),R.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,S=this;return(0,l.Z)(function*(){const R=yield w().call(S,g);return S.localCache[g]=JSON.stringify(R),R})()}_remove(g){var w=()=>super._remove,S=this;return(0,l.Z)(function*(){yield w().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),lt=(()=>{class y extends Qr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let qn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(R=>R.isListeningto(g));if(w)return w;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,l.Z)(function*(){const S=g,{eventId:R,eventType:q,data:oe}=S.data,Ve=w.handlersMap[q];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const Qe=Array.from(Ve).map(function(){var ct=(0,l.Z)(function*(Ln){return Ln(S.origin,oe)});return function(Ln){return ct.apply(this,arguments)}}()),bt=yield function Ii(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(Qe);S.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:bt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function oa(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class zu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var S=this;return(0,l.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,oe;return new Promise((Ve,Qe)=>{const bt=oa("",20);R.port1.start();const ct=setTimeout(()=>{Qe(new Error("unsupported_event"))},w);oe={messageChannel:R,onMessage(Ln){const is=Ln;if(is.data.eventId===bt)switch(is.data.status){case"ack":clearTimeout(ct),q=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ve(is.data.response);break;default:clearTimeout(ct),clearTimeout(q),Qe(new Error("invalid_response"))}}},S.handlers.add(oe),R.port1.addEventListener("message",oe.onMessage),S.target.postMessage({eventType:p,eventId:bt,data:g},[R.port2])}).finally(()=>{oe&&S.removeMessageHandler(oe)})})()}}function vn(){return window}function Mr(){return void 0!==vn().WorkerGlobalScope&&"function"==typeof vn().importScripts}function hr(){return(hr=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",Mo="firebaseLocalStorage",En="fbase_key";class Cs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function aa(y,p){return y.transaction([Mo],p?"readwrite":"readonly").objectStore(Mo)}function ao(){const y=indexedDB.open(Tc,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Mo,{keyPath:En})}catch(S){g(S)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Mo)?p(w):(w.close(),yield function fr(){const y=indexedDB.deleteDatabase(Tc);return new Cs(y).toPromise()}(),p(yield ao()))}))})}function Bi(y,p,g){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(y,p,g){const w=aa(y,!0).put({[En]:p,value:g});return new Cs(w).toPromise()})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(y,p){const g=aa(y,!1).get(p),w=yield new Cs(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Jr(y,p){const g=aa(y,!0).delete(p);return new Cs(g).toPromise()}const nr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield ao()),g.db})()}_withRetries(g){var w=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const R=yield w._openDb();return yield g(R)}catch(R){if(S++>3)throw R;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Mr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=qn._getInstance(function qu(){return Mr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(S,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(S,R){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(S,R){return["keyChanged"]});return function(S,R){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var w,S;if(g.activeServiceWorker=yield function Rl(){return hr.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new zu(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);!R||(null===(w=R[0])||void 0===w?void 0:w.fulfilled)&&(null===(S=R[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function vt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ao();return yield Bi(g,Ec,"1"),yield Jr(g,Ec),!0}catch(g){}return!1})()}_withPendingWrite(g){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(R=>Bi(R,g,w)),S.localCache[g]=w,S.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,l.Z)(function*(){const S=yield w._withRetries(R=>function Sc(y,p){return lo.apply(this,arguments)}(R,g));return w.localCache[g]=S,S})()}_remove(g){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(S=>Jr(S,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const w=yield g._withRetries(q=>{const oe=aa(q,!1).getAll();return new Cs(oe).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const S=[],R=new Set;for(const{fbase_key:q,value:oe}of w)R.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(oe)&&(g.notifyListeners(q,oe),S.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!R.has(q)&&(g.notifyListeners(q,null),S.push(q));return S})()}notifyListeners(g,w){this.localCache[g]=w;const S=this.listeners[g];if(S)for(const R of Array.from(S))R(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function co(y,p){return qt(y,"POST","/v2/accounts/mfaSignIn:start",tn(y,p))}function Rr(){return(Rr=(0,l.Z)(function*(y){return(yield qt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xn(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=S=>{const R=ye("internal-error");R.customData=S,g(R)},w.type="text/javascript",w.charset="UTF-8",function Zu(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Pn(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Si=1e12;class In{constructor(p){this.auth=p,this.counter=Si,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Or(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||Si;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Si))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var w;return null===(w=g._widgets.get(p||Si))||void 0===w||w.execute(),""})()}}class Or{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ie(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function An(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ds=Pn("rcb"),Yu=new fn(3e4,6e4);class Lp{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vn().grecaptcha}load(p,g=""){return ie(function Bp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(vn().grecaptcha):new Promise((w,S)=>{const R=vn().setTimeout(()=>{S(ye(p,"network-request-failed"))},Yu.get());vn()[Ds]=()=>{vn().clearTimeout(R),delete vn()[Ds];const oe=vn().grecaptcha;if(!oe)return void S(ye(p,"internal-error"));const Ve=oe.render;oe.render=(Qe,bt)=>{const ct=Ve(Qe,bt);return this.counter++,ct},this.hostLanguage=g,w(oe)},xn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Ds,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),S(ye(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!vn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Vp{load(p){return(0,l.Z)(function*(){return new In(p)})()}clearedOneInstance(){}}const uo="recaptcha",li={theme:"light",type:"image"};class Ih{constructor(p,g=Object.assign({},li),w){this.parameters=g,this.type=uo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(w),this.isInvisible="invisible"===this.parameters.size,ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ie(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Vp:new Lp,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(R=>{const q=oe=>{!oe||(p.tokenChangeListeners.delete(q),R(oe))};p.tokenChangeListeners.add(q),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=vn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ie(en()&&!Mr(),p.auth,"internal-error"),yield function ho(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Xn(y){return Rr.apply(this,arguments)}(p.auth);ie(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ts{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Xo._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Mn(){return(Mn=(0,l.Z)(function*(y,p,g){const w=Pe(y),S=yield xi(w,p,(0,N.m9)(g));return new Ts(S,R=>Hn(w,R))})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y);yield Xs(!1,w,"phone");const S=yield xi(w.auth,p,(0,N.m9)(g));return new Ts(S,R=>xr(w,R))})).apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y),S=yield xi(w.auth,p,(0,N.m9)(g));return new Ts(S,R=>eo(w,R))})).apply(this,arguments)}function xi(y,p,g){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(y,p,g){var w;const S=yield g.verify();try{let R;if(ie("string"==typeof S,y,"argument-error"),ie(g.type===uo,y,"argument-error"),R="string"==typeof p?{phoneNumber:p}:p,"session"in R){const q=R.session;if("phoneNumber"in R)return ie("enroll"===q.type,y,"internal-error"),(yield zn(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ie("signin"===q.type,y,"internal-error");const oe=(null===(w=R.multiFactorHint)||void 0===w?void 0:w.uid)||R.multiFactorUid;return ie(oe,y,"missing-multi-factor-info"),(yield co(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Mp(y,{phoneNumber:R.phoneNumber,recaptchaToken:S});return q}}finally{g._reset()}})).apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(y,p){yield yn((0,N.m9)(y),p)})).apply(this,arguments)}let Pr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Pe(g)}verifyPhoneNumber(g,w){return xi(this.auth,g,(0,N.m9)(w))}static credential(g,w){return Xo._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:S}=g;return w&&S?Xo._fromTokenResponse(w,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Xr(y,p){return p?se(p):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ga extends on{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return $n(p,this._buildIdpRequest())}_linkToIdToken(p,g){return $n(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return $n(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Rc(y){return Io(y.auth,new Ga(y),y.bypassAuthState)}function Oc(y){const{auth:p,user:g}=y;return ie(g,p,"internal-error"),Fu(g,new Ga(y),y.bypassAuthState)}function Ft(y){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(y){const{auth:p,user:g}=y;return ie(g,p,"internal-error"),yn(g,new Ga(y),y.bypassAuthState)})).apply(this,arguments)}class ei{constructor(p,g,w,S,R=!1){this.auth=p,this.resolver=w,this.user=S,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(w,S){p.pendingPromise={resolve:w,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(R){p.reject(R)}});return function(w,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:S,postBody:R,tenantId:q,error:oe,type:Ve}=p;if(oe)return void g.reject(oe);const Qe={auth:g.auth,requestUri:w,sessionId:S,tenantId:q||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(Qe))}catch(bt){g.reject(bt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Rc;case"linkViaPopup":case"linkViaRedirect":return Ft;case"reauthViaPopup":case"reauthViaRedirect":return Oc;default:Te(this.auth,"internal-error")}}resolve(p){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nc=new fn(2e3,1e4);function Ku(){return(Ku=(0,l.Z)(function*(y,p,g){const w=Pe(y);He(y,p,Qs);const S=Xr(w,g);return new ts(w,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,Qs);const S=Xr(w.auth,g);return new ts(w.auth,"reauthViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,Qs);const S=Xr(w.auth,g);return new ts(w.auth,"linkViaPopup",p,S,w).executeNotNull()})).apply(this,arguments)}let ts=(()=>{class y extends ei{constructor(g,w,S,R,q){super(g,w,R,q),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const w=yield g.execute();return ie(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,l.Z)(function*(){re(1===g.filter.length,"Popup operations only handle one event");const w=oa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(ye(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ye(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,S;this.pollId=(null===(S=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ye(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Nc.get())};g()}}return y.currentPopupAction=null,y})();const ns=new Map;class ti extends ei{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let w=ns.get(g.auth._key());if(!w){try{const R=(yield function mr(y,p){return Fc.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(R)}catch(S){w=()=>Promise.reject(S)}ns.set(g.auth._key(),w)}return g.bypassAuthState||ns.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const S=yield w.auth._redirectUserForId(p.eventId);if(S)return w.user=S,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Fc(){return(Fc=(0,l.Z)(function*(y,p){const g=I(p),w=D(y);if(!(yield w._isAvailable()))return!1;const S="true"===(yield w._get(g));return yield w._remove(g),S})).apply(this,arguments)}function Ro(y,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,l.Z)(function*(y,p){return D(y)._set(I(p),"true")})).apply(this,arguments)}function D(y){return se(y._redirectPersistence)}function I(y){return ue("pendingRedirect",y.config.apiKey,y.name)}function Z(){return(Z=(0,l.Z)(function*(y,p,g){const w=Pe(y);He(y,p,Qs);const S=Xr(w,g);return yield Ro(S,w),S._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Me(){return(Me=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,Qs);const S=Xr(w.auth,g);yield Ro(S,w.auth);const R=yield Oo(w);return S._openRedirect(w.auth,p,"reauthViaRedirect",R)})).apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(y,p,g){const w=(0,N.m9)(y);He(w.auth,p,Qs);const S=Xr(w.auth,g);yield Xs(!1,w,p.providerId),yield Ro(S,w.auth);const R=yield Oo(w);return S._openRedirect(w.auth,p,"linkViaRedirect",R)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(y,p){return yield Pe(y)._initializationPromise,Fn(y,p,!1)})).apply(this,arguments)}function Fn(y,p){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(y,p,g=!1){const w=Pe(y),S=Xr(w,p),q=yield new ti(w,S,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield w._persistUserIfCurrent(q.user),yield w._setRedirectUser(null,p)),q})).apply(this,arguments)}function Oo(y){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,l.Z)(function*(y){const p=oa(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Nr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Lc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ju(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!Ju(p)){const S=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(ye(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Po(p))}saveEventToCache(p){this.cachedEventUids.add(Po(p)),this.lastProcessedEventTime=Date.now()}}function Po(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ju({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Bc(y){return $a.apply(this,arguments)}function $a(){return($a=(0,l.Z)(function*(y,p={}){return qt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Hp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a_=/^https?/;function Ss(){return(Ss=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Bc(y);for(const g of p)try{if(Vc(g))return}catch(w){}Te(y,"unauthorized-domain")})).apply(this,arguments)}function Vc(y){const p=It(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===w}if(!a_.test(g))return!1;if(Hp.test(y))return w===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(w)}const c_=new fn(3e4,6e4);function u_(){const y=vn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Xu=null;function d_(y){return Xu=Xu||function jp(y){return new Promise((p,g)=>{var w,S,R;function q(){u_(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{u_(),g(ye(y,"network-request-failed"))},timeout:c_.get()})}if(null===(S=null===(w=vn().gapi)||void 0===w?void 0:w.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(R=vn().gapi)||void 0===R?void 0:R.load)){const oe=Pn("iframefcb");return vn()[oe]=()=>{gapi.load?q():g(ye(y,"network-request-failed"))},xn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ve=>g(Ve))}q()}}).catch(p=>{throw Xu=null,p})}(y),Xu}const Sh=new fn(5e3,15e3),Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ed=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function za(y){const p=y.config;ie(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?pn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ae.SDK_VERSION},S=ed.get(y.config.apiHost);S&&(w.eid=S);const R=y._getFrameworks();return R.length&&(w.fw=R.join(",")),`${g}?${(0,N.xO)(w).slice(1)}`}function ha(){return ha=(0,l.Z)(function*(y){const p=yield d_(y),g=vn().gapi;return ie(g,y,"internal-error"),p.open({where:document.body,url:za(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},w=>new Promise(function(){var S=(0,l.Z)(function*(R,q){yield w.restyle({setHideOnLeave:!1});const oe=ye(y,"network-request-failed"),Ve=vn().setTimeout(()=>{q(oe)},Sh.get());function Qe(){vn().clearTimeout(Ve),R(w)}w.ping(Qe).then(Qe,()=>{q(oe)})});return function(R,q){return S.apply(this,arguments)}}()))}),ha.apply(this,arguments)}const f_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class id{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function kh(y,p,g,w,S,R){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ae.SDK_VERSION,eventId:S};if(p instanceof Qs){p.setDefaultLanguage(y.languageCode),q.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ve,Qe]of Object.entries(R||{}))q[Ve]=Qe}if(p instanceof Ji){const Ve=p.getScopes().filter(Qe=>""!==Qe);Ve.length>0&&(q.scopes=Ve.join(","))}y.tenantId&&(q.tid=y.tenantId);const oe=q;for(const Ve of Object.keys(oe))void 0===oe[Ve]&&delete oe[Ve];return`${function m_({config:y}){return y.emulator?pn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,N.xO)(oe).slice(1)}`}const xs="webStorageSupport";class rd extends class Rh{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return W("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new rd(p)}_finalizeEnroll(p,g,w){return function ju(y,p){return qt(y,"POST","/v2/accounts/mfaEnrollment:finalize",tn(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Sn(y,p){return qt(y,"POST","/v2/accounts/mfaSignIn:finalize",tn(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Gp=(()=>{class y{constructor(){}static assertion(g){return rd._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var $p="@firebase/auth",sd="0.19.12";class zp{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{var S;p((null===(S=w)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function po(){return window}function Wa(){return(Wa=(0,l.Z)(function*(y,p,g){var w;const{BuildInfo:S}=po();re(p.sessionId,"AuthEvent did not contain a session ID");const R=yield Za(p.sessionId),q={};return oi()?q.ibi=S.packageName:kn()?q.apn=S.packageName:Te(y,"operation-not-supported-in-this-environment"),S.displayName&&(q.appDisplayName=S.displayName),q.sessionId=R,kh(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,q)})).apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(y){const{BuildInfo:p}=po(),g={};oi()?g.iosBundleId=p.packageName:kn()?g.androidPackageName=p.packageName:Te(y,"operation-not-supported-in-this-environment"),yield Bc(y,g)})).apply(this,arguments)}function od(){return(od=(0,l.Z)(function*(y,p,g){const{cordova:w}=po();let S=()=>{};try{yield new Promise((R,q)=>{let oe=null;function Ve(){var ct;R();const Ln=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Ln&&Ln(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Qe(){oe||(oe=window.setTimeout(()=>{q(ye(y,"redirect-cancelled-by-user"))},2e3))}function bt(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}p.addPassiveListener(Ve),document.addEventListener("resume",Qe,!1),kn()&&document.addEventListener("visibilitychange",bt,!1),S=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",bt,!1),oe&&window.clearTimeout(oe)}})}finally{S()}})).apply(this,arguments)}function Za(y){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,l.Z)(function*(y){const p=Bl(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bl(y){if(re(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}!function __(y){(0,ae._registerComponent)(new Q.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:R,authDomain:q}=w.options;return((oe,Ve)=>{ie(R&&!R.includes(":"),"invalid-api-key",{appName:oe.name}),ie(!(null==q?void 0:q.includes(":")),"argument-error",{appName:oe.name});const Qe={apiKey:R,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Na(y)},bt=new cr(oe,Ve,Qe);return function le(y,p){const g=(null==p?void 0:p.persistence)||[],w=(Array.isArray(g)?g:[g]).map(se);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(bt,g),bt})(w,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Q.wA("auth-internal",p=>{const g=Pe(p.getProvider("auth").getImmediate());return new zp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)($p,sd,function g_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ae.registerVersion)($p,sd,"esm2017")}("Browser");class Fh extends Nr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function jc(y){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(y){const p=yield $c()._get(Bh(y));return p&&(yield $c()._remove(Bh(y))),p})).apply(this,arguments)}function Gc(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function $c(){return se(jn)}function Bh(y){return ue("authEvent",y.config.apiKey,y.name)}function qc(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...g]=y.split("?");return(0,N.zd)(g.join("?"))}function jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ye("no-auth-event")}}function ld(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Yp(y=(0,N.z$)()){return!("file:"!==ld()&&"ionic:"!==ld()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ai(){try{const y=self.localStorage,p=oa();if(y)return y.setItem(p,"1"),y.removeItem(p),!function pa(y=(0,N.z$)()){return function C_(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function E_(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return Vo()&&(0,N.hl)()}return!1}function Vo(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zc(){return(function w_(){return"http:"===ld()||"https:"===ld()}()||(0,N.ru)()||Yp())&&!function cd(){return(0,N.b$)()||(0,N.UG)()}()&&Ai()&&!Vo()}function Gh(){return Yp()&&"undefined"!=typeof document}function Ya(){return(Ya=(0,l.Z)(function*(){return!!Gh()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Lr={LOCAL:"local",NONE:"none",SESSION:"session"},Ka=ie,zh="persistence";function Qa(y){return qh.apply(this,arguments)}function qh(){return(qh=(0,l.Z)(function*(y){yield y._initializationPromise;const p=Yc(),g=ue(zh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Yc(){var y;try{return(null===(y=function $h(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const D_=ie;class _r{constructor(){this.browserResolver=se(class Bo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lt,this._completeRedirectFn=Fn}_openPopup(p,g,w,S){var R=this;return(0,l.Z)(function*(){var q;re(null===(q=R.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const oe=kh(p,g,w,It(),S);return function Lo(y,p,g,w=500,S=600){const R=Math.max((window.screen.availHeight-S)/2,0).toString(),q=Math.max((window.screen.availWidth-w)/2,0).toString();let oe="";const Ve=Object.assign(Object.assign({},f_),{width:w.toString(),height:S.toString(),top:R,left:q}),Qe=(0,N.z$)().toLowerCase();g&&(oe=Ci(Qe)?"_blank":g),yt(Qe)&&(p=p||"http://localhost",Ve.scrollbars="yes");const bt=Object.entries(Ve).reduce((Ln,[is,Qc])=>`${Ln}${is}=${Qc},`,"");if(function dl(y=(0,N.z$)()){var p;return oi(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Qe)&&"_self"!==oe)return function Mh(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",oe),new id(null);const ct=window.open(p||"",oe,bt);ie(ct,y,"popup-blocked");try{ct.focus()}catch(Ln){}return new id(ct)}(p,oe,oa())})()}_openRedirect(p,g,w,S){var R=this;return(0,l.Z)(function*(){return yield R._originValidation(p),function Th(y){vn().location.href=y}(kh(p,g,w,It(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:R}=this.eventManagers[g];return S?Promise.resolve(S):(re(R,"If manager is not set, promise should be"),R)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const w=yield function h_(y){return ha.apply(this,arguments)}(p),S=new Nr(p);return w.register("authEvent",R=>(ie(null==R?void 0:R.authEvent,p,"invalid-auth-event"),{status:S.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=w,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(xs,{type:xs},S=>{var R;const q=null===(R=null==S?void 0:S[0])||void 0===R?void 0:R[xs];void 0!==q&&g(!!q),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function l_(y){return Ss.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return fs()||Kt()||oi()}}),this.cordovaResolver=se(class Hh{constructor(){this._redirectPersistence=lt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fn}_initialize(p){var g=this;return(0,l.Z)(function*(){const w=p._key();let S=g.eventManagers.get(w);return S||(S=new Fh(p),g.eventManagers.set(w,S),g.attachCallbackListeners(p,S)),S})()}_openPopup(p){Te(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,S){var R=this;return(0,l.Z)(function*(){!function ad(y){var p,g,w,S,R,q,oe,Ve,Qe,bt;const ct=po();ie("function"==typeof(null===(p=null==ct?void 0:ct.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(void 0!==(null===(g=null==ct?void 0:ct.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(R=null===(S=null===(w=null==ct?void 0:ct.cordova)||void 0===w?void 0:w.plugins)||void 0===S?void 0:S.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Ve=null===(oe=null===(q=null==ct?void 0:ct.cordova)||void 0===q?void 0:q.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(bt=null===(Qe=null==ct?void 0:ct.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===bt?void 0:bt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield R._initialize(p);yield q.initialized(),q.resetRedirect(),function Fl(){ns.clear()}(),yield R._originValidation(p);const oe=function Lh(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Gc(),postBody:null,tenantId:y.tenantId,error:ye(y,"no-auth-event")}}(p,w,S);yield function h0(y,p){return $c()._set(Bh(y),p)}(p,oe);const Ve=yield function Oh(y,p,g){return Wa.apply(this,arguments)}(p,oe,g),Qe=yield function Hc(y){const{cordova:p}=po();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let S=null;w?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function wo(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ve);return function qp(y,p,g){return od.apply(this,arguments)}(p,q,Qe)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ph(y){return Fr.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:S,BuildInfo:R}=po(),q=setTimeout((0,l.Z)(function*(){yield jc(p),g.onEvent(jh())}),500),oe=function(){var bt=(0,l.Z)(function*(ct){clearTimeout(q);const Ln=yield jc(p);let is=null;Ln&&(null==ct?void 0:ct.url)&&(is=function v_(y,p){var g,w;const S=function zc(y){const p=qc(y),g=p.link?decodeURIComponent(p.link):void 0,w=qc(g).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return qc(S).link||S||w||g||y}(p);if(S.includes("/__/auth/callback")){const R=qc(S),q=R.firebaseError?function Vh(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(R.firebaseError)):null,oe=null===(w=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ve=oe?ye(oe):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Ln,ct.url)),g.onEvent(is||jh())});return function(Ln){return bt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,oe);const Ve=S,Qe=`${R.packageName.toLowerCase()}://`;po().handleOpenURL=function(){var bt=(0,l.Z)(function*(ct){if(ct.toLowerCase().startsWith(Qe)&&oe({url:ct}),"function"==typeof Ve)try{Ve(ct)}catch(Ln){console.error(Ln)}});return function(ct){return bt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lt,this._completeRedirectFn=Fn}_initialize(p){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,S){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(p,g,w,S)})()}_openRedirect(p,g,w,S){var R=this;return(0,l.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(p,g,w,S)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Gh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return D_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const g=yield function Ui(){return Ya.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Jp(y){return y.unwrap()}function Ja(y){return Xp(y)}function Xp(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Pr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=La;break;case"facebook.com":w=Do;break;case"github.com":w=Pu;break;case"twitter.com":w=_l;break;default:const{oauthIdToken:S,oauthAccessToken:R,oauthTokenSecret:q,pendingToken:oe,nonce:Ve}=p;return R||q||S||oe?oe?g.startsWith("saml.")?Xi._create(g,oe):_s._fromParams({providerId:g,signInMethod:g,pendingToken:oe,idToken:S,accessToken:R}):new ea(g).credential({idToken:S,accessToken:R,rawNonce:Ve}):null}return y instanceof N.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Mi(y,p){return p.catch(g=>{throw g instanceof N.ZR&&function I_(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new S_(y,function kl(y,p){var g;const w=(0,N.m9)(y),S=p;return ie(p.customData.operationType,w,"argument-error"),ie(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ja._fromError(w,S)}(y,p));else if(w){const S=Xp(p),R=p;S&&(R.credential=S,R.tenantId=w.tenantId||void 0,R.email=w.email||void 0,R.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:Ja(g),additionalUserInfo:Ti(g),user:Uo.getOrCreate(S)}})}function Wh(y,p){return Zh.apply(this,arguments)}function Zh(){return(Zh=(0,l.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Mi(y,g.confirm(w))}})).apply(this,arguments)}class S_{constructor(p,g){this.resolver=g,this.auth=function T_(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Mi(Jp(this.auth),this.resolver.resolveSignIn(p))}}class Uo{constructor(p){this._delegate=p,this.multiFactor=function Gu(y){const p=(0,N.m9)(y);return sa.has(p)||sa.set(p,ws._fromUser(p)),sa.get(p)}(p)}static getOrCreate(p){return Uo.USER_MAP.has(p)||Uo.USER_MAP.set(p,new Uo(p)),Uo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,l.Z)(function*(){return Mi(g.auth,xr(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,l.Z)(function*(){return Wh(w.auth,function Ac(y,p,g){return ca.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,l.Z)(function*(){return Mi(g.auth,function es(y,p,g){return Nl.apply(this,arguments)}(g._delegate,p,_r))})()}linkWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield Qa(Pe(g.auth)),function Ke(y,p,g){return function Dt(y,p,g){return Rt.apply(this,arguments)}(y,p,g)}(g._delegate,p,_r)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,l.Z)(function*(){return Mi(g.auth,eo(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Wh(this.auth,function Up(y,p,g){return Mc.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Mi(this.auth,function ko(y,p,g){return Pl.apply(this,arguments)}(this._delegate,p,_r))}reauthenticateWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield Qa(Pe(g.auth)),function ne(y,p,g){return function Ae(y,p,g){return Me.apply(this,arguments)}(y,p,g)}(g._delegate,p,_r)})()}sendEmailVerification(p){return function Ar(y,p){return mc.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,l.Z)(function*(){return yield function Ba(y,p){return lc.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function yc(y,p){return vc((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Bu(y,p){return vc((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function kc(y,p){return Is.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ra(y,p){return _c.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Al(y,p,g){return Ml.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Uo.USER_MAP=new WeakMap;const Kc=ie;let Yh=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;Kc(S,"invalid-api-key",{appName:g.name}),Kc(S,"invalid-api-key",{appName:g.name});const R="undefined"!=typeof window?_r:void 0;this._delegate=w.initialize({options:{persistence:x_(S,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Uo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function _n(y,p,g){const w=Pe(y);ie(w._canInitEmulator,w,"emulator-config-failed"),ie(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),R=pi(p),{host:q,port:oe}=function qs(y){const p=pi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(w);if(S){const R=S[1];return{host:R,port:Gn(w.substr(R.length+1))}}{const[R,q]=w.split(":");return{host:R,port:Gn(q)}}}(p);w.config.emulator={url:`${R}//${q}${null===oe?"":`:${oe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:q,port:oe,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Kr(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function uc(y,p){return Ee.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ut(this._delegate,g)}confirmPasswordReset(g,w){return function Il(y,p,g){return cc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var S=this;return(0,l.Z)(function*(){return Mi(S._delegate,function ia(y,p,g){return tr.apply(this,arguments)}(S._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function xl(y,p){return ro.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function pc(y,p){const g=Eo.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){Kc(Zc(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function St(y,p){return Wn.apply(this,arguments)}(g._delegate,_r);return w?Mi(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Zp(y,p){Pe(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,S){const{next:R,error:q,complete:oe}=Kh(g,w,S);return this._delegate.onAuthStateChanged(R,q,oe)}onIdTokenChanged(g,w,S){const{next:R,error:q,complete:oe}=Kh(g,w,S);return this._delegate.onIdTokenChanged(R,q,oe)}sendSignInLinkToEmail(g,w){return function fc(y,p,g){return Lu.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Dl(y,p,g){return Tl.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,l.Z)(function*(){let S;switch(function Kp(y,p){Ka(Object.values(Lr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Ka(p!==Lr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Ka(p===Lr.NONE,y,"unsupported-persistence-type"):Vo()?Ka(p===Lr.NONE||p===Lr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Ka(p===Lr.NONE||Ai(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Lr.SESSION:S=lt;break;case Lr.LOCAL:S=(yield se(nr)._isAvailable())?nr:jn;break;case Lr.NONE:S=z;break;default:return Te("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Mi(this._delegate,function vl(y){return Nu.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Mi(this._delegate,Hn(this._delegate,g))}signInWithCustomToken(g){return Mi(this._delegate,function to(y,p){return no.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Mi(this._delegate,function hc(y,p,g){return Hn((0,N.m9)(y),ac.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Mi(this._delegate,function Sl(y,p,g){return io.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Wh(this._delegate,function Ol(y,p,g){return Mn.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,l.Z)(function*(){return Kc(Zc(),w._delegate,"operation-not-supported-in-this-environment"),Mi(w._delegate,function fo(y,p,g){return Ku.apply(this,arguments)}(w._delegate,g,_r))})()}signInWithRedirect(g){var w=this;return(0,l.Z)(function*(){return Kc(Zc(),w._delegate,"operation-not-supported-in-this-environment"),yield Qa(w._delegate),function k(y,p,g){return function L(y,p,g){return Z.apply(this,arguments)}(y,p,g)}(w._delegate,g,_r)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Cn(y,p){return na.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Lr,y})();function Kh(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const S=w;return{next:q=>S(q&&Uo.getOrCreate(q)),error:p,complete:g}}function x_(y,p){const g=function Qp(y,p){const g=Yc();if(!g)return[];const w=ue(zh,y,p);switch(g.getItem(w)){case Lr.NONE:return[z];case Lr.LOCAL:return[nr,lt];case Lr.SESSION:return[lt];default:return[]}}(y,p);if("undefined"!=typeof self&&!g.includes(nr)&&g.push(nr),"undefined"!=typeof window)for(const w of[jn,lt])g.includes(w)||g.push(w);return g.includes(z)||g.push(z),g}class Qh{constructor(){this.providerId="phone",this._delegate=new Pr(Jp(K.Z.auth()))}static credential(p,g){return Pr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Qh.PHONE_SIGN_IN_METHOD=Pr.PHONE_SIGN_IN_METHOD,Qh.PROVIDER_ID=Pr.PROVIDER_ID;const A_=ie;class M_{constructor(p,g,w=K.Z.app()){var S;A_(null===(S=w.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ih(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function em(y){y.INTERNAL.registerComponent(new Q.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Yh(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ac,FacebookAuthProvider:Do,GithubAuthProvider:Pu,GoogleAuthProvider:La,OAuthProvider:ea,SAMLAuthProvider:ur,PhoneAuthProvider:Qh,PhoneMultiFactorGenerator:Gp,RecaptchaVerifier:M_,TwitterAuthProvider:_l,Auth:Yh,AuthCredential:on,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.12")}(K.Z)},8306:(at,De,P)=>{P.d(De,{y:()=>G});var l=P(930),K=P(727),N=P(8822),ae=P(4671);var Q=P(2416),he=P(576),ce=P(2806);let G=(()=>{class xe{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const fe=new xe;return fe.source=this,fe.operator=Le,fe}subscribe(Le,fe,we){const Je=function ze(xe){return xe&&xe instanceof l.Lv||function X(xe){return xe&&(0,he.m)(xe.next)&&(0,he.m)(xe.error)&&(0,he.m)(xe.complete)}(xe)&&(0,K.Nn)(xe)}(Le)?Le:new l.Hp(Le,fe,we);return(0,ce.x)(()=>{const{operator:We,source:Te}=this;Je.add(We?We.call(Je,Te):Te?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Le){try{return this._subscribe(Le)}catch(fe){Le.error(fe)}}forEach(Le,fe){return new(fe=$(fe))((we,Je)=>{const We=new l.Hp({next:Te=>{try{Le(Te)}catch(ye){Je(ye),We.unsubscribe()}},error:Je,complete:we});this.subscribe(We)})}_subscribe(Le){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(Le)}[N.L](){return this}pipe(...Le){return function me(xe){return 0===xe.length?ae.y:1===xe.length?xe[0]:function(Le){return xe.reduce((fe,we)=>we(fe),Le)}}(Le)(this)}toPromise(Le){return new(Le=$(Le))((fe,we)=>{let Je;this.subscribe(We=>Je=We,We=>we(We),()=>fe(Je))})}}return xe.create=Oe=>new xe(Oe),xe})();function $(xe){var Oe;return null!==(Oe=null!=xe?xe:Q.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(at,De,P)=>{P.d(De,{x:()=>Q});var l=P(8306),K=P(727);const ae=(0,P(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=P(8737),me=P(2806);let Q=(()=>{class ce extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const X=new he(this,this);return X.operator=$,X}_throwIfClosed(){if(this.closed)throw new ae}next($){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next($)}})}error($){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:X}=this;for(;X.length;)X.shift().error($)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:X,isStopped:ze,observers:xe}=this;return X||ze?K.Lc:(this.currentObservers=null,xe.push($),new K.w0(()=>{this.currentObservers=null,(0,te.P)(xe,$)}))}_checkFinalizedStatuses($){const{hasError:X,thrownError:ze,isStopped:xe}=this;X?$.error(ze):xe&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return ce.create=(G,$)=>new he(G,$),ce})();class he extends Q{constructor(G,$){super(),this.destination=G,this.source=$}next(G){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===X||X.call($,G)}error(G){var $,X;null===(X=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===X||X.call($,G)}complete(){var G,$;null===($=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===$||$.call(G)}_subscribe(G){var $,X;return null!==(X=null===($=this.source)||void 0===$?void 0:$.subscribe(G))&&void 0!==X?X:K.Lc}}},930:(at,De,P)=>{P.d(De,{Hp:()=>Le,Lv:()=>X});var l=P(576),K=P(727),N=P(2416),ae=P(7849),te=P(5032);const me=ce("C",void 0,void 0);function ce(Te,ye,be){return{kind:Te,value:ye,error:be}}var G=P(3410),$=P(2806);class X extends K.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,K.Nn)(ye)&&ye.add(this)):this.destination=We}static create(ye,be,He){return new Le(ye,be,He)}next(ye){this.isStopped?Je(function he(Te){return ce("N",Te,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Je(function Q(Te){return ce("E",void 0,Te)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Je(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function xe(Te,ye){return ze.call(Te,ye)}class Oe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:be}=this;if(be.next)try{be.next(ye)}catch(He){fe(He)}}error(ye){const{partialObserver:be}=this;if(be.error)try{be.error(ye)}catch(He){fe(He)}else fe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(be){fe(be)}}}class Le extends X{constructor(ye,be,He){let Ue;if(super(),(0,l.m)(ye)||!ye)Ue={next:null!=ye?ye:void 0,error:null!=be?be:void 0,complete:null!=He?He:void 0};else{let ie;this&&N.v.useDeprecatedNextContext?(ie=Object.create(ye),ie.unsubscribe=()=>this.unsubscribe(),Ue={next:ye.next&&xe(ye.next,ie),error:ye.error&&xe(ye.error,ie),complete:ye.complete&&xe(ye.complete,ie)}):Ue=ye}this.destination=new Oe(Ue)}}function fe(Te){N.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Te):(0,ae.h)(Te)}function Je(Te,ye){const{onStoppedNotification:be}=N.v;be&&G.z.setTimeout(()=>be(Te,ye))}const We={closed:!0,next:te.Z,error:function we(Te){throw Te},complete:te.Z}},727:(at,De,P)=>{P.d(De,{Lc:()=>me,w0:()=>te,Nn:()=>Q});var l=P(576);const N=(0,P(3888).d)(ce=>function($){ce(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((X,ze)=>`${ze+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ae=P(8737);class te{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const xe of $)xe.remove(this);else $.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(xe){G=xe instanceof N?xe.errors:[xe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const xe of ze)try{he(xe)}catch(Oe){G=null!=G?G:[],Oe instanceof N?G=[...G,...Oe.errors]:G.push(Oe)}}if(G)throw new N(G)}}add(G){var $;if(G&&G!==this)if(this.closed)he(G);else{if(G instanceof te){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(G)}}_hasParent(G){const{_parentage:$}=this;return $===G||Array.isArray($)&&$.includes(G)}_addParent(G){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(G),$):$?[$,G]:G}_removeParent(G){const{_parentage:$}=this;$===G?this._parentage=null:Array.isArray($)&&(0,ae.P)($,G)}remove(G){const{_finalizers:$}=this;$&&(0,ae.P)($,G),G instanceof te&&G._removeParent(this)}}te.EMPTY=(()=>{const ce=new te;return ce.closed=!0,ce})();const me=te.EMPTY;function Q(ce){return ce instanceof te||ce&&"closed"in ce&&(0,l.m)(ce.remove)&&(0,l.m)(ce.add)&&(0,l.m)(ce.unsubscribe)}function he(ce){(0,l.m)(ce)?ce():ce.unsubscribe()}},2416:(at,De,P)=>{P.d(De,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,De,P)=>{P.d(De,{E:()=>K});const K=new(P(8306).y)(te=>te.complete())},8996:(at,De,P)=>{P.d(De,{D:()=>ye});var l=P(8421),K=P(5363),N=P(9468),me=P(8306),he=P(2202),ce=P(576),G=P(9672);function X(be,He){if(!be)throw new Error("Iterable cannot be null");return new me.y(Ue=>{(0,G.f)(Ue,He,()=>{const ie=be[Symbol.asyncIterator]();(0,G.f)(Ue,He,()=>{ie.next().then(W=>{W.done?Ue.complete():Ue.next(W.value)})},0,!0)})})}var ze=P(3670),xe=P(8239),Oe=P(1144),Le=P(6495),fe=P(2206),we=P(4532),Je=P(3260);function ye(be,He){return He?function Te(be,He){if(null!=be){if((0,ze.c)(be))return function ae(be,He){return(0,l.Xf)(be).pipe((0,N.R)(He),(0,K.Q)(He))}(be,He);if((0,Oe.z)(be))return function Q(be,He){return new me.y(Ue=>{let ie=0;return He.schedule(function(){ie===be.length?Ue.complete():(Ue.next(be[ie++]),Ue.closed||this.schedule())})})}(be,He);if((0,xe.t)(be))return function te(be,He){return(0,l.Xf)(be).pipe((0,N.R)(He),(0,K.Q)(He))}(be,He);if((0,fe.D)(be))return X(be,He);if((0,Le.T)(be))return function $(be,He){return new me.y(Ue=>{let ie;return(0,G.f)(Ue,He,()=>{ie=be[he.h](),(0,G.f)(Ue,He,()=>{let W,re;try{({value:W,done:re}=ie.next())}catch(ge){return void Ue.error(ge)}re?Ue.complete():Ue.next(W)},0,!0)}),()=>(0,ce.m)(null==ie?void 0:ie.return)&&ie.return()})}(be,He);if((0,Je.L)(be))return function We(be,He){return X((0,Je.Q)(be),He)}(be,He)}throw(0,we.z)(be)}(be,He):(0,l.Xf)(be)}},8421:(at,De,P)=>{P.d(De,{Xf:()=>ze});var l=P(655),K=P(1144),N=P(8239),ae=P(8306),te=P(3670),me=P(2206),Q=P(4532),he=P(6495),ce=P(3260),G=P(576),$=P(7849),X=P(8822);function ze(Te){if(Te instanceof ae.y)return Te;if(null!=Te){if((0,te.c)(Te))return function xe(Te){return new ae.y(ye=>{const be=Te[X.L]();if((0,G.m)(be.subscribe))return be.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,K.z)(Te))return function Oe(Te){return new ae.y(ye=>{for(let be=0;be<Te.length&&!ye.closed;be++)ye.next(Te[be]);ye.complete()})}(Te);if((0,N.t)(Te))return function Le(Te){return new ae.y(ye=>{Te.then(be=>{ye.closed||(ye.next(be),ye.complete())},be=>ye.error(be)).then(null,$.h)})}(Te);if((0,me.D)(Te))return we(Te);if((0,he.T)(Te))return function fe(Te){return new ae.y(ye=>{for(const be of Te)if(ye.next(be),ye.closed)return;ye.complete()})}(Te);if((0,ce.L)(Te))return function Je(Te){return we((0,ce.Q)(Te))}(Te)}throw(0,Q.z)(Te)}function we(Te){return new ae.y(ye=>{(function We(Te,ye){var be,He,Ue,ie;return(0,l.mG)(this,void 0,void 0,function*(){try{for(be=(0,l.KL)(Te);!(He=yield be.next()).done;)if(ye.next(He.value),ye.closed)return}catch(W){Ue={error:W}}finally{try{He&&!He.done&&(ie=be.return)&&(yield ie.call(be))}finally{if(Ue)throw Ue.error}}ye.complete()})})(Te,ye).catch(be=>ye.error(be))})}},6451:(at,De,P)=>{P.d(De,{T:()=>me});var l=P(8189),K=P(8421),N=P(515),ae=P(3269),te=P(8996);function me(...Q){const he=(0,ae.yG)(Q),ce=(0,ae._6)(Q,1/0),G=Q;return G.length?1===G.length?(0,K.Xf)(G[0]):(0,l.J)(ce)((0,te.D)(G,he)):N.E}},5403:(at,De,P)=>{P.d(De,{x:()=>K});var l=P(930);function K(ae,te,me,Q,he){return new N(ae,te,me,Q,he)}class N extends l.Lv{constructor(te,me,Q,he,ce,G){super(te),this.onFinalize=ce,this.shouldUnsubscribe=G,this._next=me?function($){try{me($)}catch(X){te.error(X)}}:super._next,this._error=he?function($){try{he($)}catch(X){te.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch($){te.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(at,De,P)=>{P.d(De,{U:()=>N});var l=P(4482),K=P(5403);function N(ae,te){return(0,l.e)((me,Q)=>{let he=0;me.subscribe((0,K.x)(Q,ce=>{Q.next(ae.call(te,ce,he++))}))})}},8189:(at,De,P)=>{P.d(De,{J:()=>N});var l=P(5577),K=P(4671);function N(ae=1/0){return(0,l.z)(K.y,ae)}},5577:(at,De,P)=>{P.d(De,{z:()=>he});var l=P(4004),K=P(8421),N=P(4482),ae=P(9672),te=P(5403),Q=P(576);function he(ce,G,$=1/0){return(0,Q.m)(G)?he((X,ze)=>(0,l.U)((xe,Oe)=>G(X,xe,ze,Oe))((0,K.Xf)(ce(X,ze))),$):("number"==typeof G&&($=G),(0,N.e)((X,ze)=>function me(ce,G,$,X,ze,xe,Oe,Le){const fe=[];let we=0,Je=0,We=!1;const Te=()=>{We&&!fe.length&&!we&&G.complete()},ye=He=>we<X?be(He):fe.push(He),be=He=>{xe&&G.next(He),we++;let Ue=!1;(0,K.Xf)($(He,Je++)).subscribe((0,te.x)(G,ie=>{null==ze||ze(ie),xe?ye(ie):G.next(ie)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(we--;fe.length&&we<X;){const ie=fe.shift();Oe?(0,ae.f)(G,Oe,()=>be(ie)):be(ie)}Te()}catch(ie){G.error(ie)}}))};return ce.subscribe((0,te.x)(G,ye,()=>{We=!0,Te()})),()=>{null==Le||Le()}}(X,ze,ce,$)))}},5363:(at,De,P)=>{P.d(De,{Q:()=>ae});var l=P(9672),K=P(4482),N=P(5403);function ae(te,me=0){return(0,K.e)((Q,he)=>{Q.subscribe((0,N.x)(he,ce=>(0,l.f)(he,te,()=>he.next(ce),me),()=>(0,l.f)(he,te,()=>he.complete(),me),ce=>(0,l.f)(he,te,()=>he.error(ce),me)))})}},3099:(at,De,P)=>{P.d(De,{B:()=>me});var l=P(8996),K=P(5698),N=P(7579),ae=P(930),te=P(4482);function me(he={}){const{connector:ce=(()=>new N.x),resetOnError:G=!0,resetOnComplete:$=!0,resetOnRefCountZero:X=!0}=he;return ze=>{let xe=null,Oe=null,Le=null,fe=0,we=!1,Je=!1;const We=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Te=()=>{We(),xe=Le=null,we=Je=!1},ye=()=>{const be=xe;Te(),null==be||be.unsubscribe()};return(0,te.e)((be,He)=>{fe++,!Je&&!we&&We();const Ue=Le=null!=Le?Le:ce();He.add(()=>{fe--,0===fe&&!Je&&!we&&(Oe=Q(ye,X))}),Ue.subscribe(He),xe||(xe=new ae.Hp({next:ie=>Ue.next(ie),error:ie=>{Je=!0,We(),Oe=Q(Te,G,ie),Ue.error(ie)},complete:()=>{we=!0,We(),Oe=Q(Te,$),Ue.complete()}}),(0,l.D)(be).subscribe(xe))})(ze)}}function Q(he,ce,...G){return!0===ce?(he(),null):!1===ce?null:ce(...G).pipe((0,K.q)(1)).subscribe(()=>he())}},9468:(at,De,P)=>{P.d(De,{R:()=>K});var l=P(4482);function K(N,ae=0){return(0,l.e)((te,me)=>{me.add(N.schedule(()=>te.subscribe(me),ae))})}},5698:(at,De,P)=>{P.d(De,{q:()=>ae});var l=P(515),K=P(4482),N=P(5403);function ae(te){return te<=0?()=>l.E:(0,K.e)((me,Q)=>{let he=0;me.subscribe((0,N.x)(Q,ce=>{++he<=te&&(Q.next(ce),te<=he&&Q.complete())}))})}},8505:(at,De,P)=>{P.d(De,{b:()=>te});var l=P(576),K=P(4482),N=P(5403),ae=P(4671);function te(me,Q,he){const ce=(0,l.m)(me)||Q||he?{next:me,error:Q,complete:he}:me;return ce?(0,K.e)((G,$)=>{var X;null===(X=ce.subscribe)||void 0===X||X.call(ce);let ze=!0;G.subscribe((0,N.x)($,xe=>{var Oe;null===(Oe=ce.next)||void 0===Oe||Oe.call(ce,xe),$.next(xe)},()=>{var xe;ze=!1,null===(xe=ce.complete)||void 0===xe||xe.call(ce),$.complete()},xe=>{var Oe;ze=!1,null===(Oe=ce.error)||void 0===Oe||Oe.call(ce,xe),$.error(xe)},()=>{var xe,Oe;ze&&(null===(xe=ce.unsubscribe)||void 0===xe||xe.call(ce)),null===(Oe=ce.finalize)||void 0===Oe||Oe.call(ce)}))}):ae.y}},4408:(at,De,P)=>{P.d(De,{o:()=>te});var l=P(727);class K extends l.w0{constructor(Q,he){super()}schedule(Q,he=0){return this}}const N={setInterval(me,Q,...he){const{delegate:ce}=N;return(null==ce?void 0:ce.setInterval)?ce.setInterval(me,Q,...he):setInterval(me,Q,...he)},clearInterval(me){const{delegate:Q}=N;return((null==Q?void 0:Q.clearInterval)||clearInterval)(me)},delegate:void 0};var ae=P(8737);class te extends K{constructor(Q,he){super(Q,he),this.scheduler=Q,this.work=he,this.pending=!1}schedule(Q,he=0){if(this.closed)return this;this.state=Q;const ce=this.id,G=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(G,ce,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(G,this.id,he),this}requestAsyncId(Q,he,ce=0){return N.setInterval(Q.flush.bind(Q,this),ce)}recycleAsyncId(Q,he,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return he;N.clearInterval(he)}execute(Q,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(Q,he);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,he){let G,ce=!1;try{this.work(Q)}catch($){ce=!0,G=$||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:Q,scheduler:he}=this,{actions:ce}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ce,this),null!=Q&&(this.id=this.recycleAsyncId(he,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,De,P)=>{P.d(De,{v:()=>N});var l=P(6063);class K{constructor(te,me=K.now){this.schedulerActionCtor=te,this.now=me}schedule(te,me=0,Q){return new this.schedulerActionCtor(this,te).schedule(Q,me)}}K.now=l.l.now;class N extends K{constructor(te,me=K.now){super(te,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:me}=this;if(this._active)return void me.push(te);let Q;this._active=!0;do{if(Q=te.execute(te.state,te.delay))break}while(te=me.shift());if(this._active=!1,Q){for(;te=me.shift();)te.unsubscribe();throw Q}}}},4986:(at,De,P)=>{P.d(De,{P:()=>ae,z:()=>N});var l=P(4408);const N=new(P(7565).v)(l.o),ae=N},6063:(at,De,P)=>{P.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(at,De,P)=>{P.d(De,{z:()=>l});const l={setTimeout(K,N,...ae){const{delegate:te}=l;return(null==te?void 0:te.setTimeout)?te.setTimeout(K,N,...ae):setTimeout(K,N,...ae)},clearTimeout(K){const{delegate:N}=l;return((null==N?void 0:N.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(at,De,P)=>{P.d(De,{h:()=>K});const K=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,De,P)=>{P.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,De,P)=>{P.d(De,{_6:()=>me,jO:()=>ae,yG:()=>te});var l=P(576),K=P(3532);function N(Q){return Q[Q.length-1]}function ae(Q){return(0,l.m)(N(Q))?Q.pop():void 0}function te(Q){return(0,K.K)(N(Q))?Q.pop():void 0}function me(Q,he){return"number"==typeof N(Q)?Q.pop():he}},8737:(at,De,P)=>{function l(K,N){if(K){const ae=K.indexOf(N);0<=ae&&K.splice(ae,1)}}P.d(De,{P:()=>l})},3888:(at,De,P)=>{function l(K){const ae=K(te=>{Error.call(te),te.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(De,{d:()=>l})},2806:(at,De,P)=>{P.d(De,{O:()=>ae,x:()=>N});var l=P(2416);let K=null;function N(te){if(l.v.useDeprecatedSynchronousErrorHandling){const me=!K;if(me&&(K={errorThrown:!1,error:null}),te(),me){const{errorThrown:Q,error:he}=K;if(K=null,Q)throw he}}else te()}function ae(te){l.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=te)}},9672:(at,De,P)=>{function l(K,N,ae,te=0,me=!1){const Q=N.schedule(function(){ae(),me?K.add(this.schedule(null,te)):this.unsubscribe()},te);if(K.add(Q),!me)return Q}P.d(De,{f:()=>l})},4671:(at,De,P)=>{function l(K){return K}P.d(De,{y:()=>l})},1144:(at,De,P)=>{P.d(De,{z:()=>l});const l=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(at,De,P)=>{P.d(De,{D:()=>K});var l=P(576);function K(N){return Symbol.asyncIterator&&(0,l.m)(null==N?void 0:N[Symbol.asyncIterator])}},576:(at,De,P)=>{function l(K){return"function"==typeof K}P.d(De,{m:()=>l})},3670:(at,De,P)=>{P.d(De,{c:()=>N});var l=P(8822),K=P(576);function N(ae){return(0,K.m)(ae[l.L])}},6495:(at,De,P)=>{P.d(De,{T:()=>N});var l=P(2202),K=P(576);function N(ae){return(0,K.m)(null==ae?void 0:ae[l.h])}},8239:(at,De,P)=>{P.d(De,{t:()=>K});var l=P(576);function K(N){return(0,l.m)(null==N?void 0:N.then)}},3260:(at,De,P)=>{P.d(De,{L:()=>ae,Q:()=>N});var l=P(655),K=P(576);function N(te){return(0,l.FC)(this,arguments,function*(){const Q=te.getReader();try{for(;;){const{value:he,done:ce}=yield(0,l.qq)(Q.read());if(ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(he)}}finally{Q.releaseLock()}})}function ae(te){return(0,K.m)(null==te?void 0:te.getReader)}},3532:(at,De,P)=>{P.d(De,{K:()=>K});var l=P(576);function K(N){return N&&(0,l.m)(N.schedule)}},4482:(at,De,P)=>{P.d(De,{A:()=>K,e:()=>N});var l=P(576);function K(ae){return(0,l.m)(null==ae?void 0:ae.lift)}function N(ae){return te=>{if(K(te))return te.lift(function(me){try{return ae(me,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,De,P)=>{function l(){}P.d(De,{Z:()=>l})},7849:(at,De,P)=>{P.d(De,{h:()=>N});var l=P(2416),K=P(3410);function N(ae){K.z.setTimeout(()=>{const{onUnhandledError:te}=l.v;if(!te)throw ae;te(ae)})}},4532:(at,De,P)=>{function l(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(De,{z:()=>l})},655:(at,De,P)=>{function ae(W,re){var ge={};for(var se in W)Object.prototype.hasOwnProperty.call(W,se)&&re.indexOf(se)<0&&(ge[se]=W[se]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(se=Object.getOwnPropertySymbols(W);Re<se.length;Re++)re.indexOf(se[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,se[Re])&&(ge[se[Re]]=W[se[Re]])}return ge}function he(W,re,ge,se){return new(ge||(ge=Promise))(function(le,It){function en(_t){try{dt(se.next(_t))}catch(fn){It(fn)}}function Bn(_t){try{dt(se.throw(_t))}catch(fn){It(fn)}}function dt(_t){_t.done?le(_t.value):function Re(le){return le instanceof ge?le:new ge(function(It){It(le)})}(_t.value).then(en,Bn)}dt((se=se.apply(W,re||[])).next())})}function fe(W){return this instanceof fe?(this.v=W,this):new fe(W)}function we(W,re,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,se=ge.apply(W,re||[]),le=[];return Re={},It("next"),It("throw"),It("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function It(pn){se[pn]&&(Re[pn]=function(Sr){return new Promise(function(sn,us){le.push([pn,Sr,sn,us])>1||en(pn,Sr)})})}function en(pn,Sr){try{!function Bn(pn){pn.value instanceof fe?Promise.resolve(pn.value.v).then(dt,_t):fn(le[0][2],pn)}(se[pn](Sr))}catch(sn){fn(le[0][3],sn)}}function dt(pn){en("next",pn)}function _t(pn){en("throw",pn)}function fn(pn,Sr){pn(Sr),le.shift(),le.length&&en(le[0][0],le[0][1])}}function We(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,re=W[Symbol.asyncIterator];return re?re.call(W):(W=function X(W){var re="function"==typeof Symbol&&Symbol.iterator,ge=re&&W[re],se=0;if(ge)return ge.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&se>=W.length&&(W=void 0),{value:W&&W[se++],done:!W}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ge={},se("next"),se("throw"),se("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function se(le){ge[le]=W[le]&&function(It){return new Promise(function(en,Bn){!function Re(le,It,en,Bn){Promise.resolve(Bn).then(function(dt){le({value:dt,done:en})},It)}(en,Bn,(It=W[le](It)).done,It.value)})}}}P.d(De,{FC:()=>we,KL:()=>We,_T:()=>ae,mG:()=>he,qq:()=>fe})},5e3:(at,De,P)=>{P.d(De,{$8M:()=>Pn,$Z:()=>vw,AFp:()=>OC,AaK:()=>he,B6R:()=>H,BQk:()=>Ca,CHM:()=>dc,CRH:()=>Kl,CZH:()=>Cv,CqO:()=>iI,EJc:()=>Iv,EiD:()=>qc,EpF:()=>nI,F$t:()=>Dw,F4k:()=>ww,FYo:()=>Zy,FiY:()=>gr,G48:()=>g1,Gf:()=>kS,GfV:()=>uC,GkF:()=>Df,Gpc:()=>$,Gre:()=>AI,Hsn:()=>Tw,Ikx:()=>Ow,JOm:()=>oe,JVY:()=>Rh,L6k:()=>rd,LAX:()=>$p,LFG:()=>Ke,LSH:()=>Vl,Lbi:()=>dg,MAs:()=>My,NdJ:()=>Yl,OlP:()=>Nn,Oqu:()=>Rw,PXZ:()=>m1,Q6J:()=>Zl,QGY:()=>bw,Qsj:()=>pS,R0b:()=>Zo,RDi:()=>ys,Rgc:()=>Jm,SBq:()=>al,Sil:()=>Av,Suo:()=>AC,TTD:()=>Do,TgZ:()=>Rm,Udp:()=>Sw,VKq:()=>Ym,VLi:()=>Bf,W1O:()=>ng,WFA:()=>Ny,WLB:()=>vS,X6Q:()=>Fv,XFs:()=>ht,Xpm:()=>Vt,Y36:()=>il,YKP:()=>pC,YNc:()=>Ay,Yjl:()=>Ci,Yz7:()=>sn,ZZ4:()=>yg,_Bn:()=>dS,_UZ:()=>Ef,_Vd:()=>$d,_c5:()=>fx,_uU:()=>bI,aQg:()=>jv,c2e:()=>Tv,cJS:()=>tn,cg1:()=>Nw,d8E:()=>Pw,dDg:()=>KS,deG:()=>Lp,dqk:()=>zt,eBb:()=>Gp,eFA:()=>JS,ekj:()=>xw,f3M:()=>Rt,g9A:()=>NC,h0i:()=>zd,hGG:()=>XC,hij:()=>Uy,iGM:()=>xC,ifc:()=>Wt,ip1:()=>zS,kL8:()=>VI,lG2:()=>Kt,mCW:()=>Wa,n5z:()=>Zu,n_E:()=>Qm,oAB:()=>J,oxw:()=>Fy,pB0:()=>sd,q3G:()=>nn,q4F:()=>dC,qLn:()=>Mi,qOj:()=>aw,qZA:()=>Py,qzn:()=>Bo,sBO:()=>y1,sIi:()=>xd,s_b:()=>eg,soG:()=>Jd,tBr:()=>Vi,tb:()=>Lf,tp0:()=>Po,uIk:()=>Sm,vHH:()=>Oe,vpe:()=>Wo,wAp:()=>wt,xp6:()=>rf,yhl:()=>qa,ynx:()=>Fd,z2F:()=>Nv,z3N:()=>xs,zSh:()=>Ed,zs3:()=>Go});var l=P(7579),K=P(727),N=P(8306),ae=P(6451),te=P(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function Q(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function he(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(he).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const G=me({__forward_ref__:me});function $(s){return s.__forward_ref__=$,s.toString=function(){return he(this())},s}function X(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(G)&&s.__forward_ref__===$}class Oe extends Error{constructor(o,c){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function fe(s){return"string"==typeof s?s:null==s?"":String(s)}function we(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():fe(s)}function ye(s,o){const c=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${we(s)} found${c}`)}function dt(s,o){null==s&&function _t(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function qt(s){return di(s,Zr)||di(s,ds)}function di(s,o){return s.hasOwnProperty(o)?s[o]:null}function Pi(s){return s&&(s.hasOwnProperty(Ni)||s.hasOwnProperty(hs))?s[Ni]:null}const Zr=me({\u0275prov:me}),Ni=me({\u0275inj:me}),ds=me({ngInjectableDef:me}),hs=me({ngInjectorDef:me});var ht=(()=>((ht=ht||{})[ht.Default=0]="Default",ht[ht.Host=1]="Host",ht[ht.Self=2]="Self",ht[ht.SkipSelf=4]="SkipSelf",ht[ht.Optional=8]="Optional",ht))();let Yi;function Qn(s){const o=Yi;return Yi=s,o}function lr(s,o,c){const d=qt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&ht.Optional?null:void 0!==o?o:void ye(he(s),"Injector")}function wn(s){return{toString:s}.toString()}var si=(()=>((si=si||{})[si.OnPush=0]="OnPush",si[si.Default=1]="Default",si))(),Wt=(()=>{return(s=Wt||(Wt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Wt;var s})();const st="undefined"!=typeof globalThis&&globalThis,Ct="undefined"!=typeof window&&window,hi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=st||"undefined"!=typeof global&&global||Ct||hi,fi={},ft=[],wi=me({\u0275cmp:me}),Ht=me({\u0275dir:me}),Ze=me({\u0275pipe:me}),Ie=me({\u0275mod:me}),Ye=me({\u0275fac:me}),pt=me({__NG_ELEMENT_ID__:me});let jt=0;function Vt(s){return wn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===si.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ft,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Wt.Emulated,id:"c",styles:s.styles||ft,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,m=s.features,v=s.pipes;return d.id+=jt++,d.inputs=yt(s.inputs,c),d.outputs=yt(s.outputs),m&&m.forEach(C=>C(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(V):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(z):null,d})}function H(s,o,c){const d=s.\u0275cmp;d.directiveDefs=()=>o.map(V),d.pipeDefs=()=>c.map(z)}function V(s){return Zt(s)||function kn(s){return s[Ht]||null}(s)}function z(s){return function Pt(s){return s[Ze]||null}(s)}const ue={};function J(s){return wn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ft,declarations:s.declarations||ft,imports:s.imports||ft,exports:s.exports||ft,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ue[s.id]=s.type),o})}function yt(s,o){if(null==s)return fi;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),c[h]=d,o&&(o[h]=m)}return c}const Kt=Vt;function Ci(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Zt(s){return s[wi]||null}function gn(s,o){const c=s[Ie]||null;if(!c&&!0===o)throw new Error(`Type ${he(s)} does not have '\u0275mod' property.`);return c}function Ki(s){return Array.isArray(s)&&"object"==typeof s[1]}function Fi(s){return Array.isArray(s)&&!0===s[1]}function sc(s){return 0!=(8&s.flags)}function Ys(s){return 2==(2&s.flags)}function pl(s){return 1==(1&s.flags)}function Qi(s){return null!==s.template}function xu(s){return 0!=(512&s[2])}function Ji(s,o){return s.hasOwnProperty(Ye)?s[Ye]:null}class ea{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Do(){return La}function La(s){return s.type.prototype.ngOnChanges&&(s.setInput=Pp),Pu}function Pu(){const s=Js(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===fi)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Pp(s,o,c,d){const h=Js(s)||function ur(s,o){return s[Xi]=o}(s,{previous:fi,current:null}),m=h.current||(h.current={}),v=h.previous,C=this.declaredInputs[c],E=v[C];m[C]=new ea(E&&E.currentValue,o,v===fi),s[d]=o}Do.ngInherit=!0;const Xi="__ngSimpleChanges__";function Js(s){return s[Xi]||null}let wl;function ys(s){wl=s}function yn(s){return!!s.listen}const ta={createRenderer:(s,o)=>function Ba(){return void 0!==wl?wl:"undefined"!=typeof document?document:void 0}()};function ln(s){for(;Array.isArray(s);)s=s[0];return s}function Io(s,o){return ln(o[s])}function Ei(s,o){return ln(o[s.index])}function Va(s,o){return s.data[o]}function Di(s,o){const c=o[s];return Ki(c)?c:c[0]}function eo(s){return 4==(4&s[2])}function vs(s){return 128==(128&s[2])}function er(s,o){return null==o?null:s[o]}function to(s){s[18]=0}function no(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const mt={lFrame:xo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Il(){return mt.bindingsEnabled}function Ee(){return mt.lFrame.lView}function Ut(){return mt.lFrame.tView}function dc(s){return mt.lFrame.contextLView=s,s[8]}function Cn(){let s=na();for(;null!==s&&64===s.type;)s=s.parent;return s}function na(){return mt.lFrame.currentTNode}function tr(s,o){const c=mt.lFrame;c.currentTNode=s,c.isParent=o}function hc(){return mt.lFrame.isParent}function fc(){mt.lFrame.isParent=!1}function Sl(){return mt.isInCheckNoChangesMode}function io(s){mt.isInCheckNoChangesMode=s}function gi(){const s=mt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ro(){return mt.lFrame.bindingIndex++}function Ar(s){const o=mt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Ml(s,o){const c=mt.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ha(o)}function Ha(s){mt.lFrame.currentDirectiveIndex=s}function ra(s){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function _c(){return mt.lFrame.currentQueryIndex}function yc(s){mt.lFrame.currentQueryIndex=s}function Bu(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function vc(s,o,c){if(c&ht.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||c&ht.Host||(h=Bu(m),null===h||(m=m[15],10&h.type))););if(null===h)return!1;o=h,s=m}const d=mt.lFrame=Vu();return d.currentTNode=o,d.lView=s,!0}function So(s){const o=Vu(),c=s[1];mt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Vu(){const s=mt.lFrame,o=null===s?null:s.child;return null===o?xo(s):o}function xo(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Uu(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Hu=Uu;function Ao(){const s=Uu();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Ti(){return mt.lFrame.selectedIndex}function oo(s){mt.lFrame.selectedIndex=s}function Rn(){const s=mt.lFrame;return Va(s.tView,s.selectedIndex)}function bs(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:x,ngOnDestroy:M}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),C&&((s.contentHooks||(s.contentHooks=[])).push(c,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,C)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),x&&((s.viewHooks||(s.viewHooks=[])).push(c,x),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,x)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(c,M)}}function ja(s,o,c){ju(s,o,3,c)}function kl(s,o,c,d){(3&s[2])===c&&ju(s,o,c,d)}function zn(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function ju(s,o,c,d){const m=null!=d?d:-1,v=o.length-1;let C=0;for(let E=void 0!==d?65535&s[18]:0;E<v;E++)if("number"==typeof o[E+1]){if(C=o[E],null!=d&&C>=d)break}else o[E]<0&&(s[18]+=65536),(C<m||-1==m)&&(Np(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Np(s,o,c,d){const h=c[d]<0,m=c[d+1],C=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class sa{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Xe(s,o,c){const d=yn(s);let h=0;for(;h<c.length;){const m=c[h];if("number"==typeof m){if(0!==m)break;h++;const v=c[h++],C=c[h++],E=c[h++];d?s.setAttribute(o,C,E,v):o.setAttributeNS(v,C,E)}else{const v=m,C=c[++h];Ii(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),h++}}return h}function lt(s){return 3===s||4===s||6===s}function Ii(s){return 64===s.charCodeAt(0)}function qn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||oa(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function oa(s,o,c,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const C=s[m++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=m-1;break}}}for(;m<s.length;){const C=s[m];if("number"==typeof C)break;if(C===c){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function zu(s){return-1!==s}function vn(s){return 32767&s}function Mr(s,o){let c=function Th(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Rl=!0;function hr(s){const o=Rl;return Rl=s,o}let Ic=0;function En(s,o){const c=aa(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Cs(d.data,s),Cs(o,null),Cs(d.blueprint,null));const h=fr(s,o),m=s.injectorIndex;if(zu(h)){const v=vn(h),C=Mr(h,o),E=C[1].data;for(let x=0;x<8;x++)o[m+x]=C[v+x]|E[v+x]}return o[m+8]=h,m}function Cs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function aa(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function fr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){const m=h[1],v=m.type;if(d=2===v?m.declTNode:1===v?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function ao(s,o,c){!function Mo(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(pt)&&(d=c[pt]),null==d&&(d=c[pt]=Ic++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function kr(s,o,c){if(c&ht.Optional)return s;ye(o,"NodeInjector")}function Sc(s,o,c,d){if(c&ht.Optional&&void 0===d&&(d=null),0==(c&(ht.Self|ht.Host))){const h=s[9],m=Qn(void 0);try{return h?h.get(o,d,c&ht.Optional):lr(o,d,c&ht.Optional)}finally{Qn(m)}}return kr(d,o,c)}function lo(s,o,c,d=ht.Default,h){if(null!==s){const m=function co(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:xc:o}(c);if("function"==typeof m){if(!vc(o,s,d))return d&ht.Host?kr(h,c,d):Sc(o,c,d,h);try{const v=m(d);if(null!=v||d&ht.Optional)return v;ye(c)}finally{Hu()}}else if("number"==typeof m){let v=null,C=aa(s,o),E=-1,x=d&ht.Host?o[16][6]:null;for((-1===C||d&ht.SkipSelf)&&(E=-1===C?fr(s,o):o[C+8],-1!==E&&Xn(d,!1)?(v=o[1],C=vn(E),o=Mr(E,o)):C=-1);-1!==C;){const M=o[1];if(Sn(m,C,M.data)){const F=Wu(C,o,c,v,d,x);if(F!==Jr)return F}E=o[C+8],-1!==E&&Xn(d,o[1].data[C+8]===x)&&Sn(m,C,o)?(v=M,C=vn(E),o=Mr(E,o)):C=-1}}}return Sc(o,c,d,h)}const Jr={};function xc(){return new Rr(Cn(),Ee())}function Wu(s,o,c,d,h,m){const v=o[1],C=v.data[s+8],M=Es(C,v,c,null==d?Ys(C)&&Rl:d!=v&&0!=(3&C.type),h&ht.Host&&m===C);return null!==M?nr(o,v,M,C):Jr}function Es(s,o,c,d,h){const m=s.providerIndexes,v=o.data,C=1048575&m,E=s.directiveStart,M=m>>20,j=h?C+M:s.directiveEnd;for(let Y=d?C:C+M;Y<j;Y++){const _e=v[Y];if(Y<E&&c===_e||Y>=E&&_e.type===c)return Y}if(h){const Y=v[E];if(Y&&Qi(Y)&&Y.type===c)return E}return null}function nr(s,o,c,d){let h=s[c];const m=o.data;if(function Gu(s){return s instanceof sa}(h)){const v=h;v.resolving&&function Je(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${c}`)}(we(m[c]));const C=hr(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?Qn(v.injectImpl):null;vc(s,d,ht.Default);try{h=s[c]=v.factory(void 0,m,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Cc(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=La(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],o)}finally{null!==E&&Qn(E),hr(C),v.resolving=!1,Hu()}}return h}function Sn(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Xn(s,o){return!(s&ht.Self||s&ht.Host&&o)}class Rr{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return lo(this._tNode,this._lView,o,d,c)}}function Zu(s){return wn(()=>{const o=s.prototype.constructor,c=o[Ye]||xn(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Ye]||xn(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function xn(s){return ze(s)?()=>{const o=xn(X(s));return o&&o()}:Ji(s)}function Pn(s){return function Bi(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const m=c[h];if(lt(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(m===o)return c[h+1];h+=2}}}return null}(Cn(),s)}const la="__parameters__";function An(s,o,c){return wn(()=>{const d=function Or(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return C.annotation=v,C;function C(E,x,M){const F=E.hasOwnProperty(la)?E[la]:Object.defineProperty(E,la,{value:[]})[la];for(;F.length<=M;)F.push(null);return(F[M]=F[M]||[]).push(v),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Nn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Lp=new Nn("AnalyzeForEntryComponents");function xi(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),xi(d,o)):o!==s&&o.push(d)}return o}function pr(s,o){s.forEach(c=>Array.isArray(c)?pr(c,o):o(c))}function kc(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Is(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Pr(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ei(s,o,c){let d=fo(s,o);return d>=0?s[1|d]=c:(d=~d,function Rc(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Nc(s,o){const c=fo(s,o);if(c>=0)return s[1|c]}function fo(s,o){return function ko(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<c];if(o===v)return m<<c;v>o?h=m:d=m+1}return~(h<<c)}(s,o,1)}const Ro={},ua="__NG_DI_FLAG__",Fl="ngTempTokenPath",I=/\n/gm,L="__source",Z=me({provide:String,useValue:me});let ne;function Ae(s){const o=ne;return ne=s,o}function Me(s,o=ht.Default){if(void 0===ne)throw new Oe(203,"");return null===ne?lr(s,void 0,o):ne.get(s,o&ht.Optional?null:void 0,o)}function Ke(s,o=ht.Default){return(function ri(){return Yi}()||Me)(X(s),o)}const Rt=Ke;function St(s){const o=[];for(let c=0;c<s.length;c++){const d=X(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Oe(900,"");let h,m=ht.Default;for(let v=0;v<d.length;v++){const C=d[v],E=Fn(C);"number"==typeof E?-1===E?h=C.token:m|=E:h=C}o.push(Ke(h,m))}else o.push(Ke(d))}return o}function Wn(s,o){return s[ua]=o,s.prototype[ua]=o,s}function Fn(s){return s[ua]}const Vi=Wn(An("Inject",s=>({token:s})),-1),gr=Wn(An("Optional"),8),Po=Wn(An("SkipSelf"),4);let Fo;function za(s){var o;return(null===(o=function ed(){if(void 0===Fo&&(Fo=null,zt.trustedTypes))try{Fo=zt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Fo}())||void 0===o?void 0:o.createHTML(s))||s}class Lo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mh extends Lo{getTypeName(){return"HTML"}}class p_ extends Lo{getTypeName(){return"Style"}}class Uc extends Lo{getTypeName(){return"Script"}}class kh extends Lo{getTypeName(){return"URL"}}class m_ extends Lo{getTypeName(){return"ResourceURL"}}function xs(s){return s instanceof Lo?s.changingThisBreaksApplicationSecurity:s}function Bo(s,o){const c=qa(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function qa(s){return s instanceof Lo&&s.getTypeName()||null}function Rh(s){return new Mh(s)}function rd(s){return new p_(s)}function Gp(s){return new Uc(s)}function $p(s){return new kh(s)}function sd(s){return new m_(s)}class g_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(za(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class __{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=za(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=za(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const po=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Oh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Wa(s){return(s=String(s)).match(po)||s.match(Oh)?s:"unsafe:"+s}function Fr(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function Hc(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const qp=Fr("area,br,col,hr,img,wbr"),od=Fr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ad=Fr("rp,rt"),Nh=Hc(qp,Hc(od,Fr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hc(ad,Fr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hc(ad,od)),Fh=Fr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lh=Fr("srcset"),fa=Hc(Fh,Lh,Fr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),v_=Fr("script,style,template");class Gc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Nh.hasOwnProperty(c))return this.sanitizedSomething=!0,!v_.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const m=d.item(h),v=m.name,C=v.toLowerCase();if(!fa.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let E=m.value;Fh[C]&&(E=Wa(E)),Lh[C]&&(s=E,E=(s=String(s)).split(",").map(o=>Wa(o.trim())).join(", ")),this.buf.push(" ",v,'="',Vh(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Nh.hasOwnProperty(c)&&!qp.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(Vh(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const $c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bh=/([^\#-~ |!])/g;function Vh(s){return s.replace(/&/g,"&amp;").replace($c,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Bh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zc;function qc(s,o){let c=null;try{zc=zc||function zp(s){const o=new __(s);return function y_(){try{return!!(new window.DOMParser).parseFromString(za(""),"text/html")}catch(s){return!1}}()?new g_(o):o}(s);let d=o?String(o):"";c=zc.getInertBodyElement(d);let h=5,m=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=m,m=c.innerHTML,c=zc.getInertBodyElement(d)}while(d!==m);return za((new Gc).sanitizeChildren(Uh(c)||c))}finally{if(c){const d=Uh(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Uh(s){return"content"in s&&function Hh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var nn=(()=>((nn=nn||{})[nn.NONE=0]="NONE",nn[nn.HTML=1]="HTML",nn[nn.STYLE=2]="STYLE",nn[nn.SCRIPT=3]="SCRIPT",nn[nn.URL=4]="URL",nn[nn.RESOURCE_URL=5]="RESOURCE_URL",nn))();function Vl(s){const o=function pa(){const s=Ee();return s&&s[12]}();return o?o.sanitize(nn.URL,s)||"":Bo(s,"URL")?xs(s):Wa(fe(s))}const Gh="__ngContext__";function Ui(s,o){s[Gh]=o}function $h(s){const o=function Ya(s){return s[Gh]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Ja(s){return s.ngOriginalError}function Xp(s,...o){s.error(...o)}class Mi{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function I_(s){return s&&s.ngErrorLogger||Xp}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Ja(o);for(;c&&Ja(c);)c=Ja(c);return c||null}}const M_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function g(s){return s instanceof Function?s():s}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function Qe(s,o){return undefined(s,o)}function Ln(s){const o=s[3];return Fi(o)?o[3]:o}function Ul(s){return Jh(s[13])}function Hl(s){return Jh(s[4])}function Jh(s){for(;null!==s&&!Fi(s);)s=s[4];return s}function ma(s,o,c,d,h){if(null!=d){let m,v=!1;Fi(d)?m=d:Ki(d)&&(v=!0,d=d[0]);const C=ln(d);0===s&&null!==c?null==h?B_(o,c,C):As(o,c,C,h||null,!0):1===s&&null!==c?As(o,c,C,h||null,!0):2===s?function j_(s,o,c){const d=tf(s,o);d&&function UD(s,o,c,d){yn(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,C,v):3===s&&o.destroyNode(C),null!=m&&function GD(s,o,c,d,h){const m=c[7];m!==ln(c)&&ma(o,s,d,m,h);for(let C=10;C<c.length;C++){const E=c[C];rm(E[1],E,s,o,d,m)}}(o,s,m,c,h)}}function hd(s,o,c){if(yn(s))return s.createElement(o,c);{const d=null!==c?function bl(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function f0(s,o){const c=s[9],d=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,no(h,-1)),c.splice(d,1)}function N_(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&f0(h,d),o>0&&(s[c-1][4]=d[4]);const m=Is(s,10+o);!function Br(s,o){rm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function F_(s,o){if(!(256&o[2])){const c=o[11];yn(c)&&c.destroyNode&&rm(s,o,c,3,null,null),function O_(s){let o=s[13];if(!o)return L_(s[1],s);for(;o;){let c=null;if(Ki(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ki(o)&&L_(o[1],o),o=o[3];null===o&&(o=s),Ki(o)&&L_(o[1],o),c=o&&o[4]}o=c}}(o)}}function L_(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function m0(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof sa)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=h[m[v]],E=m[v+1];try{E.call(C)}finally{}}else try{m.call(h)}finally{}}}}(s,o),function p0(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],C="function"==typeof v?v(o):ln(o[v]),E=d[h=c[m+2]],x=c[m+3];"boolean"==typeof x?C.removeEventListener(c[m],E,x):x>=0?d[h=x]():d[h=-x].unsubscribe(),m+=2}else{const v=d[h=c[m+1]];c[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)d[m]();o[7]=null}}(s,o),1===o[1].type&&yn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&Fi(o[3])){c!==o[3]&&f0(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function nm(s,o,c){return function VD(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Wt.None||h===Wt.Emulated)return null}return Ei(d,c)}(s,o.parent,c)}function As(s,o,c,d,h){yn(s)?s.insertBefore(o,c,d,h):o.insertBefore(c,d,h)}function B_(s,o,c){yn(s)?s.appendChild(o,c):o.appendChild(c)}function g0(s,o,c,d,h){null!==d?As(s,o,c,d,h):B_(s,o,c)}function tf(s,o){return yn(s)?s.parentNode(o):o.parentNode}function _0(s,o,c){return V_(s,o,c)}let V_=function y0(s,o,c){return 40&s.type?Ei(s,c):null};function im(s,o,c,d){const h=nm(s,d,o),m=o[11],C=_0(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)g0(m,h,c[E],C,!1);else g0(m,h,c,C,!1)}function pd(s,o){if(null!==o){const c=o.type;if(3&c)return Ei(o,s);if(4&c)return H_(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return pd(s,d);{const h=s[o.index];return Fi(h)?H_(-1,h):ln(h)}}if(32&c)return Qe(o,s)()||ln(s[o.index]);{const d=b0(s,o);return null!==d?Array.isArray(d)?d[0]:pd(Ln(s[16]),d):pd(s,o.next)}}return null}function b0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function H_(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return pd(d,h)}return o[7]}function G_(s,o,c,d,h,m,v){for(;null!=c;){const C=d[c.index],E=c.type;if(v&&0===o&&(C&&Ui(ln(C),d),c.flags|=4),64!=(64&c.flags))if(8&E)G_(s,o,c.child,d,h,m,!1),ma(o,s,h,C,m);else if(32&E){const x=Qe(c,d);let M;for(;M=x();)ma(o,s,h,M,m);ma(o,s,h,C,m)}else 16&E?md(s,o,d,c,h,m):ma(o,s,h,C,m);c=v?c.projectionNext:c.next}}function rm(s,o,c,d,h,m){G_(c,d,s.firstChild,o,h,m,!1)}function md(s,o,c,d,h,m){const v=c[16],E=v[6].projection[d.projection];if(Array.isArray(E))for(let x=0;x<E.length;x++)ma(o,s,h,E[x],m);else G_(s,o,E,v[3],h,m,!0)}function $_(s,o,c){yn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function sm(s,o,c){yn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function ga(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}c=h+1}}const w0="ng-template";function zD(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==ga(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function C0(s){return 4===s.type&&s.value!==w0}function E0(s,o,c){return o===(4!==s.type||c?s.value:w0)}function D0(s,o,c){let d=4;const h=s.attrs||[],m=function I0(s){for(let o=0;o<s.length;o++)if(lt(s[o]))return o;return s.length}(h);let v=!1;for(let C=0;C<o.length;C++){const E=o[C];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!E0(s,E,c)||""===E&&1===o.length){if(Hi(d))return!1;v=!0}}else{const x=8&d?E:o[++C];if(8&d&&null!==s.attrs){if(!zD(s.attrs,x,c)){if(Hi(d))return!1;v=!0}continue}const F=pR(8&d?"class":E,h,C0(s),c);if(-1===F){if(Hi(d))return!1;v=!0;continue}if(""!==x){let j;j=F>m?"":h[F+1].toLowerCase();const Y=8&d?j:null;if(Y&&-1!==ga(Y,x,0)||2&d&&x!==j){if(Hi(d))return!1;v=!0}}}}else{if(!v&&!Hi(d)&&!Hi(E))return!1;if(v&&Hi(E))continue;v=!1,d=E|1&d}}return Hi(d)||v}function Hi(s){return 0==(1&s)}function pR(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=o[++h];for(;"string"==typeof C;)C=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function S0(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function T0(s,o,c=!1){for(let d=0;d<o.length;d++)if(D0(s,o[d],c))return!0;return!1}function x0(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function A0(s,o){return s?":not("+o.trim()+")":o}function nf(s){let o=s[0],c=1,d=2,h="",m=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const C=s[++c];h+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!Hi(v)&&(o+=A0(m,h),h=""),d=v,m=m||!Hi(d);c++}return""!==h&&(o+=A0(m,h)),o}const At={};function rf(s){q_(Ut(),Ee(),Ti()+s,Sl())}function q_(s,o,c,d){if(!d)if(3==(3&o[2])){const m=s.preOrderCheckHooks;null!==m&&ja(o,m,c)}else{const m=s.preOrderHooks;null!==m&&kl(o,m,0,c)}oo(c)}function gd(s,o){return s<<17|o<<2}function mo(s){return s>>17&32767}function M0(s){return 2|s}function jl(s){return(131068&s)>>2}function k0(s,o){return-131069&s|o<<2}function R0(s){return 1|s}function P0(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],m=c[d+1];if(-1!==m){const v=s.data[m];yc(h),v.contentQueries(2,o[m],m)}}}function uf(s,o,c,d,h,m,v,C,E,x){const M=o.blueprint.slice();return M[0]=h,M[2]=140|d,to(M),M[3]=M[15]=s,M[8]=c,M[10]=v||s&&s[10],M[11]=C||s&&s[11],M[12]=E||s&&s[12]||null,M[9]=x||s&&s[9]||null,M[6]=m,M[16]=2==o.type?s[16]:M,M}function yd(s,o,c,d,h){let m=s.data[o];if(null===m)m=function ey(s,o,c,d,h){const m=na(),v=hc(),E=s.data[o]=function dT(s,o,c,d,h,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E)),E}(s,o,c,d,h),function mc(){return mt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=h;const v=function ia(){const s=mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return tr(m,!0),m}function vd(s,o,c,d){if(0===c)return-1;const h=o.length;for(let m=0;m<c;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function um(s,o,c){So(o);try{const d=s.viewQuery;null!==d&&pf(1,d,c);const h=s.template;null!==h&&N0(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&P0(s,o),s.staticViewQueries&&pf(2,s.viewQuery,c);const m=s.components;null!==m&&function lT(s,o){for(let c=0;c<o.length;c++)yT(s,o[c])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ao()}}function bd(s,o,c,d){const h=o[2];if(256==(256&h))return;So(o);const m=Sl();try{to(o),function xl(s){return mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&N0(s,o,c,2,d);const v=3==(3&h);if(!m)if(v){const x=s.preOrderCheckHooks;null!==x&&ja(o,x,null)}else{const x=s.preOrderHooks;null!==x&&kl(o,x,0,null),zn(o,0)}if(function DR(s){for(let o=Ul(s);null!==o;o=Hl(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],m=h[3];0==(1024&h[2])&&no(m,1),h[2]|=1024}}}(o),function q0(s){for(let o=Ul(s);null!==o;o=Hl(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];vs(d)&&bd(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&P0(s,o),!m)if(v){const x=s.contentCheckHooks;null!==x&&ja(o,x)}else{const x=s.contentHooks;null!==x&&kl(o,x,1),zn(o,1)}!function oT(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)oo(~h);else{const m=h,v=c[++d],C=c[++d];Ml(v,m),C(2,o[m])}}}finally{oo(-1)}}(s,o);const C=s.components;null!==C&&function aT(s,o){for(let c=0;c<o.length;c++)W0(s,o[c])}(o,C);const E=s.viewQuery;if(null!==E&&pf(2,E,d),!m)if(v){const x=s.viewCheckHooks;null!==x&&ja(o,x)}else{const x=s.viewHooks;null!==x&&kl(o,x,2),zn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),m||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,no(o[3],-1))}finally{Ao()}}function cT(s,o,c,d){const h=o[10],m=!Sl(),v=eo(o);try{m&&!v&&h.begin&&h.begin(),v&&um(s,o,d),bd(s,o,c,d)}finally{m&&!v&&h.end&&h.end()}}function N0(s,o,c,d,h){const m=Ti(),v=2&d;try{oo(-1),v&&o.length>20&&q_(s,o,20,Sl()),c(d,h)}finally{oo(m)}}function F0(s,o,c){if(sc(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function ty(s,o,c){!Il()||(function iy(s,o,c,d){const h=c.directiveStart,m=c.directiveEnd;s.firstCreatePass||En(c,o),Ui(d,o);const v=c.initialInputs;for(let C=h;C<m;C++){const E=s.data[C],x=Qi(E);x&&CR(o,c,E);const M=nr(o,s,C,c);Ui(M,o),null!==v&&$0(0,C-h,M,E,0,v),x&&(Di(c.index,o)[8]=M)}}(s,o,c,Ei(c,o)),128==(128&c.flags)&&function ry(s,o,c){const d=c.directiveStart,h=c.directiveEnd,v=c.index,C=function gc(){return mt.lFrame.currentDirectiveIndex}();try{oo(v);for(let E=d;E<h;E++){const x=s.data[E],M=o[E];Ha(E),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&hm(x,M)}}finally{oo(-1),Ha(C)}}(s,o,c))}function ny(s,o,c=Ei){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],C=-1===v?c(o,s):s[v];s[h++]=C}}}function L0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=dm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function dm(s,o,c,d,h,m,v,C,E,x){const M=20+d,F=M+h,j=function uT(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:At);return c}(M,F),Y="function"==typeof x?x():x;return j[1]={type:s,blueprint:j,template:c,queries:null,viewQuery:C,declTNode:o,data:j.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function U0(s,o,c,d){const h=tu(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&hy(s).push(d,h.length-1))}function H0(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function Ms(s,o,c,d,h,m,v,C){const E=Ei(o,c);let M,x=o.inputs;!C&&null!=x&&(M=x[d])?(py(s,c,M,d,h),Ys(o)&&function pT(s,o){const c=Di(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function fT(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,yn(m)?m.setProperty(E,d,h):Ii(d)||(E.setProperty?E.setProperty(d,h):E[d]=h))}function df(s,o,c,d){let h=!1;if(Il()){const m=function ks(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];T0(c,v.selectors,!1)&&(h||(h=[]),ao(En(c,o),s,v.type),Qi(v)?(sy(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==m){h=!0,ay(c,s.data.length,m.length);for(let M=0;M<m.length;M++){const F=m[M];F.providersResolver&&F.providersResolver(F)}let C=!1,E=!1,x=vd(s,o,m.length,null);for(let M=0;M<m.length;M++){const F=m[M];c.mergedAttrs=qn(c.mergedAttrs,F.hostAttrs),fm(s,c,o,x,F),G0(x,F,v),null!==F.contentQueries&&(c.flags|=8),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=128);const j=F.type.prototype;!C&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),C=!0),!E&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),x++}!function hT(s,o){const d=o.directiveEnd,h=s.data,m=o.attrs,v=[];let C=null,E=null;for(let x=o.directiveStart;x<d;x++){const M=h[x],F=M.inputs,j=null===m||C0(o)?null:z0(F,m);v.push(j),C=H0(F,x,C),E=H0(M.outputs,x,E)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=E}(s,c)}v&&function oy(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=c[o[h+1]];if(null==m)throw new Oe(-301,!1);d.push(o[h],m)}}}(c,d,v)}return c.mergedAttrs=qn(c.mergedAttrs,c.attrs),h}function el(s,o,c,d,h,m){const v=m.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const E=~o.index;(function j0(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(C)!=E&&C.push(E),C.push(d,h,v)}}function hm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function sy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function G0(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Qi(o)&&(c[""]=s)}}function ay(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function fm(s,o,c,d,h){s.data[d]=h;const m=h.factory||(h.factory=Ji(h.type)),v=new sa(m,Qi(h),null);s.blueprint[d]=v,c[d]=v,el(s,o,0,d,vd(s,c,h.hostVars,At),h)}function CR(s,o,c){const d=Ei(o,s),h=L0(c),m=s[10],v=pm(s,uf(s,h,null,c.onPush?64:16,d,o,m,m.createRenderer(d,c),null,null));s[o.index]=v}function ya(s,o,c,d,h,m){const v=Ei(s,o);!function tl(s,o,c,d,h,m,v){if(null==m)yn(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const C=null==v?fe(m):v(m,d||"",h);yn(s)?s.setAttribute(o,h,C,c):c?o.setAttributeNS(c,h,C):o.setAttribute(h,C)}}(o[11],v,m,s.value,c,d,h)}function $0(s,o,c,d,h,m){const v=m[o];if(null!==v){const C=d.setInput;for(let E=0;E<v.length;){const x=v[E++],M=v[E++],F=v[E++];null!==C?d.setInput(c,F,x,M):c[M]=F}}}function z0(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function ly(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function W0(s,o){const c=Di(o,s);if(vs(c)){const d=c[1];80&c[2]?bd(d,c,d.template,c[8]):c[5]>0&&hf(c)}}function hf(s){for(let d=Ul(s);null!==d;d=Hl(d))for(let h=10;h<d.length;h++){const m=d[h];if(1024&m[2]){const v=m[1];bd(v,m,v.template,m[8])}else m[5]>0&&hf(m)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Di(c[d],s);vs(h)&&h[5]>0&&hf(h)}}function yT(s,o){const c=Di(o,s),d=c[1];(function Z0(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),um(d,c,c[8])}function pm(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function ff(s){for(;s;){s[2]|=64;const o=Ln(s);if(xu(s)&&!o)return s;s=o}return null}function Cd(s,o,c){const d=o[10];d.begin&&d.begin();try{bd(s,o,s.template,c)}catch(h){throw fy(o,h),h}finally{d.end&&d.end()}}function cy(s){!function wd(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=$h(c),h=d[1];cT(h,d,h.template,c)}}(s[8])}function pf(s,o,c){yc(0),o(s,c)}const vT=(()=>Promise.resolve(null))();function tu(s){return s[7]||(s[7]=[])}function hy(s){return s.cleanup||(s.cleanup=[])}function nl(s,o,c){return(null===s||Qi(s))&&(c=function Fu(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function fy(s,o){const c=s[9],d=c?c.get(Mi,null):null;d&&d.handleError(o)}function py(s,o,c,d,h){for(let m=0;m<c.length;){const v=c[m++],C=c[m++],E=o[v],x=s.data[v];null!==x.setInput?x.setInput(E,h,d,C):E[C]=h}}function ji(s,o,c){const d=Io(o,s);!function dd(s,o,c){yn(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function va(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?m=C:1==m?h=ce(h,C):2==m&&(d=ce(d,C+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const gm=new Nn("INJECTOR",-1);class gf{get(o,c=Ro){if(c===Ro){const d=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw d.name="NullInjectorError",d}return c}}const Ed=new Nn("Set Injector scope."),_f={},my={};let gy;function K0(){return void 0===gy&&(gy=new gf),gy}function Q0(s,o=null,c=null,d){const h=rs(s,o,c,d);return h._resolveInjectorDefTypes(),h}function rs(s,o=null,c=null,d){return new J0(s,c,o||K0(),d)}class J0{constructor(o,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&pr(c,C=>this.processProvider(C,o,c)),pr([o],C=>this.processInjectorType(C,[],m)),this.records.set(gm,Td(void 0,this));const v=this.records.get(Ed);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:he(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=Ro,d=ht.Default){this.assertNotDestroyed();const h=Ae(this),m=Qn(void 0);try{if(!(d&ht.SkipSelf)){let C=this.records.get(o);if(void 0===C){const E=function bm(s){return"function"==typeof s||"object"==typeof s&&s instanceof Nn}(o)&&qt(o);C=E&&this.injectableDefInScope(E)?Td(Dd(o),_f):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&ht.Self?K0():this.parent).get(o,c=d&ht.Optional&&c===Ro?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Fl]=v[Fl]||[]).unshift(he(o)),h)throw v;return function da(s,o,c,d){const h=s[Fl];throw o[L]&&h.unshift(o[L]),s.message=function Oo(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):he(C)))}h=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(I,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Fl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Qn(m),Ae(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(he(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,c,d){if(!(o=X(o)))return!1;let h=Pi(o);const m=null==h&&o.ngModule||void 0,v=void 0===m?o:m,C=-1!==d.indexOf(v);if(void 0!==m&&(h=Pi(m)),null==h)return!1;if(null!=h.imports&&!C){let M;d.push(v);try{pr(h.imports,F=>{this.processInjectorType(F,c,d)&&(void 0===M&&(M=[]),M.push(F))})}finally{}if(void 0!==M)for(let F=0;F<M.length;F++){const{ngModule:j,providers:Y}=M[F];pr(Y,_e=>this.processProvider(_e,j,Y||ft))}}this.injectorDefTypes.add(v);const E=Ji(v)||(()=>new v);this.records.set(v,Td(E,_f));const x=h.providers;if(null!=x&&!C){const M=o;pr(x,F=>this.processProvider(F,M,x))}return void 0!==m&&void 0!==o.providers}processProvider(o,c,d){let h=Id(o=X(o))?o:X(o&&o.provide);const m=function wT(s,o,c){return CT(s)?Td(void 0,s.useValue):Td(X0(s),_f)}(o);if(Id(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=Td(void 0,_f,!0),v.factory=()=>St(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,m)}hydrate(o,c){return c.value===_f&&(c.value=my,c.value=c.factory()),"object"==typeof c.value&&c.value&&function vm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=X(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Dd(s){const o=qt(s),c=null!==o?o.factory:Ji(s);if(null!==c)return c;if(s instanceof Nn)throw new Oe(204,!1);if(s instanceof Function)return function _m(s){const o=s.length;if(o>0)throw Pr(o,"?"),new Oe(204,!1);const c=function ar(s){const o=s&&(s[Zr]||s[ds]);if(o){const c=function $s(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Oe(204,!1)}function X0(s,o,c){let d;if(Id(s)){const h=X(s);return Ji(h)||Dd(h)}if(CT(s))d=()=>X(s.useValue);else if(function ym(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...St(s.deps||[]));else if(function TR(s){return!(!s||!s.useExisting)}(s))d=()=>Ke(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function DT(s){return!!s.deps}(s))return Ji(h)||Dd(h);d=()=>new h(...St(s.deps))}return d}function Td(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function CT(s){return null!==s&&"object"==typeof s&&Z in s}function Id(s){return"function"==typeof s}let Go=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return Q0({name:""},d,c,"");{const m=null!==(h=c.name)&&void 0!==h?h:"";return Q0({name:m},c.parent,c.providers,m)}}}return s.THROW_IF_NOT_FOUND=Ro,s.NULL=new gf,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>Ke(gm)}),s.__NG_ELEMENT_ID__=-1,s})();function MT(s,o){bs($h(s)[1],Cn())}function aw(s){let o=function Em(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Qi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=Dy(s.inputs),v.declaredInputs=Dy(s.declaredInputs),v.outputs=Dy(s.outputs);const C=h.hostBindings;C&&Ty(s,C);const E=h.viewQuery,x=h.contentQueries;if(E&&RT(s,E),x&&lw(s,x),Q(s.inputs,h.inputs),Q(s.declaredInputs,h.declaredInputs),Q(s.outputs,h.outputs),Qi(h)&&h.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(s),C===aw&&(c=!1)}}o=Object.getPrototypeOf(o)}!function kT(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=qn(h.hostAttrs,c=qn(c,h.hostAttrs))}}(d)}function Dy(s){return s===fi?{}:s===ft?[]:s}function RT(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function lw(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,m)=>{o(d,h,m),c(d,h,m)}:o}function Ty(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let Dm=null;function Sd(){if(!Dm){const s=zt.Symbol;if(s&&s.iterator)Dm=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Dm=d)}}}return Dm}function xd(s){return!!Tm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Sd()in s)}function Tm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ba(s,o,c){return s[o]=c}function yr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Sm(s,o,c,d){const h=Ee();return yr(h,ro(),o)&&(Ut(),ya(Rn(),h,s,o,c,d)),Sm}function ir(s,o,c,d){return yr(s,ro(),c)?o+fe(c)+d:At}function Ay(s,o,c,d,h,m,v,C){const E=Ee(),x=Ut(),M=s+20,F=x.firstCreatePass?function BT(s,o,c,d,h,m,v,C,E){const x=o.consts,M=yd(o,s,4,v||null,er(x,C));df(o,c,M,er(x,E)),bs(o,M);const F=M.tViews=dm(2,M,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,M),F.queries=o.queries.embeddedTView(M)),M}(M,x,E,o,c,d,h,m,v):x.data[M];tr(F,!1);const j=E[11].createComment("");im(x,E,j,F),Ui(j,E),pm(E,E[M]=ly(j,E,j,F)),pl(F)&&ty(x,E,F),null!=v&&ny(E,F,C)}function My(s){return function xr(s,o){return s[o]}(function pc(){return mt.lFrame.contextLView}(),20+s)}function il(s,o=ht.Default){const c=Ee();return null===c?Ke(s,o):lo(Cn(),c,X(s),o)}function vw(){throw new Error("invalid")}function Zl(s,o,c){const d=Ee();return yr(d,ro(),o)&&Ms(Ut(),Rn(),d,s,o,d[11],c,!1),Zl}function Nd(s,o,c,d,h){const v=h?"class":"style";py(s,c,o.inputs[v],v,d)}function Rm(s,o,c,d){const h=Ee(),m=Ut(),v=20+s,C=h[11],E=h[v]=hd(C,o,function o_(){return mt.lFrame.currentNamespace}()),x=m.firstCreatePass?function su(s,o,c,d,h,m,v){const C=o.consts,x=yd(o,s,2,h,er(C,m));return df(o,c,x,er(C,v)),null!==x.attrs&&va(x,x.attrs,!1),null!==x.mergedAttrs&&va(x,x.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,x),x}(v,m,h,0,o,c,d):m.data[v];tr(x,!0);const M=x.mergedAttrs;null!==M&&Xe(C,E,M);const F=x.classes;null!==F&&sm(C,E,F);const j=x.styles;return null!==j&&$_(C,E,j),64!=(64&x.flags)&&im(m,h,E,x),0===function Ua(){return mt.lFrame.elementDepthCount}()&&Ui(E,h),function Dl(){mt.lFrame.elementDepthCount++}(),pl(x)&&(ty(m,h,x),F0(m,x,h)),null!==d&&ny(h,x),Rm}function Py(){let s=Cn();hc()?fc():(s=s.parent,tr(s,!1));const o=s;!function Tl(){mt.lFrame.elementDepthCount--}();const c=Ut();return c.firstCreatePass&&(bs(c,s),sc(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function $u(s){return 0!=(16&s.flags)}(o)&&Nd(c,o,Ee(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Fp(s){return 0!=(32&s.flags)}(o)&&Nd(c,o,Ee(),o.stylesWithoutHost,!1),Py}function Ef(s,o,c,d){return Rm(s,o,c,d),Py(),Ef}function Fd(s,o,c){const d=Ee(),h=Ut(),m=s+20,v=h.firstCreatePass?function tI(s,o,c,d,h){const m=o.consts,v=er(m,d),C=yd(o,s,8,"ng-container",v);return null!==v&&va(C,v,!0),df(o,c,C,er(m,h)),null!==o.queries&&o.queries.elementStart(o,C),C}(m,h,d,o,c):h.data[m];tr(v,!0);const C=d[m]=d[11].createComment("");return im(h,d,C,v),Ui(C,d),pl(v)&&(ty(h,d,v),F0(h,v,d)),null!=c&&ny(d,v),Fd}function Ca(){let s=Cn();const o=Ut();return hc()?fc():(s=s.parent,tr(s,!1)),o.firstCreatePass&&(bs(o,s),sc(s)&&o.queries.elementEnd(s)),Ca}function Df(s,o,c){return Fd(s,o,c),Ca(),Df}function nI(){return Ee()}function bw(s){return!!s&&"function"==typeof s.then}function ww(s){return!!s&&"function"==typeof s.subscribe}const iI=ww;function Yl(s,o,c,d){const h=Ee(),m=Ut(),v=Cn();return Cw(m,h,h[11],v,s,o,!!c,d),Yl}function Ny(s,o){const c=Cn(),d=Ee(),h=Ut();return Cw(h,d,nl(ra(h.data),c,d),c,s,o,!1),Ny}function Cw(s,o,c,d,h,m,v,C){const E=pl(d),M=s.firstCreatePass&&hy(s),F=o[8],j=tu(o);let Y=!0;if(3&d.type||C){const je=Ei(d,o),et=C?C(je):je,Se=j.length,gt=C?Jt=>C(ln(Jt[d.index])):d.index;if(yn(c)){let Jt=null;if(!C&&E&&(Jt=function rI(s,o,c,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===c&&h[m+1]===d){const C=o[7],E=h[m+2];return C.length>E?C[E]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==Jt)(Jt.__ngLastListenerFn__||Jt).__ngNextListenerFn__=m,Jt.__ngLastListenerFn__=m,Y=!1;else{m=Ew(d,o,F,m,!1);const un=c.listen(et,h,m);j.push(m,un),M&&M.push(h,gt,Se,Se+1)}}else m=Ew(d,o,F,m,!0),et.addEventListener(h,m,v),j.push(m),M&&M.push(h,gt,Se,v)}else m=Ew(d,o,F,m,!1);const _e=d.outputs;let Ne;if(Y&&null!==_e&&(Ne=_e[h])){const je=Ne.length;if(je)for(let et=0;et<je;et+=2){const Ps=o[Ne[et]][Ne[et+1]].subscribe(m),gu=j.length;j.push(m,Ps),M&&M.push(h,d.index,gu,-(gu+1))}}}function sI(s,o,c,d){try{return!1!==c(d)}catch(h){return fy(s,h),!1}}function Ew(s,o,c,d,h){return function m(v){if(v===Function)return d;const C=2&s.flags?Di(s.index,o):o;0==(32&o[2])&&ff(C);let E=sI(o,0,d,v),x=m.__ngNextListenerFn__;for(;x;)E=sI(o,0,x,v)&&E,x=x.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function Fy(s=1){return function so(s){return(mt.lFrame.contextLView=function bc(s,o){for(;s>0;)o=o[15],s--;return o}(s,mt.lFrame.contextLView))[8]}(s)}function Ld(s,o){let c=null;const d=function qD(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?T0(s,m,!0):x0(d,m))return h}else c=h}return c}function Dw(s){const o=Ee()[16][6];if(!o.projection){const d=o.projection=Pr(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?Ld(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function Tw(s,o=0,c){const d=Ee(),h=Ut(),m=yd(h,20+s,16,null,c||null);null===m.projection&&(m.projection=o),fc(),64!=(64&m.flags)&&function jD(s,o,c){md(o[11],0,o,c,nm(s,c,o),_0(c.parent||o[6],c,o))}(h,d,m)}function uI(s,o,c,d,h){const m=s[c+1],v=null===o;let C=d?mo(m):jl(m),E=!1;for(;0!==C&&(!1===E||v);){const M=s[C+1];LR(s[C],o)&&(E=!0,s[C+1]=d?R0(M):M0(M)),C=d?mo(M):jl(M)}E&&(s[c+1]=d?M0(m):R0(m))}function LR(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&fo(s,o)>=0}const Gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dI(s){return s.substring(Gi.key,Gi.keyEnd)}function Iw(s,o){const c=Gi.textEnd;return c===o?-1:(o=Gi.keyEnd=function By(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,Gi.key=o,c),Tf(s,o,c))}function Tf(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function Sw(s,o,c){return Ea(s,o,c,!1),Sw}function xw(s,o){return Ea(s,o,null,!0),xw}function sl(s,o){for(let c=function VR(s){return function fI(s){Gi.key=0,Gi.keyEnd=0,Gi.value=0,Gi.valueEnd=0,Gi.textEnd=s.length}(s),Iw(s,Tf(s,0,Gi.textEnd))}(o);c>=0;c=Iw(o,c))ei(s,dI(o),!0)}function Ea(s,o,c,d){const h=Ee(),m=Ut(),v=Ar(2);m.firstUpdatePass&&_I(m,s,v,d),o!==At&&yr(h,v,o)&&Mw(m,m.data[Ti()],h,h[11],s,h[v+1]=function QR(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=he(xs(s)))),s}(o,c),d,v)}function gI(s,o){return o>=s.expandoStartIndex}function _I(s,o,c,d){const h=s.data;if(null===h[c+1]){const m=h[Ti()],v=gI(s,c);vI(m,d)&&null===o&&!v&&(o=!1),o=function zR(s,o,c,d){const h=ra(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=Fm(c=Aw(null,s,o,c,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=Aw(h,s,o,c,d),null===m){let E=function qR(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==jl(d))return s[mo(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Aw(null,s,o,E[1],d),E=Fm(E,o.attrs,d),function WR(s,o,c,d){s[mo(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function ZR(s,o,c){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=Fm(d,s[m].hostAttrs,c);return Fm(d,o.attrs,c)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),c}(h,m,o,d),function NR(s,o,c,d,h,m){let v=m?o.classBindings:o.styleBindings,C=mo(v),E=jl(v);s[d]=c;let M,x=!1;if(Array.isArray(c)){const F=c;M=F[1],(null===M||fo(F,M)>0)&&(x=!0)}else M=c;if(h)if(0!==E){const j=mo(s[C+1]);s[d+1]=gd(j,C),0!==j&&(s[j+1]=k0(s[j+1],d)),s[C+1]=function WD(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=gd(C,0),0!==C&&(s[C+1]=k0(s[C+1],d)),C=d;else s[d+1]=gd(E,0),0===C?C=d:s[E+1]=k0(s[E+1],d),E=d;x&&(s[d+1]=M0(s[d+1])),uI(s,M,d,!0),uI(s,M,d,!1),function FR(s,o,c,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&fo(m,o)>=0&&(c[d+1]=R0(c[d+1]))}(o,M,s,d,m),v=gd(C,E),m?o.classBindings=v:o.styleBindings=v}(h,m,o,c,v,d)}}function Aw(s,o,c,d,h){let m=null;const v=c.directiveEnd;let C=c.directiveStylingLast;for(-1===C?C=c.directiveStart:C++;C<v&&(m=o[C],d=Fm(d,m.hostAttrs,h),m!==s);)C++;return null!==s&&(c.directiveStylingLast=C),d}function Fm(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ei(s,v,!!c||o[++m]))}return void 0===s?null:s}function Mw(s,o,c,d,h,m,v,C){if(!(3&o.type))return;const E=s.data,x=E[C+1];Vy(function ZD(s){return 1==(1&s)}(x)?kw(E,o,c,h,jl(x),v):void 0)||(Vy(m)||function W_(s){return 2==(2&s)}(x)&&(m=kw(E,null,c,h,C,v)),function $D(s,o,c,d,h){const m=yn(s);if(o)h?m?s.addClass(c,d):c.classList.add(d):m?s.removeClass(c,d):c.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:oe.DashCase;if(null==h)m?s.removeStyle(c,d,v):c.style.removeProperty(d);else{const C="string"==typeof h&&h.endsWith("!important");C&&(h=h.slice(0,-10),v|=oe.Important),m?s.setStyle(c,d,h,v):c.style.setProperty(d,h,C?"important":"")}}}(d,v,Io(Ti(),c),h,m))}function kw(s,o,c,d,h,m){const v=null===o;let C;for(;h>0;){const E=s[h],x=Array.isArray(E),M=x?E[1]:E,F=null===M;let j=c[h+1];j===At&&(j=F?ft:void 0);let Y=F?Nc(j,d):M===d?j:void 0;if(x&&!Vy(Y)&&(Y=Nc(E,d)),Vy(Y)&&(C=Y,v))return C;const _e=s[h+1];h=v?mo(_e):jl(_e)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(C=Nc(E,d))}return C}function Vy(s){return void 0!==s}function vI(s,o){return 0!=(s.flags&(o?16:32))}function bI(s,o=""){const c=Ee(),d=Ut(),h=s+20,m=d.firstCreatePass?yd(d,h,1,o,null):d.data[h],v=c[h]=function ud(s,o){return yn(s)?s.createText(o):s.createTextNode(o)}(c[11],o);im(d,c,v,m),tr(m,!1)}function Rw(s){return Uy("",s,""),Rw}function Uy(s,o,c){const d=Ee(),h=ir(d,s,o,c);return h!==At&&ji(d,Ti(),h),Uy}function AI(s,o,c){!function Da(s,o,c,d){const h=Ut(),m=Ar(2);h.firstUpdatePass&&_I(h,null,m,d);const v=Ee();if(c!==At&&yr(v,m,c)){const C=h.data[Ti()];if(vI(C,d)&&!gI(h,m)){let E=d?C.classesWithoutHost:C.stylesWithoutHost;null!==E&&(c=ce(E,c||"")),Nd(h,C,v,c,d)}else!function KR(s,o,c,d,h,m,v,C){h===At&&(h=ft);let E=0,x=0,M=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==M||null!==F;){const j=E<h.length?h[E+1]:void 0,Y=x<m.length?m[x+1]:void 0;let Ne,_e=null;M===F?(E+=2,x+=2,j!==Y&&(_e=F,Ne=Y)):null===F||null!==M&&M<F?(E+=2,_e=M):(x+=2,_e=F,Ne=Y),null!==_e&&Mw(s,o,c,d,_e,Ne,v,C),M=E<h.length?h[E]:null,F=x<m.length?m[x]:null}}(h,C,v,v[11],v[m+1],v[m+1]=function YR(s,o,c){if(null==c||""===c)return ft;const d=[],h=xs(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,m)}}(ei,sl,ir(Ee(),s,o,c),!0)}function Ow(s,o,c){const d=Ee();return yr(d,ro(),o)&&Ms(Ut(),Rn(),d,s,o,d[11],c,!0),Ow}function Pw(s,o,c){const d=Ee();if(yr(d,ro(),o)){const m=Ut(),v=Rn();Ms(m,v,d,s,o,nl(ra(m.data),v,d),c,!0)}return Pw}const Ud=void 0;var gO=["en",[["a","p"],["AM","PM"],Ud],[["AM","PM"],Ud,Ud],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ud,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ud,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ud,"{1} 'at' {0}",Ud],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mO(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let If={};function Nw(s){const o=function zo(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=UI(o);if(c)return c;const d=o.split("-")[0];if(c=UI(d),c)return c;if("en"===d)return gO;throw new Error(`Missing locale data for the locale "${s}".`)}function VI(s){return Nw(s)[wt.PluralCase]}function UI(s){return s in If||(If[s]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[s]),If[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Bm="en-US";let Vr=Bm;function ol(s,o,c,d,h){if(s=X(s),Array.isArray(s))for(let m=0;m<s.length;m++)ol(s[m],o,c,d,h);else{const m=Ut(),v=Ee();let C=Id(s)?s:X(s.provide),E=X0(s);const x=Cn(),M=1048575&x.providerIndexes,F=x.directiveStart,j=x.providerIndexes>>20;if(Id(s)||!s.multi){const Y=new sa(E,h,il),_e=sC(C,o,h?M:M+j,F);-1===_e?(ao(En(x,v),m,C),kf(m,s,o.length),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(Y),v.push(Y)):(c[_e]=Y,v[_e]=Y)}else{const Y=sC(C,o,M+j,F),_e=sC(C,o,M,M+j),Ne=Y>=0&&c[Y],je=_e>=0&&c[_e];if(h&&!je||!h&&!Ne){ao(En(x,v),m,C);const et=function PO(s,o,c,d,h){const m=new sa(s,c,il);return m.multi=[],m.index=o,m.componentProviders=0,Wy(m,h,d&&!c),m}(h?uS:OO,c.length,h,d,E);!h&&je&&(c[_e].providerFactory=et),kf(m,s,o.length,0),o.push(C),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),c.push(et),v.push(et)}else kf(m,s,Y>-1?Y:_e,Wy(c[h?_e:Y],E,!h&&d));!h&&d&&je&&c[_e].componentProviders++}}}function kf(s,o,c,d){const h=Id(o),m=function ET(s){return!!s.useClass}(o);if(h||m){const E=(m?X(o.useClass):o).prototype.ngOnDestroy;if(E){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const M=x.indexOf(c);-1===M?x.push(c,[d,E]):x[M+1].push(d,E)}else x.push(c,E)}}}function Wy(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function sC(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function OO(s,o,c,d){return oC(this.multi,[])}function uS(s,o,c,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=nr(c,c[1],this.providerFactory.index,d);m=C.slice(0,v),oC(h,m);for(let E=v;E<C.length;E++)m.push(C[E])}else m=[],oC(h,m);return m}function oC(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function dS(s,o=[]){return c=>{c.providersResolver=(d,h)=>function Mf(s,o,c){const d=Ut();if(d.firstCreatePass){const h=Qi(s);ol(c,d.data,d.blueprint,h,!0),ol(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class hS{}class LO{resolveComponentFactory(o){throw function FO(s){const o=Error(`No component factory found for ${he(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let $d=(()=>{class s{}return s.NULL=new LO,s})();function aC(){return lu(Cn(),Ee())}function lu(s,o){return new al(Ei(s,o))}let al=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=aC,s})();function zm(s){return s instanceof al?s.nativeElement:s}class Zy{}let pS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function lC(){const s=Ee(),c=Di(Cn().index,s);return function Yy(s){return s[11]}(Ki(c)?c:s)}(),s})(),cC=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class uC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const dC=new uC("13.3.3"),Ky={};function qm(s,o,c,d,h=!1){for(;null!==c;){const m=o[c.index];if(null!==m&&d.push(ln(m)),Fi(m))for(let C=10;C<m.length;C++){const E=m[C],x=E[1].firstChild;null!==x&&qm(E[1],E,x,d)}const v=c.type;if(8&v)qm(s,o,c.child,d);else if(32&v){const C=Qe(c,o);let E;for(;E=C();)d.push(E)}else if(16&v){const C=b0(o,c);if(Array.isArray(C))d.push(...C);else{const E=Ln(o[16]);qm(E[1],E,C,d,!0)}}c=h?c.projectionNext:c.next}return d}class qo{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return qm(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Fi(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(N_(o,d),Is(c,d))}this._attachedToViewContainer=!1}F_(this._lView[1],this._lView)}onDestroy(o){U0(this._lView[1],this._lView,null,o)}markForCheck(){ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Cd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function uy(s,o,c){io(!0);try{Cd(s,o,c)}finally{io(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tm(s,o){rm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class Wm extends qo{constructor(o){super(o),this._view=o}detectChanges(){cy(this._view)}checkNoChanges(){!function eu(s){io(!0);try{cy(s)}finally{io(!1)}}(this._view)}get context(){return null}}class Qy extends $d{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=Zt(o);return new fC(c,this.ngModule)}}function Zm(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class fC extends hS{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function _i(s){return s.map(nf).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Zm(this.componentDef.inputs)}get outputs(){return Zm(this.componentDef.outputs)}create(o,c,d,h){const m=(h=h||this.ngModule)?function VO(s,o){return{get:(c,d,h)=>{const m=s.get(c,Ky,h);return m!==Ky||d===Ky?m:o.get(c,d,h)}}}(o,h.injector):o,v=m.get(Zy,ta),C=m.get(cC,null),E=v.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",M=d?function V0(s,o,c){if(yn(s))return s.selectRootElement(o,c===Wt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(E,d,this.componentDef.encapsulation):hd(v.createRenderer(null,this.componentDef),x,function hC(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(x)),F=this.componentDef.onPush?576:528,j=function Ey(s,o){return{components:[],scheduler:s||M_,clean:vT,playerHandler:o||null,flags:0}}(),Y=dm(0,null,null,1,0,null,null,null,null,null),_e=uf(null,Y,j,F,null,null,v,E,C,m);let Ne,je;So(_e);try{const et=function vf(s,o,c,d,h,m){const v=c[1];c[20]=s;const E=yd(v,20,2,"#host",null),x=E.mergedAttrs=o.hostAttrs;null!==x&&(va(E,x,!0),null!==s&&(Xe(h,s,x),null!==E.classes&&sm(h,s,E.classes),null!==E.styles&&$_(h,s,E.styles)));const M=d.createRenderer(s,o),F=uf(c,L0(o),null,o.onPush?64:16,c[20],E,d,M,m||null,null);return v.firstCreatePass&&(ao(En(E,c),v,o.type),sy(v,E),ay(E,c.length,1)),pm(c,F),c[20]=F}(M,this.componentDef,_e,v,E);if(M)if(d)Xe(E,M,["ng-version",dC.full]);else{const{attrs:Se,classes:gt}=function z_(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&c.push(m);else{if(!Hi(h))break;h=m}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Se&&Xe(E,M,Se),gt&&gt.length>0&&sm(E,M,gt.join(" "))}if(je=Va(Y,20),void 0!==c){const Se=je.projection=[];for(let gt=0;gt<this.ngContentSelectors.length;gt++){const Jt=c[gt];Se.push(null!=Jt?Array.from(Jt):null)}}Ne=function ow(s,o,c,d,h){const m=c[1],v=function _T(s,o,c){const d=Cn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),fm(s,d,o,vd(s,o,1,null),c));const h=nr(o,s,d.directiveStart,d);Ui(h,o);const m=Ei(d,o);return m&&Ui(m,o),h}(m,c,o);if(d.components.push(v),s[8]=v,h&&h.forEach(E=>E(v,o)),o.contentQueries){const E=Cn();o.contentQueries(1,v,E.directiveStart)}const C=Cn();return!m.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(oo(C.index),el(c[1],C,0,C.directiveStart,C.directiveEnd,o),hm(o,v)),v}(et,this.componentDef,_e,j,[MT]),um(Y,_e,null)}finally{Ao()}return new HO(this.componentType,Ne,lu(je,_e),_e,je)}}class HO extends class NO{}{constructor(o,c,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new Wm(h),this.componentType=o}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class zd{}class pC{}const cu=new Map;class yC extends zd{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qy(this);const d=gn(o);this._bootstrapComponents=g(d.bootstrap),this._r3Injector=rs(o,c,[{provide:zd,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],he(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=Go.THROW_IF_NOT_FOUND,d=ht.Default){return o===Go||o===zd||o===gm?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jy extends pC{constructor(o){super(),this.moduleType=o,null!==gn(o)&&function gC(s){const o=new Set;!function c(d){const h=gn(d,!0),m=h.id;null!==m&&(function mC(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${he(o)} vs ${he(o.name)}`)}(m,cu.get(m),d),cu.set(m,d));const v=g(h.imports);for(const C of v)o.has(C)||(o.add(C),c(C))}(s)}(o)}create(o){return new yC(this.moduleType,o)}}function Ym(s,o,c,d){return function tv(s,o,c,d,h,m){const v=o+c;return yr(s,v,h)?ba(s,v+1,m?d.call(m,h):d(h)):Km(s,v+1)}(Ee(),gi(),s,o,c,d)}function vS(s,o,c,d,h){return function qd(s,o,c,d,h,m,v){const C=o+c;return function iu(s,o,c,d){const h=yr(s,o,c);return yr(s,o+1,d)||h}(s,C,h,m)?ba(s,C+2,v?d.call(v,h,m):d(h,m)):Km(s,C+2)}(Ee(),gi(),s,o,c,d,h)}function Km(s,o){const c=s[o];return c===At?void 0:c}function nv(s){return o=>{setTimeout(s,void 0,o)}}const Wo=class Rf extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,m,v;let C=o,E=c||(()=>null),x=d;if(o&&"object"==typeof o){const F=o;C=null===(h=F.next)||void 0===h?void 0:h.bind(F),E=null===(m=F.error)||void 0===m?void 0:m.bind(F),x=null===(v=F.complete)||void 0===v?void 0:v.bind(F)}this.__isAsync&&(E=nv(E),C&&(C=nv(C)),x&&(x=nv(x)));const M=super.subscribe({next:C,error:E,complete:x});return o instanceof K.w0&&o.add(M),M}};function IS(){return this._results[Sd()]()}class Qm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Sd(),d=Qm.prototype;d[c]||(d[c]=IS)}get changes(){return this._changes||(this._changes=new Wo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=xi(o);(this._changesDetected=!function Mc(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Jm=(()=>{class s{}return s.__NG_ELEMENT_ID__=Xm,s})();const SS=Jm,iv=class extends SS{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=uf(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(c)),um(c,d,o),new qo(d)}};function Xm(){return Of(Cn(),Ee())}function Of(s,o){return 4&s.type?new iv(o,s,lu(s,o)):null}let eg=(()=>{class s{}return s.__NG_ELEMENT_ID__=zO,s})();function zO(){return IC(Cn(),Ee())}const xS=eg,TC=class extends xS{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return lu(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const o=fr(this._hostTNode,this._hostLView);if(zu(o)){const c=Mr(o,this._hostLView),d=vn(o);return new Rr(c[1].data[d+8],c)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=Pf(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const h=o.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(o,c,d,h,m){const v=o&&!function ca(s){return"function"==typeof s}(o);let C;if(v)C=c;else{const F=c||{};C=F.index,d=F.injector,h=F.projectableNodes,m=F.ngModuleRef}const E=v?o:new fC(Zt(o)),x=d||this.parentInjector;if(!m&&null==E.ngModule){const j=(v?x:this.parentInjector).get(zd,null);j&&(m=j)}const M=E.create(x,h,void 0,m);return this.insert(M.hostView,C),M}insert(o,c){const d=o._lView,h=d[1];if(function Cl(s){return Fi(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const F=d[3],j=new TC(F,F[6],F[3]);j.detach(j.indexOf(o))}}const m=this._adjustIndex(c),v=this._lContainer;!function P_(s,o,c,d){const h=10+d,m=c.length;d>0&&(c[h-1][4]=o),d<m-10?(o[4]=c[h],kc(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function fd(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(h,d,v,m);const C=H_(m,v),E=d[11],x=tf(E,v[7]);return null!==x&&function ef(s,o,c,d,h,m){d[0]=h,d[6]=o,rm(s,d,c,1,h,m)}(h,v[6],E,d,x,C),o.attachToViewContainerRef(),kc(rv(v),m,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=Pf(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=N_(this._lContainer,c);d&&(Is(rv(this._lContainer),c),F_(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=N_(this._lContainer,c);return d&&null!=Is(rv(this._lContainer),c)?new qo(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function Pf(s){return s[8]}function rv(s){return s[8]||(s[8]=[])}function IC(s,o){let c;const d=o[s.index];if(Fi(d))c=d;else{let h;if(8&s.type)h=ln(d);else{const m=o[11];h=m.createComment("");const v=Ei(s,o);As(m,tf(m,v),h,function HD(s,o){return yn(s)?s.nextSibling(o):o.nextSibling}(m,v),!1)}o[s.index]=c=ly(d,o,h,s),pm(o,c)}return new TC(c,s,o)}class sv{constructor(o){this.queryList=o,this.matches=null}clone(){return new sv(this.queryList)}setDirty(){this.queryList.setDirty()}}class ov{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new ov(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==PS(o,c).matches&&this.queries[c].setDirty()}}class av{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class tg{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new tg(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class SC{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new SC(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,c,ZO(c,m)),this.matchTNodeWithReadOption(o,c,Es(c,o,m,!1,!1))}else d===Jm?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Es(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===al||h===eg||h===Jm&&4&c.type)this.addMatch(c.index,-2);else{const m=Es(c,o,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function ZO(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function KO(s,o,c,d){return-1===c?function YO(s,o){return 11&s.type?lu(s,o):4&s.type?Of(s,o):null}(o,s):-2===c?function QO(s,o,c){return c===al?lu(o,s):c===Jm?Of(o,s):c===eg?IC(o,s):void 0}(s,o,d):nr(s,s[1],c,o)}function MS(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const m=s.data,v=c.matches,C=[];for(let E=0;E<v.length;E+=2){const x=v[E];C.push(x<0?null:KO(o,m[x],v[E+1],c.metadata.read))}h.matches=C}return h.matches}function lv(s,o,c,d){const h=s.queries.getByIndex(c),m=h.matches;if(null!==m){const v=MS(s,o,h,c);for(let C=0;C<m.length;C+=2){const E=m[C];if(E>0)d.push(v[C/2]);else{const x=m[C+1],M=o[-E];for(let F=10;F<M.length;F++){const j=M[F];j[17]===j[3]&&lv(j[1],j,x,d)}if(null!==M[9]){const F=M[9];for(let j=0;j<F.length;j++){const Y=F[j];lv(Y[1],Y,x,d)}}}}}return d}function xC(s){const o=Ee(),c=Ut(),d=_c();yc(d+1);const h=PS(c,d);if(s.dirty&&eo(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?lv(c,o,d,[]):MS(c,o,h,d);s.reset(m,zm),s.notifyOnChanges()}return!0}return!1}function kS(s,o,c){const d=Ut();d.firstCreatePass&&(OS(d,new av(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),RS(d,Ee(),o)}function AC(s,o,c,d){const h=Ut();if(h.firstCreatePass){const m=Cn();OS(h,new av(o,c,d),m.index),function XO(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}RS(h,Ee(),c)}function Kl(){return function JO(s,o){return s[19].queries[o].queryList}(Ee(),_c())}function RS(s,o,c){const d=new Qm(4==(4&c));U0(s,o,d,d.destroy),null===o[19]&&(o[19]=new ov),o[19].queries.push(new sv(d))}function OS(s,o,c){null===s.queries&&(s.queries=new tg),s.queries.track(new SC(o,c))}function PS(s,o){return s.queries.getByIndex(o)}function ng(s,o){return Of(s,o)}function pu(...s){}const zS=new Nn("Application Initializer");let Cv=(()=>{class s{constructor(c){this.appInits=c,this.resolve=pu,this.reject=pu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(bw(m))c.push(m);else if(iI(m)){const v=new Promise((C,E)=>{m.subscribe({complete:C,error:E})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Ke(zS,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const OC=new Nn("AppId",{providedIn:"root",factory:function PC(){return`${Ev()}${Ev()}${Ev()}`}});function Ev(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NC=new Nn("Platform Initializer"),dg=new Nn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lf=new Nn("appBootstrapListener");let Tv=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Jd=new Nn("LocaleId",{providedIn:"root",factory:()=>Rt(Jd,ht.Optional|ht.SkipSelf)||function hg(){return"undefined"!=typeof $localize&&$localize.locale||Bm}()}),Iv=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class xv{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let Av=(()=>{class s{compileModuleSync(c){return new Jy(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=g(gn(c).declarations).reduce((v,C)=>{const E=Zt(C);return E&&v.push(new fC(E)),v},[]);return new xv(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qS=(()=>Promise.resolve(0))();function kv(s){"undefined"==typeof Zone?qS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Zo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wo(!1),this.onMicrotaskEmpty=new Wo(!1),this.onStable=new Wo(!1),this.onError=new Wo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function l1(){let s=zt.requestAnimationFrame,o=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function u1(s){const o=()=>{!function c1(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,UC(s),s.isCheckStableRunning=!0,VC(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),UC(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,m,v,C)=>{try{return ZS(s),c.invokeTask(h,m,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),YS(s)}},onInvoke:(c,d,h,m,v,C,E)=>{try{return ZS(s),c.invoke(h,m,v,C,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),YS(s)}},onHasTask:(c,d,h,m)=>{c.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,UC(s),VC(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,h,m)=>(c.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,WS,pu,pu);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const WS={};function VC(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function UC(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ZS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function YS(s){s._nesting--,VC(s)}class d1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wo,this.onMicrotaskEmpty=new Wo,this.onStable=new Wo,this.onError=new Wo}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}let KS=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zo.assertNotInAngularZone(),kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Ke(Zo))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Rv=(()=>{class s{constructor(){this._applications=new Map,Pv.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Pv.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Ov{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function Bf(s){Pv=s}let Os,Pv=new Ov;const QS=new Nn("AllowMultipleToken");class m1{constructor(o,c){this.name=o,this.token=c}}function JS(s,o,c=[]){const d=`Platform: ${o}`,h=new Nn(d);return(m=[])=>{let v=Yo();if(!v||v.injector.get(QS,!1))if(s)s(c.concat(m).concat({provide:h,useValue:!0}));else{const C=c.concat(m).concat({provide:h,useValue:!0},{provide:Ed,useValue:"platform"});!function Xd(s){if(Os&&!Os.destroyed&&!Os.injector.get(QS,!1))throw new Oe(400,"");Os=s.get(XS);const o=s.get(NC,null);o&&o.forEach(c=>c())}(Go.create({providers:C,name:d}))}return function fg(s){const o=Yo();if(!o)throw new Oe(401,"");return o}()}}function Yo(){return Os&&!Os.destroyed?Os:null}let XS=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const C=function HC(s,o){let c;return c="noop"===s?new d1:("zone.js"===s?void 0:s)||new Zo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Zo,useValue:C}];return C.run(()=>{const x=Go.create({providers:E,parent:this.injector,name:c.moduleType.name}),M=c.create(x),F=M.injector.get(Mi,null);if(!F)throw new Oe(402,"");return C.runOutsideAngular(()=>{const j=C.onError.subscribe({next:Y=>{F.handleError(Y)}});M.onDestroy(()=>{pg(this._modules,M),j.unsubscribe()})}),function ex(s,o,c){try{const d=c();return bw(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(F,C,()=>{const j=M.injector.get(Cv);return j.runInitializers(),j.donePromise.then(()=>(function HI(s){dt(s,"Expected localeId to be defined"),"string"==typeof s&&(Vr=s.toLowerCase().replace(/_/g,"-"))}(M.injector.get(Jd,Bm)||Bm),this._moduleDoBootstrap(M),M))})})}bootstrapModule(c,d=[]){const h=tx({},d);return function h1(s,o,c){const d=new Jy(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(c){const d=c.injector.get(Nv);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Oe(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Ke(Go))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function tx(s,o){return Array.isArray(o)?o.reduce(tx,s):Object.assign(Object.assign({},s),o)}let Nv=(()=>{class s{constructor(c,d,h,m){this._zone=c,this._injector=d,this._exceptionHandler=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new N.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),C=new N.y(E=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Zo.assertNotInAngularZone(),kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{x.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ae.T)(v,C.pipe((0,te.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Oe(405,"");let h;h=c instanceof hS?c:this._injector.get($d).resolveComponentFactory(c),this.componentTypes.push(h.componentType);const m=function p1(s){return s.isBoundToModule}(h)?void 0:this._injector.get(zd),C=h.create(Go.NULL,[],d||h.selector,m),E=C.location.nativeElement,x=C.injector.get(KS,null),M=x&&C.injector.get(Rv);return x&&M&&M.registerApplication(E,x),C.onDestroy(()=>{this.detachView(C.hostView),pg(this.components,C),M&&M.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;pg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Lf,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(Ke(Zo),Ke(Go),Ke(Mi),Ke(Cv))},s.\u0275prov=sn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function pg(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let GC=!0,$C=!1;function Fv(){return $C=!0,GC}function g1(){if($C)throw new Error("Cannot enable prod mode after platform setup.");GC=!1}let y1=(()=>{class s{}return s.__NG_ELEMENT_ID__=ix,s})();function ix(s){return function Lv(s,o,c){if(Ys(s)&&!c){const d=Di(s.index,o);return new qo(d,d)}return 47&s.type?new qo(o[16],o):null}(Cn(),Ee(),16==(16&s))}class WC{constructor(){}supports(o){return xd(o)}create(o){return new ux(o)}}const Uv=(s,o)=>o;class ux{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Uv}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<YC(d,h,m)?c:d,C=YC(v,h,m),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{m||(m=[]);const x=C-h,M=E-h;if(x!=M){for(let j=0;j<x;j++){const Y=j<m.length?m[j]:m[j]=0,_e=Y+j;M<=_e&&_e<x&&(m[j]=Y+1)}m[v.previousIndex]=M-x}}C!==E&&o(v,C,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!xd(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)m=o[C],v=this._trackByFn(C,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,C)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,C),d=!0),c=c._next}else h=0,function LT(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Sd()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(h,C),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,C,v,h)),Object.is(c.item,C)||this._addIdentityChange(c,C)):(c=this._mismatch(c,C,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,m,h)):o=this._addAfter(new E1(c,d),m,h),o}_verifyReinsertion(o,c,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new ZC),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class E1{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class dx{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class ZC{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new dx,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YC(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Hf{constructor(){}supports(o){return o instanceof Map||Tm(o)}create(){return new Hv}}class Hv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Tm(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new KC(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class KC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function QC(){return new yg([new WC])}let yg=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||QC()),deps:[[s,new Po,new gr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Oe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:QC}),s})();function JC(){return new jv([new Hf])}let jv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||JC()),deps:[[s,new Po,new gr]]}}find(c){const d=this.factories.find(m=>m.supports(c));if(d)return d;throw new Oe(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:JC}),s})();const fx=JS(null,"core",[]);let XC=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Ke(Nv))},s.\u0275mod=J({type:s}),s.\u0275inj=tn({}),s})()},3942:(at,De,P)=>{P.d(De,{Z:()=>Oe});var l=P(2090),K=P(4859),N=P(9681),ae=P(1877);class te{constructor(fe,we){this._delegate=fe,this.firebase=we,(0,N._addComponent)(fe,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=fe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this._delegate.automaticDataCollectionEnabled=fe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(fe=>{this._delegate.checkDestroyed(),fe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(fe,we=N._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const We=this._delegate.container.getProvider(fe);return!We.isInitialized()&&"EXPLICIT"===(null===(Je=We.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&We.initialize(),We.getImmediate({identifier:we})}_removeServiceInstance(fe,we=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(fe).clearInstance(we)}_addComponent(fe){(0,N._addComponent)(this._delegate,fe)}_addOrOverwriteComponent(fe){(0,N._addOrOverwriteComponent)(this._delegate,fe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ce(){const Le=function he(Le){const fe={},we={__esModule:!0,initializeApp:function Te(Ue,ie={}){const W=N.initializeApp(Ue,ie);if((0,l.r3)(fe,W.name))return fe[W.name];const re=new Le(W,we);return fe[W.name]=re,re},app:We,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function be(Ue){const ie=Ue.name,W=ie.replace("-compat","");if(N._registerComponent(Ue)&&"PUBLIC"===Ue.type){const re=(ge=We())=>{if("function"!=typeof ge[W])throw Q.create("invalid-app-argument",{appName:ie});return ge[W]()};void 0!==Ue.serviceProps&&(0,l.ZB)(re,Ue.serviceProps),we[W]=re,Le.prototype[W]=function(...ge){return this._getService.bind(this,ie).apply(this,Ue.multipleInstances?ge:[])}}return"PUBLIC"===Ue.type?we[W]:null},removeApp:function Je(Ue){delete fe[Ue]},useAsService:function He(Ue,ie){return"serverAuth"===ie?null:ie},modularAPIs:N}};function We(Ue){if(!(0,l.r3)(fe,Ue=Ue||N._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:Ue});return fe[Ue]}return we.default=we,Object.defineProperty(we,"apps",{get:function ye(){return Object.keys(fe).map(Ue=>fe[Ue])}}),We.App=Le,we}(te);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function fe(we){(0,l.ZB)(Le,we)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Le}(),$=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=G;!function xe(Le){(0,N.registerVersion)("@firebase/app-compat","0.1.22",Le)}()},9681:(at,De,P)=>{P.r(De),P.d(De,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Pi,_DEFAULT_ENTRY_NAME:()=>Bn,_addComponent:()=>pn,_addOrOverwriteComponent:()=>Sr,_apps:()=>_t,_clearComponents:()=>qt,_components:()=>fn,_getProvider:()=>us,_registerComponent:()=>sn,_removeServiceInstance:()=>tn,deleteApp:()=>hs,getApp:()=>Ni,getApps:()=>ds,initializeApp:()=>Zr,onLog:()=>ri,registerVersion:()=>Yi,setLogLevel:()=>Qn});var l=P(5861),K=P(4859),N=P(1877),ae=P(2090);class te{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Ye=>{if(function me(Ze){const Ie=Ze.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Ye)){const pt=Ye.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(Ye=>Ye).join(" ")}}const Q="@firebase/app",ce=new N.Yd("@firebase/app"),Bn="[DEFAULT]",dt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,fn=new Map;function pn(Ze,Ie){try{Ze.container.addComponent(Ie)}catch(Ye){ce.debug(`Component ${Ie.name} failed to register with FirebaseApp ${Ze.name}`,Ye)}}function Sr(Ze,Ie){Ze.container.addOrOverwriteComponent(Ie)}function sn(Ze){const Ie=Ze.name;if(fn.has(Ie))return ce.debug(`There were multiple attempts to register component ${Ie}.`),!1;fn.set(Ie,Ze);for(const Ye of _t.values())pn(Ye,Ze);return!0}function us(Ze,Ie){const Ye=Ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ye&&Ye.triggerHeartbeat(),Ze.container.getProvider(Ie)}function tn(Ze,Ie,Ye=Bn){us(Ze,Ie).clearInstance(Ye)}function qt(){fn.clear()}const ar=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class $s{constructor(Ie,Ye,pt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Ye),this._name=Ye.name,this._automaticDataCollectionEnabled=Ye.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const Pi="9.6.11";function Zr(Ze,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Ye=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},Ie),pt=Ye.name;if("string"!=typeof pt||!pt)throw ar.create("bad-app-name",{appName:String(pt)});const jt=_t.get(pt);if(jt){if((0,ae.vZ)(Ze,jt.options)&&(0,ae.vZ)(Ye,jt.config))return jt;throw ar.create("duplicate-app",{appName:pt})}const Vt=new K.H0(pt);for(const V of fn.values())Vt.addComponent(V);const H=new $s(Ze,Ye,Vt);return _t.set(pt,H),H}function Ni(Ze=Bn){const Ie=_t.get(Ze);if(!Ie)throw ar.create("no-app",{appName:Ze});return Ie}function ds(){return Array.from(_t.values())}function hs(Ze){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.Z)(function*(Ze){const Ie=Ze.name;_t.has(Ie)&&(_t.delete(Ie),yield Promise.all(Ze.container.getProviders().map(Ye=>Ye.delete())),Ze.isDeleted=!0)})).apply(this,arguments)}function Yi(Ze,Ie,Ye){var pt;let jt=null!==(pt=dt[Ze])&&void 0!==pt?pt:Ze;Ye&&(jt+=`-${Ye}`);const Vt=jt.match(/\s|\//),H=Ie.match(/\s|\//);if(Vt||H){const V=[`Unable to register library "${jt}" with version "${Ie}":`];return Vt&&V.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),Vt&&H&&V.push("and"),H&&V.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ce.warn(V.join(" "))}sn(new K.wA(`${jt}-version`,()=>({library:jt,version:Ie}),"VERSION"))}function ri(Ze,Ie){if(null!==Ze&&"function"!=typeof Ze)throw ar.create("invalid-log-argument");(0,N.Am)(Ze,Ie)}function Qn(Ze){(0,N.Ub)(Ze)}const wn="firebase-heartbeat-store";let si=null;function zs(){return si||(si=(0,ae.X3)("firebase-heartbeat-database",1,(Ze,Ie)=>{0===Ie&&Ze.createObjectStore(wn)}).catch(Ze=>{throw ar.create("storage-open",{originalErrorMessage:Ze.message})})),si}function Wt(){return(Wt=(0,l.Z)(function*(Ze){try{return(yield zs()).transaction(wn).objectStore(wn).get(hi(Ze))}catch(Ie){throw ar.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function st(Ze,Ie){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,l.Z)(function*(Ze,Ie){try{const pt=(yield zs()).transaction(wn,"readwrite");return yield pt.objectStore(wn).put(Ie,hi(Ze)),pt.complete}catch(Ye){throw ar.create("storage-set",{originalErrorMessage:Ye.message})}})).apply(this,arguments)}function hi(Ze){return`${Ze.name}!${Ze.options.appId}`}class bo{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Ye=this.container.getProvider("app").getImmediate();this._storage=new ft(Ye),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Ie=this;return(0,l.Z)(function*(){const pt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=bi();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Ie._heartbeatsCache.heartbeats.some(Vt=>Vt.date===jt))return Ie._heartbeatsCache.heartbeats.push({date:jt,agent:pt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Vt=>{const H=new Date(Vt.date).valueOf();return Date.now()-H<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,l.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Ye=bi(),{heartbeatsToSend:pt,unsentEntries:jt}=function fi(Ze,Ie=1024){const Ye=[];let pt=Ze.slice();for(const jt of Ze){const Vt=Ye.find(H=>H.agent===jt.agent);if(Vt){if(Vt.dates.push(jt.date),wi(Ye)>Ie){Vt.dates.pop();break}}else if(Ye.push({agent:jt.agent,dates:[jt.date]}),wi(Ye)>Ie){Ye.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:Ye,unsentEntries:pt}}(Ie._heartbeatsCache.heartbeats),Vt=(0,ae.L)(JSON.stringify({version:2,heartbeats:pt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Ye,jt.length>0?(Ie._heartbeatsCache.heartbeats=jt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Vt})()}}function bi(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,l.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function Oa(Ze){return Wt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Ye=this;return(0,l.Z)(function*(){var pt;if(yield Ye._canUseIndexedDBPromise){const Vt=yield Ye.read();return st(Ye.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Vt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Ye=this;return(0,l.Z)(function*(){var pt;if(yield Ye._canUseIndexedDBPromise){const Vt=yield Ye.read();return st(Ye.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Ie.heartbeats]})}})()}}function wi(Ze){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ze})).length}!function Ht(Ze){sn(new K.wA("platform-logger",Ie=>new te(Ie),"PRIVATE")),sn(new K.wA("heartbeat",Ie=>new bo(Ie),"PRIVATE")),Yi(Q,"0.7.21",Ze),Yi(Q,"0.7.21","esm2017"),Yi("fire-js","")}("")},4859:(at,De,P)=>{P.d(De,{H0:()=>he,wA:()=>N});var l=P(5861),K=P(2090);class N{constructor(G,$,X){this.name=G,this.instanceFactory=$,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const ae="[DEFAULT]";class te{constructor(G,$){this.name=G,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const $=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has($)){const X=new K.BH;if(this.instancesDeferred.set($,X),this.isInitialized($)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:$});ze&&X.resolve(ze)}catch(ze){}}return this.instancesDeferred.get($).promise}getImmediate(G){var $;const X=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),ze=null!==($=null==G?void 0:G.optional)&&void 0!==$&&$;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(xe){if(ze)return null;throw xe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function Q(ce){return"EAGER"===ce.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:ae})}catch($){}for(const[$,X]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier($);try{const xe=this.getOrInitializeService({instanceIdentifier:ze});X.resolve(xe)}catch(xe){}}}}clearInstance(G=ae){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const $=Array.from(G.instances.values());yield Promise.all([...$.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...$.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=ae){return this.instances.has(G)}getOptions(G=ae){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:$={}}=G,X=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:X,options:$});for(const[xe,Oe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(xe)&&Oe.resolve(ze);return ze}onInit(G,$){var X;const ze=this.normalizeInstanceIdentifier($),xe=null!==(X=this.onInitCallbacks.get(ze))&&void 0!==X?X:new Set;xe.add(G),this.onInitCallbacks.set(ze,xe);const Oe=this.instances.get(ze);return Oe&&G(Oe,ze),()=>{xe.delete(G)}}invokeOnInitCallbacks(G,$){const X=this.onInitCallbacks.get($);if(X)for(const ze of X)try{ze(G,$)}catch(xe){}}getOrInitializeService({instanceIdentifier:G,options:$={}}){let X=this.instances.get(G);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=G,ce===ae?void 0:ce),options:$}),this.instances.set(G,X),this.instancesOptions.set(G,$),this.invokeOnInitCallbacks(X,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,X)}catch(ze){}var ce;return X||null}normalizeInstanceIdentifier(G=ae){return this.component?this.component.multipleInstances?G:ae:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const $=this.getProvider(G.name);if($.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);$.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const $=new te(G,this);return this.providers.set(G,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(at,De,P)=>{P.d(De,{Am:()=>ce,Ub:()=>he,Yd:()=>Q,in:()=>K});const l=[];var K=(()=>{return(G=K||(K={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",K;var G})();const N={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},ae=K.INFO,te={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},me=(G,$,...X)=>{if($<G.logLevel)return;const ze=(new Date).toISOString(),xe=te[$];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[xe](`[${ze}]  ${G.name}:`,...X)};class Q{constructor($){this.name=$,this._logLevel=ae,this._logHandler=me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in K))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?N[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...$),this._logHandler(this,K.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...$),this._logHandler(this,K.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,K.INFO,...$),this._logHandler(this,K.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,K.WARN,...$),this._logHandler(this,K.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...$),this._logHandler(this,K.ERROR,...$)}}function he(G){l.forEach($=>{$.setLogLevel(G)})}function ce(G,$){for(const X of l){let ze=null;$&&$.level&&(ze=N[$.level]),X.userLogHandler=null===G?null:(xe,Oe,...Le)=>{const fe=Le.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(Je){return null}}).filter(we=>we).join(" ");Oe>=(null!=ze?ze:xe.logLevel)&&G({level:K[Oe].toLowerCase(),message:fe,args:Le,type:xe.name})}}}},5861:(at,De,P)=>{function l(N,ae,te,me,Q,he,ce){try{var G=N[he](ce),$=G.value}catch(X){return void te(X)}G.done?ae($):Promise.resolve($).then(me,Q)}function K(N){return function(){var ae=this,te=arguments;return new Promise(function(me,Q){var he=N.apply(ae,te);function ce($){l(he,me,Q,ce,G,"next",$)}function G($){l(he,me,Q,ce,G,"throw",$)}ce(void 0)})}}P.d(De,{Z:()=>K})}},at=>{at(at.s=8913)}]);